!function(e,t){if("function"==typeof define&&define.amd)define(["underscore","backbone"],function(e,n){t(e,n)});else if("undefined"!=typeof exports&&"function"==typeof require){var n=require("underscore"),r=require("backbone");t(n,r)}else t(e._,e.Backbone)}(this,function(e,t){t.Model.extend=t.Collection.extend=t.Router.extend=t.View.extend=function(e,t){var n=i(this,e,t);return n.extend=this.extend,n};var n=/\b_super\b/,r=function(e,t,n){var r=function(){var r,o=this._super;this._super=e[t]||function(e){throw"Super does not implement this method: "+e}(t);try{r=n.apply(this,arguments)}finally{this._super=o}return r};for(var o in n)r[o]=n[o],delete n[o];return r},o=function(){},i=function(t,i,u){var p,f=t.prototype;if(p=i&&i.hasOwnProperty("constructor")?i.constructor:function(){return t.apply(this,arguments)},e.extend(p,t,u),o.prototype=f,p.prototype=new o,i)for(var c in e.extend(p.prototype,i),i)"function"==typeof i[c]&&n.test(i[c])&&(p.prototype[c]=r(f,c,i[c]));return u&&e.extend(p,u),p.prototype.constructor=p,p.__super__=f,p};return i});