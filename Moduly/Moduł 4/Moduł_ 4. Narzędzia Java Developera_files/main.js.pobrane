App.Views.Dates=Backbone.View.extend({config:{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",weekday:"long",locale:function(){switch(window.locale){case"no":return"nb";case"uk":return"en";default:return window.locale}},defaultHour:"12:00",zone:"Europe/Warsaw",acceptedFormats:["DD.MM.YYYY HH:mm:ss","YYYY-MM-DD HH:mm:ss Z"]},timeToLocal:function(a,b){var c=App.Views.Dates.prototype.config;moment.locale(c.locale());var d=moment.tz(a,c.acceptedFormats,c.zone),e=moment.tz(d.toDate(),moment.tz.guess());return!!e.isValid()&&{moment:e,formatted:e.format(b),offset:e.format("Z"),tz:e.format("zz")}},addTooltip:function(a,b){if(isDifferentZone){var c="string"==typeof a?moment(a).format("Z"):a.offset,d="string"==typeof a?moment(a).format("zz"):a.tz,e=window.dateTooltipText,f=e.replace("GMT",d+" (GMT&nbsp;"+c+")"),g=b&&window.hasWrongTime?"tooltip-date-alert":"",h=window.hasWrongTime?"<br><br><span data-alert>"+window.wrongHourNotice+"</span>":"";return' <i class="tooltip-date '+g+' " data-toggle="tooltip" data-placement="top" data-html="true" title="'+f+h+'" data-offset="5px 0"></i>'}return!1}}),_.mixin({isMicrosoftBrowser:function(){return/MSIE/i.test(navigator.userAgent)||/Edge/i.test(navigator.userAgent)||/Trident/i.test(navigator.userAgent)},cescape:function(a,b){return b?a.replace(/<c>(.*?)<\/c>/g,function(){return"<c>"+_.escape(arguments[1])+"</c>"}).replace(/<c class="block">(.*?)<\/c>/g,function(){return'<c class="block">'+_.escape(arguments[1])+"</c>"}):urlize(a,{target:"_blank",autoescape:!0}).replace(/&lt;c&gt;/g,"<c>").replace(/&lt;c class=&quot\;block&quot;&gt;/g,'<c class="block">').replace(/&lt;\/c&gt;/g,"</c>").replace(/```([\s\S]*?)```/g,function(){return'<c class="block">'+arguments[1]+"</c>"}).replace(/`(.*?)`/g,function(){return"<c>"+arguments[1]+"</c>"})},browser:function(){var a=navigator.appVersion,b="unknown",c=function(){var b=navigator.userAgent,c=b.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[],d=void 0;return/trident/i.test(c[1])?(d=/\brv[ :]+(\d+)/g.exec(b)||[],{browser:"IE",version:d[1]||""}):"Chrome"===c[1]&&(d=b.match(/\bOPR\/(\d+)/),null!==d)?{browser:"Opera",version:d[1]}:(c=c[2]?[c[1],c[2]]:[navigator.appName,a,"-?"],null!==(d=b.match(/version\/(\d+)/i))&&c.splice(1,1,d[1]),{name:c[0],version:c[1]})}();switch(!0){case a.indexOf("Win")>-1:b="Windows";break;case a.indexOf("Mac")>-1:b="MacOS";break;case a.indexOf("X11")>-1:b="UNIX";break;case a.indexOf("Linux")>-1:b="Linux"}return c.os=b,c}}),App.Views.Main=Backbone.View.extend({events:{'click [data-toggle="modal"]':"modalToggleFix","click .tabs>a":"toggleTab","click .select-box":"toggleDropdown","click .select-box>li":"pickUpDropdownOption","mouseleave .select-box":"closeExpandedDropdown",'click [data-action="show-details"]':"showDetails",'change input[type="checkbox"][data-custom-message]':"checkIfIsValid","click .cookies-prompt .cookies-submit":"cookiePolicyAccept","click .mobile-menu-separator":"mobileNavCollapse","click .dropdown-toggle":"mobileNavCollapse","click .smooth-scroll":"anchorSmoothScroll"},initialize:function(){this.scrollToBasicPosition(),this.$('[data-toggle="popover"]').popover(),this.$('[data-toggle="tooltip"]').tooltip(),this.ajaxSetup(),this.customizeValidateMessage(),this.$(".lessons h2").prev().addClass("bottom-border-radius"),this.updateTime(),this.initResponsiveNav(),this.alignLastSubmenu()},mobileNavCollapse:function(a){var b=$(a.currentTarget),c=$(".nav-group"),d=$(".dropdown-toggle").closest(".nav-item"),e=b.closest(".nav-item"),f=b.next("ul"),g=c.find("ul"),h=d.find("ul"),i=e.hasClass("open");g.slideUp(),h.slideUp(),c.removeClass("open"),d.removeClass("open"),i||(f.slideDown(),e.addClass("open"))},responsiveNav:function(){if(window.innerWidth>768){var a=$(".navbar-main.light"),b=a.find(".container"),c=a.find(".navbar-brand"),d=a.find("#navbar-main");a.removeClass("collapsed");var e=d.outerWidth(),f=c.width(),g=b.width(),h=g-f;e>h&&a.addClass("collapsed")}},initResponsiveNav:function(){this.responsiveNav(),$(window).on("resize",this.responsiveNav)},alignLastSubmenu:function(){$(".nav-item:visible:last").addClass("nav-item-last")},showDetails:function(a){a.preventDefault();var b=$(a.currentTarget),c=b.next(),d=b.data("identifier");c.length>0?c.removeClass("display-none"):$('[data-identifier="'+d+'"]').removeClass("display-none"),b.remove()},ajaxSetup:function(){$.ajaxSetup({success:function(a){a&&a.redirect&&window.location.replace(a.redirect),a&&a.message&&App.alertsView.showSuccess(a)}}),$.ajaxPrefilter(function(a,b,c){c.setRequestHeader("X-CSRF-TOKEN",$('meta[name="csrf-token"]').attr("content"));var d=a.error;a.error=function(a){var c=a.responseJSON||{};return c.token?($('meta[name="csrf-token"]').attr("content",c.token),$.ajax(b)):void(d&&d.apply(this,arguments)||(c.redirect&&window.location.replace(c.redirect),422!=c.status&&403!=c.status||App.alertsView.showErrors(c.responseJSON),422==a.status&&App.alertsView.showErrors(c)))}})},modalToggleFix:function(){var a=this;setTimeout(function(){a.$el.addClass("modal-open")},1e3)},toggleTab:function(a){if(!$(a.currentTarget).hasClass("active")){this.$(".tabs>a").removeClass("active"),this.$(".tab-content").removeClass("active"),$(a.currentTarget).addClass("active");var b="#"+$(a.currentTarget).data("tab");this.$(b).addClass("active")}},toggleDropdown:function(a){$(a.currentTarget).toggleClass("expand")},pickUpDropdownOption:function(a){var b=$(a.currentTarget).text(),c=$(a.currentTarget).parent(),d=c.children("input"),e=c.children("li:eq(0)");e.text(b),d.val(b)},closeExpandedDropdown:function(a){$(a.currentTarget).removeClass("expand")},scrollToBasicPosition:function(){if(this.el.hasAttribute("data-basic-position")){var a=this.$el.data("basic-position");""!==a&&$("html, body").scrollTop($(a).offset().top-$(".bootcamp-nav").height())}},customizeValidateMessage:function(){for(var a=$("input[data-custom-message]"),b=0;b<a.length;b++)a[b].setCustomValidity(a[b].getAttribute("data-custom-message"))},checkIfIsValid:function(a){var b=$(a.currentTarget);return b.prop("checked")||"required"!==b.attr("required")?a.currentTarget.setCustomValidity(""):a.currentTarget.setCustomValidity(a.currentTarget.getAttribute("data-custom-message"))},cookiePolicyAccept:function(a){a.preventDefault(),Cookies.set("cookiePolicy","accepted",{expires:3650}),$(".cookies-prompt").addClass("accepted")},updateTime:function(){$(document).ready(function(){momentReady(function(){$("time").updateElementTime()},function(){$("time").addClass("transformed failed")})})},anchorSmoothScroll:function(a){a.preventDefault();var b=a.currentTarget;if(""!==b.hash){a.preventDefault();var c=b.hash;$("html, body").animate({scrollTop:$(c).offset().top},800,function(){window.location.hash=c})}}}),function(a){a.fn.updateElementTime=function(){return this.each(function(){var b=a(this),c=b.prop("tagName").toLowerCase();switch(c){case"time":var d=b.attr("datetime"),e=b.data("date"),f=b.data("notooltip"),g=void 0!==b.data("markalert"),h=d?d:e,i=b.data("format");if(h&&moment){var j=App.Views.Dates.prototype.timeToLocal(h,i);if(j){if(b.wrap('<span class="time-wrapper"></span>').addClass("transformed").html(j.formatted),void 0===f){var k=App.Views.Dates.prototype.addTooltip(j,g);b.after(k).next("i").tooltip()}}else b.addClass("transformed failed")}else b.addClass("transformed failed")}})}}(jQuery);