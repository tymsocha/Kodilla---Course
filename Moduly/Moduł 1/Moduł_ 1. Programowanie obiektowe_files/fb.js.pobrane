var Facebook={scopes:"email, user_birthday",fields:"name, first_name, last_name, email, birthday",$currentButton:null,$currentForm:null,overwrite:!1,triggerButton:function(){return $('[data-sign-up="fb"]')},handleLoginStatus:function(a){switch(a){case"connected":return Facebook.handleConnected();case"not_authorized":default:return Facebook.handleLogin()}},handleConnected:function(){Facebook.fillForm()},handleLogin:function(){FB.login(function(a){Facebook.handleLoginStatus(a.status)},{scope:Facebook.scopes})},fillForm:function(){FB.api("/me?fields="+Facebook.fields,function(a){if(a&&!a.error){if(Facebook.$currentForm=Facebook.$currentButton.closest("form"),Facebook.$currentForm.length&&(Facebook.fillInput("name",a.name?a.name:""),Facebook.fillInput("firstName",a.first_name?a.first_name:""),Facebook.fillInput("lastName",a.last_name?a.last_name:""),Facebook.fillInput("email",a.email?a.email:""),Facebook.fillInput("phone",a.phone?a.phone:""),a.birthday)){var b=new Date(a.birthday);Facebook.fillInput("birthdate",b.getFullYear())}Facebook.$currentButton.fadeOut(),dataLayer.push({event:"facebook-fill-click",overwrite:Facebook.overwrite})}})},fillInput:function(a,b){var c=Facebook.$currentForm.find('input[name="'+a+'"]');c.length&&!c.val()?c.val(b):c.length&&Facebook.overwrite===!1&&(Facebook.overwrite=!0)},init:function(){Facebook.triggerButton().on("click",function(a){a.preventDefault(),Facebook.$currentButton=$(this),Facebook.handleLogin()})}};$(document).ready(function(){Facebook.init()});