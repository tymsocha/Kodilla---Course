var Facebook={scopes:"email, user_birthday",fields:"name, first_name, last_name, email, birthday",$currentButton:null,$currentForm:null,overwrite:!1,triggerButton:function(){return $('[data-sign-up="fb"]')},handleLoginStatus:function(e){switch(e){case"connected":return Facebook.handleConnected();case"not_authorized":default:return Facebook.handleLogin()}},handleConnected:function(){Facebook.fillForm()},handleLogin:function(){FB.login(function(e){Facebook.handleLoginStatus(e.status)},{scope:Facebook.scopes})},fillForm:function(){FB.api("/me?fields="+Facebook.fields,function(e){if(e&&!e.error){if(Facebook.$currentForm=Facebook.$currentButton.closest("form"),Facebook.$currentForm.length&&(Facebook.fillInput("name",e.name?e.name:""),Facebook.fillInput("firstName",e.first_name?e.first_name:""),Facebook.fillInput("lastName",e.last_name?e.last_name:""),Facebook.fillInput("email",e.email?e.email:""),Facebook.fillInput("phone",e.phone?e.phone:""),e.birthday)){var o=new Date(e.birthday);Facebook.fillInput("birthdate",o.getFullYear())}Facebook.$currentButton.fadeOut(),dataLayer.push({event:"facebook-fill-click",overwrite:Facebook.overwrite})}})},fillInput:function(e,o){var n=Facebook.$currentForm.find('input[name="'+e+'"]');n.length&&!n.val()?n.val(o):n.length&&!1===Facebook.overwrite&&(Facebook.overwrite=!0)},init:function(){Facebook.triggerButton().on("click",function(e){e.preventDefault(),Facebook.$currentButton=$(this),Facebook.handleLogin()})}};$(document).ready(function(){Facebook.init()});