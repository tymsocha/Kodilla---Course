!function(e,t,n){var o,a="https://connect.facebook.net/"+("pl"===window.locale?"pl_PL":"en_US")+"/sdk"+(useMessenger?"/xfbml.customerchat":"")+".js",i=e.getElementsByTagName(t)[0];e.getElementById(n)||((o=e.createElement(t)).id=n,o.src=a,i.parentNode.insertBefore(o,i))}(document,"script","facebook-jssdk"),window.fbAsyncInit=function(){var e=document.getElementsByTagName("body")[0],t=function(){var e=document.getElementById("messenger-external-link");e&&"none"!==window.getComputedStyle(e).display&&FB.CustomerChat&&FB.CustomerChat.hideDialog()};FB.init({appId:window.fbAppId,xfbml:!1,version:"v2.12"}),FB.Event.subscribe("customerchat.dialogShow",function(){e.classList.add("chat-open")}),FB.Event.subscribe("customerchat.dialogHide",function(){e.classList.remove("chat-open"),e.classList.add("notification-content--visible")}),FB.XFBML.parse(e,function(){useMessenger&&(document.getElementById("call-us")&&CallUs&&setTimeout(CallUs.addBodyClassMessenger,1e3),e.classList.add("chat-enabled","chat-messenger"))}),useMessenger&&(t(),window.addEventListener("resize",function(){t()}))};var Facebook={scopes:"email, user_birthday",fields:"name, first_name, last_name, email, birthday",$currentButton:null,$currentForm:null,overwrite:!1,triggerButton:function(){return $('[data-sign-up="fb"]')},handleLoginStatus:function(e){switch(e){case"connected":return Facebook.handleConnected();case"not_authorized":default:return Facebook.handleLogin()}},handleConnected:function(){Facebook.fillForm()},handleLogin:function(){FB.login(function(e){Facebook.handleLoginStatus(e.status)},{scope:Facebook.scopes})},fillForm:function(){FB.api("/me?fields="+Facebook.fields,function(e){if(e&&!e.error){if(Facebook.$currentForm=Facebook.$currentButton.closest("form"),Facebook.$currentForm.length&&(Facebook.fillInput("name",e.name?e.name:""),Facebook.fillInput("firstName",e.first_name?e.first_name:""),Facebook.fillInput("lastName",e.last_name?e.last_name:""),Facebook.fillInput("email",e.email?e.email:""),Facebook.fillInput("phone",e.phone?e.phone:""),e.birthday)){var t=new Date(e.birthday);Facebook.fillInput("birthdate",t.getFullYear())}Facebook.$currentButton.fadeOut(),dataLayer.push({event:"facebook-fill-click",overwrite:Facebook.overwrite})}})},fillInput:function(e,t){var n=Facebook.$currentForm.find('input[name="'+e+'"]');n.length&&!n.val()?n.val(t):n.length&&!1===Facebook.overwrite&&(Facebook.overwrite=!0)},init:function(){Facebook.triggerButton().on("click",function(e){e.preventDefault(),Facebook.$currentButton=$(this),Facebook.handleLogin()})}};$(document).ready(function(){Facebook.init()});