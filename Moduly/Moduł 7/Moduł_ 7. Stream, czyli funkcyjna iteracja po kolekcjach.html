<!DOCTYPE html>
<!-- saved from url=(0050)https://kodilla.com/pl/bootcamp-module/146/82/3774 -->
<html lang="pl" class=""><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
        
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <meta name="csrf-token" content="BrRKCYdhNsaFXDnyEPi2dCQevELCrN2yNb1Rprgo">

        <link rel="apple-touch-icon" type="image/png" sizes="60x60" href="https://kodilla.com/static/img/icons/apple-touch-icon-60x60.png?00000">
        <link rel="apple-touch-icon" type="image/png" sizes="76x76" href="https://kodilla.com/static/img/icons/apple-touch-icon-76x76.png?00000">
        <link rel="apple-touch-icon" type="image/png" sizes="120x120" href="https://kodilla.com/static/img/icons/apple-touch-icon-120x120.png?00000">
        <link rel="apple-touch-icon" type="image/png" sizes="152x152" href="https://kodilla.com/static/img/icons/apple-touch-icon-152x152.png?00000">
        <link rel="icon" type="image/png" sizes="32x32" href="https://kodilla.com/static/img/icons/favicon-32x32.png?92a76">
        <link rel="icon" type="image/png" sizes="96x96" href="https://kodilla.com/static/img/icons/favicon-96x96.png?49799">
        <link rel="icon" type="image/png" sizes="16x16" href="https://kodilla.com/static/img/icons/favicon-16x16.png?4d37e">

        
        <link rel="canonical" href="https://kodilla.com/pl/bootcamp-module/146/82/3774">
        <title>    Moduł: 7. Stream, czyli funkcyjna iteracja po kolekcjach
</title>
                        <meta name="robots" content="noindex, follow">
        
        <link href="./Moduł_ 7. Stream, czyli funkcyjna iteracja po kolekcjach_files/bootstrap.min.css" rel="stylesheet">
        <link href="./Moduł_ 7. Stream, czyli funkcyjna iteracja po kolekcjach_files/font-awesome.min.css" rel="stylesheet">
        <link href="./Moduł_ 7. Stream, czyli funkcyjna iteracja po kolekcjach_files/main.css" rel="stylesheet" type="text/css">

                
    <link href="./Moduł_ 7. Stream, czyli funkcyjna iteracja po kolekcjach_files/prism.min.css" rel="stylesheet">

    <link href="./Moduł_ 7. Stream, czyli funkcyjna iteracja po kolekcjach_files/bootcamp.css" rel="stylesheet" type="text/css">
    <link rel="stylesheet" href="./Moduł_ 7. Stream, czyli funkcyjna iteracja po kolekcjach_files/perfect-scrollbar.css">
    <link rel="stylesheet" href="./Moduł_ 7. Stream, czyli funkcyjna iteracja po kolekcjach_files/jquery.fancybox.min.css" type="text/css" media="screen">
        <script type="text/javascript" async="" src="./Moduł_ 7. Stream, czyli funkcyjna iteracja po kolekcjach_files/js"></script><script type="text/javascript" async="" src="./Moduł_ 7. Stream, czyli funkcyjna iteracja po kolekcjach_files/analytics.js.pobrane"></script><script type="text/javascript" async="" src="./Moduł_ 7. Stream, czyli funkcyjna iteracja po kolekcjach_files/analytics.js.pobrane"></script><script id="facebook-jssdk" src="./Moduł_ 7. Stream, czyli funkcyjna iteracja po kolekcjach_files/sdk.js.pobrane"></script><script async="" src="./Moduł_ 7. Stream, czyli funkcyjna iteracja po kolekcjach_files/gtm.js.pobrane"></script><script async="" src="./Moduł_ 7. Stream, czyli funkcyjna iteracja po kolekcjach_files/fbevents.js.pobrane"></script><script>
            window.environment = 'production';
            window.loggedIn = true;
            window.domain = 'https://kodilla.com';
                        window.fbAppId = 1449248938627896;
            window.locale = 'pl';
            window.lang = 'pl';

            window.serverUTC       = 1542371653000;
            window.serverOffset    = 60;
            window.userDate        = new Date();
            window.userUTC         = userDate.getTime();
            window.userOffset      = userDate.getTimezoneOffset() * (-1);
            window.userClockDiff   = userUTC - serverUTC;
            window.diffRounded     = Math.round( userClockDiff / ( 1000 * 60 * 15 ) );
            window.isDifferentZone = ( userOffset - serverOffset !== 0 ) ? 1 : 0;
            window.hasWrongTime    = ( diffRounded !== 0 ) ? 1 : 0;
            window.dateTooltipText = 'Data i godzina są podane dla Twojej strefy czasowej GMT. <br>W razie wątpliwości napisz: <u>support@kodilla.com</u>.';
            window.wrongHourNotice = 'Godzina na Twoim urządzeniu r&oacute;żni się od godziny obowiązującej w strefie czasowej wybranej w ustawieniach Twojego urządzenia.';

            var moment = undefined,
            momentReady = function( method, method2, count ){
                var c = ( count ) ? count : 0;

                if      ( isDifferentZone && moment !== undefined ){
                    if      ( method ) { method(); }
                    else    { return false; }
                }
                else if ( isDifferentZone && moment === undefined ) {
                    if ( c < 20 ) {
                        c++;
                        setTimeout( function() { momentReady( method, method2, c ); }
                            , 300 );
                    } else {
                        if      ( method2 === true && method )  { method(); }
                        else if ( method2 !== true && method2 ) { method2(); }
                    }
                }
                else {
                    if      ( method2 === true && method )  { method(); }
                    else if ( method2 !== true && method2 ) { method2(); }
                    else    { return false; }
                }
            };

            if ( window.isDifferentZone && moment === undefined ) {
                var script = document.createElement("script");
                script.type = "text/javascript";
                script.src = '/static/js/libs/moment.timezone.locales.min.js?v=2.22.2';
                document.getElementsByTagName("head")[0].appendChild(script);
            }
        </script>

        <!-- Facebook Pixel Code -->
        <script>
            !function(f,b,e,v,n,t,s)
            {if(f.fbq)return;n=f.fbq=function(){n.callMethod?
                n.callMethod.apply(n,arguments):n.queue.push(arguments)};
                if(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';
                n.queue=[];t=b.createElement(e);t.async=!0;
                t.src=v;s=b.getElementsByTagName(e)[0];
                s.parentNode.insertBefore(t,s)}(window, document,'script',
                'https://connect.facebook.net/en_US/fbevents.js');
            fbq('init', '389137334769464');
            fbq('track', 'PageView');
        </script>
        <!-- End Facebook Pixel Code -->

        <!-- Google Tag Manager -->
        <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
            })(window,document,'script','dataLayer','GTM-KN2WWBH');</script>
        <!-- End Google Tag Manager -->
<script async="" type="text/javascript" src="./Moduł_ 7. Stream, czyli funkcyjna iteracja po kolekcjach_files/visit"></script><link href="./Moduł_ 7. Stream, czyli funkcyjna iteracja po kolekcjach_files/widget.css" rel="stylesheet"><style type="text/css">.fancybox-margin{margin-right:15px;}</style></head>
<body class="wrong-hour freshchat-enabled">
<!-- Facebook Pixel Code -->
<noscript><img height="1" width="1" style="display:none" src="https://www.facebook.com/tr?id=389137334769464&ev=PageView&noscript=1"/></noscript>
<!-- End Facebook Pixel Code -->
<script>
    document.getElementsByTagName('body')[0].classList.remove('no-js');
    if ( window.isDifferentZone ) {
        document.querySelector('body').classList.add('time-conversion-applied');
    }
    if ( window.hasWrongTime ) {
        document.querySelector('body').classList.add('wrong-hour');
    }
</script>
<script>
window.fbAsyncInit = function() {
    FB.init({
        appId: window.fbAppId,
        xfbml: true,
        version: 'v2.10'
    });
};
(function(d, s, id) {
    var js, fjs = d.getElementsByTagName(s)[0];
    if (d.getElementById(id)) { return; }
    js = d.createElement(s); js.id = id;
    js.src = "//connect.facebook.net/en_US/sdk.js";
    fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));
</script>
    <nav class="navbar-main hidden-sm-down dark navbar">
    <div class="nav-container">
        <div class="navbar-header clearfix">
            <button class="navbar-toggler hidden-md-up pull-right" type="button" data-toggle="collapse" data-target="#collapsingNavbarUpper"><i class="fa fa-bars"></i></button>
        </div>
        <div class="collapse navbar-toggleable-sm container" id="collapsingNavbarUpper">
            <ul class="nav navbar-nav navbar-nav-left">
                                    <li class="nav-item nav-contact">
    <span>Skontaktuj się z nami:</span>
    <a href="mailto:support@kodilla.com">
        <i class="fa fa-envelope-o"></i>
        support@kodilla.com
    </a>
    <span>lub</span>
    <a href="javascript:fcWidget.open();">
        <i class="fa fa-comments"></i>
        porozmawiaj na czacie
    </a>
</li>
                                </ul>
            <ul class="nav navbar-nav pull-right">
                <li class="nav-item">
    <a class="nav-link dropdown-toggle" href="https://kodilla.com/pl/bootcamp-module/146/82/3774#" id="navbarDropdownMenuLink" aria-haspopup="true" aria-expanded="false">
        <img class="img-no-border ico-current-lang" src="./Moduł_ 7. Stream, czyli funkcyjna iteracja po kolekcjach_files/ico.globe.svg">Polska (Polski)
    </a>
    <div class="dropdown-menu-css">
        <div class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
                            <a class="dropdown-item" href="https://kodilla.com/pl"><img src="./Moduł_ 7. Stream, czyli funkcyjna iteracja po kolekcjach_files/125px-Flag_of_Poland.svg.png">Polska (Polski)</a>
                            <a class="dropdown-item" href="https://kodilla.com/uk"><img src="./Moduł_ 7. Stream, czyli funkcyjna iteracja po kolekcjach_files/125px-Flag_of_the_United_Kingdom.svg.png">United Kingdom (English)</a>
                            <a class="dropdown-item" href="https://kodilla.com/no"><img src="./Moduł_ 7. Stream, czyli funkcyjna iteracja po kolekcjach_files/125px-Flag_of_Norway.svg.png">Norge (English)</a>
                            <a class="dropdown-item" href="https://kodilla.com/en"><img src="./Moduł_ 7. Stream, czyli funkcyjna iteracja po kolekcjach_files/global.svg">Global (English)</a>
                    </div>
    </div>
</li>
                                <li class="nav-item">
                    <a href="https://kodilla.com/pl/informator" class="nav-link" target="_blank">
        Informator
    </a>
                </li>
                <li class="nav-item hidden-sm-down">
    <a href="https://kodilla.com/pl/account" class="nav-link">Konto</a>
</li>
        <li class="nav-item">
    <a class="analytics-track nav-link nav-link-accent" data-event="account_logout" href="https://kodilla.com/pl/sign-out">Wyloguj</a>
</li>
            </ul>
        </div>
    </div>
</nav>
<nav class="navbar-main light navbar">
    <div class="container clearfix">
        <a class="navbar-brand" href="https://kodilla.com/pl">
            <svg id="kodilla-logo" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 168 29.553" width="168px" height="30px">
                <defs>
                    <style>
                        .navbar-logo-fill {
                            fill: #0dac4b;
                        }
                    </style>
                </defs>
                <g id="Group_1" data-name="Group 1" transform="translate(23.59)">
                    <path id="KODILLA_copy_5_1_" class="navbar-logo-fill" d="M78.058,0a14.758,14.758,0,1,0,.075,0Zm0,23.739a8.939,8.939,0,0,1-8.944-8.907V14.8c0-4.957,4.584-.708,8.907-.708,4.919,0,9.019-4.211,9.019.708a8.978,8.978,0,0,1-8.981,8.944Z" transform="translate(-63.3)"></path>
                    <ellipse id="eye_copy_4_1_" class="navbar-logo-fill" cx="3.876" cy="3.876" rx="3.876" ry="3.876" transform="translate(9.462 13.2) rotate(-28.436)"></ellipse>
                </g>
                <path id="Path_1" data-name="Path 1" class="navbar-logo-fill" d="M0,29.819V.9H6.671V13.347L17.255.9h7.491L13.938,13.794,25.491,29.819h-7.6l-8.2-11.665-3.019,3.13v8.5H0Z" transform="translate(0 -0.565)"></path>
                <path id="Path_2" data-name="Path 2" class="navbar-logo-fill" d="M151.4,29.819V.9h10.807a15.515,15.515,0,0,1,6.261,1.155,12.966,12.966,0,0,1,4.509,3.093A12.918,12.918,0,0,1,175.7,9.732a17.245,17.245,0,0,1,.932,5.59,16.821,16.821,0,0,1-1.006,5.963,12.227,12.227,0,0,1-2.907,4.547,13.484,13.484,0,0,1-4.547,2.944,15.964,15.964,0,0,1-5.925,1.043Zm18.41-14.5a11.274,11.274,0,0,0-.522-3.466,7.723,7.723,0,0,0-1.491-2.72,6.616,6.616,0,0,0-2.385-1.752,8.055,8.055,0,0,0-3.205-.6h-4.1v17.18h4.1a7.985,7.985,0,0,0,3.242-.634,6.8,6.8,0,0,0,2.385-1.826,8.286,8.286,0,0,0,1.453-2.72A11.634,11.634,0,0,0,169.81,15.322Z" transform="translate(-94.978 -0.565)"></path>
                <path id="Path_3" data-name="Path 3" class="navbar-logo-fill" d="M228.3,29.819V.9h6.671V29.819Z" transform="translate(-143.219 -0.565)"></path>
                <path id="Path_4" data-name="Path 4" class="navbar-logo-fill" d="M259.9,29.819V.9h6.671V23.968h14.012v5.851Z" transform="translate(-163.043 -0.565)"></path>
                <path id="Path_5" data-name="Path 5" class="navbar-logo-fill" d="M327.371,23.931V.9H320.7V29.819h18.522l2.124-5.851H327.371Z" transform="translate(-201.185 -0.565)"></path>
                <path id="Path_6" data-name="Path 6" class="navbar-logo-fill" d="M388.547.9h6.037L405.13,29.819h-6.857l-2.236-6.484h-9.019l-2.2,6.484H378Zm6.373,17.851L391.528,8.54l-3.466,10.211Z" transform="translate(-237.13 -0.565)"></path>
            </svg>
        </a>
        <button class="navbar-toggler pull-right collapsed" type="button" data-toggle="collapse" data-target="#navbar-main">
            <i class="fa fa-bars navbar-ico-open"></i>
            <i class="fa fa-times navbar-ico-close"></i>
        </button>
        <ul id="navbar-main" class="nav navbar-nav pull-right collapse">
            <li class="nav-item hidden-sm-down">
    <a class="dropdown-toggle nav-link">
        Szkolenia Bootcamp
    </a>
    <ul class="bootcamp-list">
        <li class="list-sub">
            <svg class="menu-svg" width="32px" height="32px" viewBox="0 0 26 26" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
                <title>menu_java_logo</title>
                <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
                    <g id="menu_java_logo">
                        <g id="svg_1" transform="translate(5.000000, 3.000000)" fill-rule="nonzero">
                            <path d="M10.1499999,0.051000042 C10.6109999,0.576000042 10.7619999,1.32700004 10.6309999,2.00400004 C10.4869999,2.76400004 10.0669999,3.43700004 9.56999987,4.01500004 C9.17299987,4.48200004 8.71599987,4.89400004 8.24099987,5.27700004 C7.68499987,5.72300004 7.14099987,6.20500004 6.79299987,6.83200004 C6.49799987,7.34200004 6.42999987,7.97100004 6.63099987,8.52500004 C6.95899987,9.47700004 7.72699987,10.184 8.14199987,11.082 C7.68099987,10.674 7.22999987,10.252 6.80899987,9.80600004 C6.36699987,9.33500004 5.94999987,8.83400004 5.67499987,8.24600004 C5.48699987,7.83400004 5.40399987,7.35200004 5.54699987,6.91700004 C5.68999987,6.47000004 6.00799987,6.11200004 6.32599987,5.77800004 C7.21499987,4.89000004 8.30899987,4.23700004 9.17699987,3.33400004 C9.65799987,2.83900004 10.0569999,2.24500004 10.1939999,1.56300004 C10.3059999,1.06200004 10.2529999,0.547000042 10.1499999,0.051000042" id="path156_2_" fill="#02AC46"></path>
                            <path d="M10.1499999,0.051000042 C10.6109999,0.576000042 10.7619999,1.32700004 10.6309999,2.00400004 C10.4869999,2.76400004 10.0669999,3.43700004 9.56999987,4.01500004 C9.17299987,4.48200004 8.71599987,4.89400004 8.24099987,5.27700004 C7.68499987,5.72300004 7.14099987,6.20500004 6.79299987,6.83200004 C6.49799987,7.34200004 6.42999987,7.97100004 6.63099987,8.52500004 C6.95899987,9.47700004 7.72699987,10.184 8.14199987,11.082 C7.68099987,10.674 7.22999987,10.252 6.80899987,9.80600004 C6.36699987,9.33500004 5.94999987,8.83400004 5.67499987,8.24600004 C5.48699987,7.83400004 5.40399987,7.35200004 5.54699987,6.91700004 C5.68999987,6.47000004 6.00799987,6.11200004 6.32599987,5.77800004 C7.21499987,4.89000004 8.30899987,4.23700004 9.17699987,3.33400004 C9.65799987,2.83900004 10.0569999,2.24500004 10.1939999,1.56300004 C10.3059999,1.06200004 10.2529999,0.547000042 10.1499999,0.051000042 Z" id="path158_2_" fill="#02AC46"></path>
                            <path d="M9.42299987,5.63900004 C10.3739999,4.93700004 11.4889999,4.49100004 12.6179999,4.16700004 C11.7239999,4.73600004 10.7929999,5.25600004 10.0209999,5.98800004 C9.74199987,6.25800004 9.47599987,6.56700004 9.35399987,6.94500004 C9.26099987,7.22400004 9.29899987,7.53400004 9.41299987,7.79900004 C9.61999987,8.27000004 9.96799987,8.65200004 10.2329999,9.08400004 C10.4589999,9.45200004 10.4979999,9.92300004 10.3249999,10.321 C10.0659999,10.904 9.55599987,11.331 9.02499987,11.67 C8.95699987,11.71 8.89799987,11.783 8.81499987,11.793 C9.16799987,11.473 9.44399987,11.022 9.43199987,10.537 C9.42199987,10.174 9.22099987,9.85500004 8.98699987,9.59500004 C8.50099987,9.01600004 8.09199987,8.28100004 8.17599987,7.50000004 C8.25999987,6.71800004 8.82099987,6.09000004 9.42299987,5.63900004" id="path160_2_" fill="#02AC46"></path>
                            <path d="M9.42299987,5.63900004 C10.3739999,4.93700004 11.4889999,4.49100004 12.6179999,4.16700004 C11.7239999,4.73600004 10.7929999,5.25600004 10.0209999,5.98800004 C9.74199987,6.25800004 9.47599987,6.56700004 9.35399987,6.94500004 C9.26099987,7.22400004 9.29899987,7.53400004 9.41299987,7.79900004 C9.61999987,8.27000004 9.96799987,8.65200004 10.2329999,9.08400004 C10.4589999,9.45200004 10.4979999,9.92300004 10.3249999,10.321 C10.0659999,10.904 9.55599987,11.331 9.02499987,11.67 C8.95699987,11.71 8.89799987,11.783 8.81499987,11.793 C9.16799987,11.473 9.44399987,11.022 9.43199987,10.537 C9.42199987,10.174 9.22099987,9.85500004 8.98699987,9.59500004 C8.50099987,9.01600004 8.09199987,8.28100004 8.17599987,7.50000004 C8.25999987,6.71800004 8.82099987,6.09000004 9.42299987,5.63900004 Z" id="path162_2_" fill="#02AC46"></path>
                            <path class="fill-grey" d="M12.7999999,11.311 C13.0049999,11.061 13.3329999,10.997 13.6329999,10.957 C14.1539999,10.889 14.7069999,11.021 15.0999999,11.379 C15.4249999,11.669 15.6059999,12.12 15.5379999,12.557 C15.4639999,13.063 15.1249999,13.485 14.7429999,13.804 C14.0519999,14.358 13.1969999,14.682 12.3439999,14.898 C12.3939999,14.844 12.4469999,14.795 12.5109999,14.755 C13.1579999,14.406 13.8009999,13.999 14.2779999,13.43 C14.5669999,13.077 14.7939999,12.616 14.6979999,12.15 C14.6009999,11.61 14.0769999,11.217 13.5419999,11.188 C13.2849999,11.164 13.0449999,11.262 12.7999999,11.311" id="path164_2_" fill="#E0E0E0"></path>
                            <path class="fill-grey" d="M12.7999999,11.311 C13.0049999,11.061 13.3329999,10.997 13.6329999,10.957 C14.1539999,10.889 14.7069999,11.021 15.0999999,11.379 C15.4249999,11.669 15.6059999,12.12 15.5379999,12.557 C15.4639999,13.063 15.1249999,13.485 14.7429999,13.804 C14.0519999,14.358 13.1969999,14.682 12.3439999,14.898 C12.3939999,14.844 12.4469999,14.795 12.5109999,14.755 C13.1579999,14.406 13.8009999,13.999 14.2779999,13.43 C14.5669999,13.077 14.7939999,12.616 14.6979999,12.15 C14.6009999,11.61 14.0769999,11.217 13.5419999,11.188 C13.2849999,11.164 13.0449999,11.262 12.7999999,11.311 Z" id="path166_2_" fill="#E0E0E0"></path>
                            <path class="fill-grey" d="M2.93699987,11.757 C3.83899987,11.37 4.82099987,11.119 5.80599987,11.134 C5.23299987,11.301 4.64399987,11.443 4.10399987,11.698 C3.97699987,11.766 3.82999987,11.83 3.75599987,11.963 C3.71599987,12.066 3.82499987,12.134 3.90299987,12.169 C4.23599987,12.307 4.60299987,12.326 4.96299987,12.36 C6.21899987,12.443 7.48099987,12.395 8.73199987,12.316 C9.96699987,12.237 11.1949999,12.07 12.4159999,11.874 C12.1459999,12.001 11.8719999,12.129 11.6209999,12.291 C11.4939999,12.379 11.3369999,12.404 11.1949999,12.438 C9.69299987,12.772 8.15199987,12.876 6.62299987,12.899 C6.02699987,12.904 5.43899987,12.894 4.84999987,12.855 C4.19399987,12.811 3.53099987,12.762 2.88899987,12.59 C2.70099987,12.536 2.50499987,12.477 2.35999987,12.344 C2.28499987,12.285 2.28499987,12.167 2.34899987,12.098 C2.50899987,11.934 2.73599987,11.856 2.93699987,11.757" id="path168_2_" fill="#E0E0E0"></path>
                            <path class="fill-grey" d="M2.93699987,11.757 C3.83899987,11.37 4.82099987,11.119 5.80599987,11.134 C5.23299987,11.301 4.64399987,11.443 4.10399987,11.698 C3.97699987,11.766 3.82999987,11.83 3.75599987,11.963 C3.71599987,12.066 3.82499987,12.134 3.90299987,12.169 C4.23599987,12.307 4.60299987,12.326 4.96299987,12.36 C6.21899987,12.443 7.48099987,12.395 8.73199987,12.316 C9.96699987,12.237 11.1949999,12.07 12.4159999,11.874 C12.1459999,12.001 11.8719999,12.129 11.6209999,12.291 C11.4939999,12.379 11.3369999,12.404 11.1949999,12.438 C9.69299987,12.772 8.15199987,12.876 6.62299987,12.899 C6.02699987,12.904 5.43899987,12.894 4.84999987,12.855 C4.19399987,12.811 3.53099987,12.762 2.88899987,12.59 C2.70099987,12.536 2.50499987,12.477 2.35999987,12.344 C2.28499987,12.285 2.28499987,12.167 2.34899987,12.098 C2.50899987,11.934 2.73599987,11.856 2.93699987,11.757 Z" id="path170_2_" fill="#E0E0E0"></path>
                            <path class="fill-grey" d="M4.09499987,13.853 C4.34999987,13.652 4.65499987,13.539 4.95699987,13.431 C4.85999987,13.549 4.72299987,13.662 4.71299987,13.824 C4.70799987,13.927 4.79099987,14.006 4.87499987,14.054 C5.03699987,14.138 5.21899987,14.167 5.39999987,14.191 C6.33999987,14.289 7.29399987,14.344 8.24499987,14.279 C9.11299987,14.235 9.97699987,14.092 10.8359999,13.941 C11.0709999,14.162 11.3509999,14.314 11.6459999,14.446 C10.6109999,14.75 9.54699987,14.927 8.47699987,15.01 C7.46599987,15.078 6.43999987,15.074 5.43499987,14.912 C5.03799987,14.838 4.62899987,14.754 4.26699987,14.568 C4.11999987,14.489 3.95299987,14.386 3.90899987,14.214 C3.87899987,14.069 3.98699987,13.936 4.09499987,13.853" id="path172_2_" fill="#E0E0E0"></path>
                            <path class="fill-grey" d="M4.09499987,13.853 C4.34999987,13.652 4.65499987,13.539 4.95699987,13.431 C4.85999987,13.549 4.72299987,13.662 4.71299987,13.824 C4.70799987,13.927 4.79099987,14.006 4.87499987,14.054 C5.03699987,14.138 5.21899987,14.167 5.39999987,14.191 C6.33999987,14.289 7.29399987,14.344 8.24499987,14.279 C9.11299987,14.235 9.97699987,14.092 10.8359999,13.941 C11.0709999,14.162 11.3509999,14.314 11.6459999,14.446 C10.6109999,14.75 9.54699987,14.927 8.47699987,15.01 C7.46599987,15.078 6.43999987,15.074 5.43499987,14.912 C5.03799987,14.838 4.62899987,14.754 4.26699987,14.568 C4.11999987,14.489 3.95299987,14.386 3.90899987,14.214 C3.87899987,14.069 3.98699987,13.936 4.09499987,13.853 Z" id="path174_2_" fill="#E0E0E0"></path>
                            <path class="fill-grey" d="M4.66499987,15.992 C4.89199987,15.81 5.17099987,15.717 5.44499987,15.638 C5.35699987,15.722 5.19999987,15.825 5.26799987,15.967 C5.40199987,16.139 5.64599987,16.159 5.84199987,16.203 C6.67099987,16.307 7.50999987,16.375 8.33899987,16.311 C8.96699987,16.272 9.58499987,16.159 10.1979999,16.051 C10.5509999,16.258 10.9209999,16.434 11.2979999,16.59 C10.7189999,16.85 10.0949999,17.018 9.47199987,17.135 C8.42299987,17.322 7.33899987,17.346 6.28299987,17.179 C5.81699987,17.096 5.34299987,16.988 4.91999987,16.757 C4.75799987,16.664 4.58699987,16.556 4.51799987,16.374 C4.46299987,16.232 4.55199987,16.08 4.66499987,15.992" id="path176_2_" fill="#E0E0E0"></path>
                            <path class="fill-grey" d="M4.66499987,15.992 C4.89199987,15.81 5.17099987,15.717 5.44499987,15.638 C5.35699987,15.722 5.19999987,15.825 5.26799987,15.967 C5.40199987,16.139 5.64599987,16.159 5.84199987,16.203 C6.67099987,16.307 7.50999987,16.375 8.33899987,16.311 C8.96699987,16.272 9.58499987,16.159 10.1979999,16.051 C10.5509999,16.258 10.9209999,16.434 11.2979999,16.59 C10.7189999,16.85 10.0949999,17.018 9.47199987,17.135 C8.42299987,17.322 7.33899987,17.346 6.28299987,17.179 C5.81699987,17.096 5.34299987,16.988 4.91999987,16.757 C4.75799987,16.664 4.58699987,16.556 4.51799987,16.374 C4.46299987,16.232 4.55199987,16.08 4.66499987,15.992 Z" id="path178_2_" fill="#E0E0E0"></path>
                            <path class="fill-grey" d="M1.94099987,17.38 C2.39299987,17.228 2.85899987,17.105 3.33499987,17.09 C3.52599987,17.085 3.72299987,17.095 3.88899987,17.194 C3.32099987,17.228 2.75099987,17.37 2.24199987,17.631 C2.12899987,17.694 2.00199987,17.768 1.95699987,17.901 C1.95699987,18.053 2.12899987,18.103 2.24199987,18.151 C2.95399987,18.416 3.71299987,18.499 4.45999987,18.578 C6.68199987,18.764 8.91999987,18.716 11.1429999,18.514 C11.9819999,18.421 12.8259999,18.328 13.6409999,18.097 C13.8999999,18.009 14.1949999,17.921 14.3659999,17.69 C14.4699999,17.553 14.4009999,17.381 14.2989999,17.263 C14.4649999,17.357 14.6989999,17.474 14.6659999,17.7 C14.6029999,17.935 14.3609999,18.058 14.1659999,18.171 C13.5379999,18.49 12.8459999,18.652 12.1589999,18.795 C10.1619999,19.187 8.11599987,19.276 6.08499987,19.217 C4.55399987,19.162 3.02199987,19.016 1.51199987,18.755 C1.24299987,18.692 0.938999866,18.638 0.740999866,18.426 C0.613999866,18.279 0.725999866,18.073 0.848999866,17.965 C1.15699987,17.68 1.55299987,17.523 1.94099987,17.38" id="path180_2_" fill="#E0E0E0"></path>
                            <path class="fill-grey" d="M1.94099987,17.38 C2.39299987,17.228 2.85899987,17.105 3.33499987,17.09 C3.52599987,17.085 3.72299987,17.095 3.88899987,17.194 C3.32099987,17.228 2.75099987,17.37 2.24199987,17.631 C2.12899987,17.694 2.00199987,17.768 1.95699987,17.901 C1.95699987,18.053 2.12899987,18.103 2.24199987,18.151 C2.95399987,18.416 3.71299987,18.499 4.45999987,18.578 C6.68199987,18.764 8.91999987,18.716 11.1429999,18.514 C11.9819999,18.421 12.8259999,18.328 13.6409999,18.097 C13.8999999,18.009 14.1949999,17.921 14.3659999,17.69 C14.4699999,17.553 14.4009999,17.381 14.2989999,17.263 C14.4649999,17.357 14.6989999,17.474 14.6659999,17.7 C14.6029999,17.935 14.3609999,18.058 14.1659999,18.171 C13.5379999,18.49 12.8459999,18.652 12.1589999,18.795 C10.1619999,19.187 8.11599987,19.276 6.08499987,19.217 C4.55399987,19.162 3.02199987,19.016 1.51199987,18.755 C1.24299987,18.692 0.938999866,18.638 0.740999866,18.426 C0.613999866,18.279 0.725999866,18.073 0.848999866,17.965 C1.15699987,17.68 1.55299987,17.523 1.94099987,17.38 Z" id="path182_2_" fill="#E0E0E0"></path>
                            <path class="fill-grey" d="M14.1699999,19.058 C14.6639999,18.886 15.1939999,18.704 15.5629999,18.312 C15.4999999,18.739 15.1309999,19.033 14.7689999,19.225 C14.0729999,19.588 13.2909999,19.755 12.5159999,19.892 C10.8779999,20.152 9.21399987,20.216 7.54999987,20.187 C6.41699987,20.152 5.27399987,20.108 4.16099987,19.873 C3.89399987,19.799 3.60999987,19.75 3.37999987,19.593 C4.37099987,19.76 5.37699987,19.829 6.38299987,19.868 C8.03599987,19.917 9.69499987,19.853 11.3379999,19.647 C12.2899999,19.514 13.2469999,19.353 14.1699999,19.058" id="path184_2_" fill="#E0E0E0"></path>
                            <path class="fill-grey" d="M14.1699999,19.058 C14.6639999,18.886 15.1939999,18.704 15.5629999,18.312 C15.4999999,18.739 15.1309999,19.033 14.7689999,19.225 C14.0729999,19.588 13.2909999,19.755 12.5159999,19.892 C10.8779999,20.152 9.21399987,20.216 7.54999987,20.187 C6.41699987,20.152 5.27399987,20.108 4.16099987,19.873 C3.89399987,19.799 3.60999987,19.75 3.37999987,19.593 C4.37099987,19.76 5.37699987,19.829 6.38299987,19.868 C8.03599987,19.917 9.69499987,19.853 11.3379999,19.647 C12.2899999,19.514 13.2469999,19.353 14.1699999,19.058 Z" id="path186_2_" fill="#E0E0E0"></path>
                        </g>
                        <path class="stroke-grey" d="M25.725,21.8309333 L25.725,4.16906671 C25.725,2.01884874 23.9812191,0.275 21.8310955,0.275 L4.16890446,0.275 C2.01878088,0.275 0.275,2.01884874 0.275,4.16906671 L0.275,21.8309333 C0.275,23.9818034 2.01842105,25.725 4.16890446,25.725 L21.8310955,25.725 C23.9815789,25.725 25.725,23.9818034 25.725,21.8309333 Z" id="svg_2" stroke="#E0E0E0" stroke-width="0.55"></path>
                    </g>
                </g>
            </svg>
            <a href="https://kodilla.com/pl/bootcamp/java?type=jdp">
                <h4 class="bootcamp-name">Java Developer</h4>
                <p>Poznaj najpopularniejszy na&nbsp;świecie język programowania od&nbsp;zera</p>
            </a>
        </li>
        <li class="list-sub">
            <svg class="menu-svg" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 27.61 27.4"><defs><style>.stroke-grey,.cls-2{fill:none;stroke-linecap:round;stroke-linejoin:round;stroke-width:0.75px;}.stroke-grey{stroke:#e0e0e0;}.cls-2{stroke:#02ac46;}</style></defs><title>Front i Web Developer</title><line class="stroke-grey" x1="22.2" y1="3.46" x2="24.01" y2="5.31"></line><line class="stroke-grey" x1="22.2" y1="5.31" x2="24.01" y2="3.46"></line><polyline class="stroke-grey" points="0.96 26.61 0.96 0.79 26.72 0.79 26.72 26.61 0.96 26.61"></polyline><line class="stroke-grey" x1="1.22" y1="7.98" x2="26.72" y2="7.98"></line><rect class="stroke-grey" x="17.72" y="3.49" width="1.8" height="1.8"></rect><line class="stroke-grey" x1="15.03" y1="5.28" x2="13.24" y2="5.28"></line><polyline class="cls-2" points="16.86 20.13 19.8 16.75 16.86 13.37"></polyline><polyline class="cls-2" points="10.51 20.13 7.57 16.75 10.51 13.37"></polyline><line class="cls-2" x1="15.78" y1="10.43" x2="11.67" y2="22.81"></line></svg>
            <a href="https://kodilla.com/pl/bootcamp/webdeveloper?type=wdp">
                <h4 class="bootcamp-name">Web Developer</h4>
                <p>Naucz&nbsp;się tworzyć aplikacje internetowe od&nbsp;podstaw</p>
                <span class="bootcamp-label">FRONT-END i BACK-END</span>
            </a>
        </li>
    </ul>
</li>

            <li class="nav-item hidden-sm-down">
    <a class="dropdown-toggle nav-link">
        Strefa kursanta
    </a>
    <ul>
                    <li><a href="https://kodilla.com/pl/bootcamp-dashboard/146" class="nav-link">Bootcamp Java Plus 2018-10</a></li>
                    <li><a class="nav-link" href="https://kodilla.com/pl/kursy">Samodzielne kursy</a></li>
                    <li><a class="nav-link" href="https://chat.kodilla.com/home" target="_blank">Komunikator</a></li>
            <li><a class="nav-link" href="https://kodilla.com/pl/projects">Moje projekty</a></li>
            </ul>
</li>
                            <li class="nav-item hidden-sm-down">
    <a class="dropdown-toggle nav-link">
        O nas
    </a>
    <ul class="about-us">
        <li><a href="https://kodilla.com/pl/mentors" class="nav-link">Mentorzy</a></li>
        <li><a href="https://kodilla.com/pl/zespol" class="nav-link">Zespół Kodilli</a></li>
        <li><a href="https://kodilla.com/pl/about" class="nav-link">O firmie</a></li>
    </ul>
</li>
                                        <li class="nav-item hidden-md-up nav-group">
    <span class="mobile-menu-separator">Szkolenia Bootcamp</span>
    <ul>
        <li class="nav-item">
            <a class="nav-link nav-link-with-label" href="https://kodilla.com/pl/bootcamp/webdeveloper">Bootcamp Web Developer
                <span class="bootcamp-label">FRONT-END i BACK-END</span>
            </a>
        </li>
        <li class="nav-item">
            <a class="nav-link" href="https://kodilla.com/pl/bootcamp/java">Bootcamp Java</a>
        </li>
    </ul>
</li>

            <li class="nav-item hidden-md-up nav-group">
            <span class="mobile-menu-separator">Strefa kursanta</span>
            <ul>
                <li class="nav-item ">
                                            <a class="nav-link" href="https://kodilla.com/pl/bootcamp-dashboard/146">
                            Bootcamp   Java Plus 2018-10
                        </a>
                                    </li>
                <li class="nav-item ">
                    <a class="nav-link" href="https://kodilla.com/pl/kursy">Samodzielne kursy</a>
                </li>
                                    <li class="nav-item ">
                        <a class="nav-link" href="https://chat.kodilla.com/home" target="_blank">Komunikator</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="https://kodilla.com/pl/projects">Moje projekty</a>
                    </li>
                            </ul>
        </li>
    
        
            <li class="nav-item hidden-md-up nav-group">
            <span class="mobile-menu-separator">O nas</span>
            <ul>
                <li class="nav-item">
                    <a href="https://kodilla.com/pl/mentors" class="nav-link">Mentorzy</a>
                </li>
                <li class="nav-item">
                    <a href="https://kodilla.com/pl/zespol" class="nav-link">Zespół Kodilli</a>
                </li>
                <li class="nav-item">
                    <a href="https://kodilla.com/pl/about" class="nav-link">O firmie</a>
                </li>
            </ul>
        </li>
    
<li class="nav-item hidden-md-up nav-group">
    <span class="mobile-menu-separator">Pozostałe</span>
    <ul>
                                        
        <li class="nav-item">
            <a href="https://kodilla.com/pl/informator" class="nav-link" target="_blank">
        Informator
    </a>
        </li>
    </ul>

</li>

    <li class="nav-item hidden-md-up">
        <a class="nav-link" href="https://kodilla.com/pl/account">Konto</a>
    </li>
    <li class="nav-item hidden-md-up">
        <a class="nav-link analytics-track" data-event="account_logout" href="https://kodilla.com/pl/sign-out">Wyloguj</a>
    </li>

        
    <li class="nav-item hidden-md-up nav-group">
        <span class="mobile-menu-separator">Skontaktuj się z nami</span>
        <ul>
            <li class="nav-item">
                <a href="mailto:support@kodilla.com" class="nav-link">
                    <i class="fa fa-envelope-o"></i>
                    support@kodilla.com
                </a>
            </li>
            <li class="nav-item">
                <a href="javascript:fcWidget.open();" class="nav-link">
                    <i class="fa fa-comments"></i>
                    <span>Porozmawiaj na czacie</span>
                </a>
            </li>
        </ul>
    </li>

<li class="nav-item hidden-md-up">
        <a class="nav-link" href="https://kodilla.com/pl"><img src="./Moduł_ 7. Stream, czyli funkcyjna iteracja po kolekcjach_files/125px-Flag_of_Poland.svg.png">Polska (Polski)</a>
    </li>
    <li class="nav-item hidden-md-up">
        <a class="nav-link" href="https://kodilla.com/uk"><img src="./Moduł_ 7. Stream, czyli funkcyjna iteracja po kolekcjach_files/125px-Flag_of_the_United_Kingdom.svg.png">United Kingdom (English)</a>
    </li>
    <li class="nav-item hidden-md-up">
        <a class="nav-link" href="https://kodilla.com/no"><img src="./Moduł_ 7. Stream, czyli funkcyjna iteracja po kolekcjach_files/125px-Flag_of_Norway.svg.png">Norge (English)</a>
    </li>
    <li class="nav-item hidden-md-up">
        <a class="nav-link" href="https://kodilla.com/en"><img src="./Moduł_ 7. Stream, czyli funkcyjna iteracja po kolekcjach_files/global.svg">Global (English)</a>
    </li>

        </ul>
    </div>
</nav>
<main class="bootcamp module page-height-fix" id="bootcamp-module">
    <div class="table-of-contents aside-sticky">
        <section class="container">
            <div class="row">
                <aside class="module-nav col-md-4 col-md-offset-8">
                    <section class="card">
                        <div class="card-header">
                            <h4 class="card-title">Spis treści modułu</h4>
                        </div>
                        <ul class="list-group list-group-flush ps-container ps-theme-default ps-active-y" data-ps-id="0536935c-6b24-0c3a-f94b-768913a5b865">
                                                        <li class="list-group-item in-review">
                                <a href="https://kodilla.com/pl/bootcamp-module/146/82/3774#submodule-336" class="clearfix">
                                    <p>7.1. Wstęp do programowania funkcyjnego, czyli wyrażenia lambda</p>
                                    <i class="fa fa-check-circle-o"></i>
                                    <i class="fa fa-play-circle-o"></i>
                                    <i class="fa fa-send-o"></i>
                                    <i class="fa fa-exclamation-circle"></i>
                                </a>
                            </li><li class="list-group-item list-group-flush sub "><a href="https://kodilla.com/pl/bootcamp-module/146/82/3774#71-wstep-do-programowania-funkcyjnego-czyli-wyrazenia-lambda-przygotowanie-srodowiska" class="clearfix">Przygotowanie środowiska</a></li><li class="list-group-item list-group-flush sub "><a href="https://kodilla.com/pl/bootcamp-module/146/82/3774#71-wstep-do-programowania-funkcyjnego-czyli-wyrazenia-lambda-podejscie-obiektowe" class="clearfix">Podejście obiektowe</a></li><li class="list-group-item list-group-flush sub "><a href="https://kodilla.com/pl/bootcamp-module/146/82/3774#71-wstep-do-programowania-funkcyjnego-czyli-wyrazenia-lambda-podejscie-funkcyjne-wyrazenia-lambda" class="clearfix">Podejście funkcyjne - wyrażenia lambda</a></li><li class="list-group-item list-group-flush sub "><a href="https://kodilla.com/pl/bootcamp-module/146/82/3774#71-wstep-do-programowania-funkcyjnego-czyli-wyrazenia-lambda-referencje-do-metod" class="clearfix">Referencje do metod</a></li><li class="list-group-item list-group-flush sub task"><a href="https://kodilla.com/pl/bootcamp-module/146/82/3774#71-wstep-do-programowania-funkcyjnego-czyli-wyrazenia-lambda-zadanie-upiekszacz-tekstow" class="clearfix">Zadanie: Upiększacz tekstów</a></li>
                                                        <li class="list-group-item in-review">
                                <a href="https://kodilla.com/pl/bootcamp-module/146/82/3774#submodule-337" class="clearfix">
                                    <p>7.2. Czym jest Stream?</p>
                                    <i class="fa fa-check-circle-o"></i>
                                    <i class="fa fa-play-circle-o"></i>
                                    <i class="fa fa-send-o"></i>
                                    <i class="fa fa-exclamation-circle"></i>
                                </a>
                            </li><li class="list-group-item list-group-flush sub "><a href="https://kodilla.com/pl/bootcamp-module/146/82/3774#72-czym-jest-stream-analogia-do-swiata-rzeczywistego" class="clearfix">Analogia do świata rzeczywistego</a></li><li class="list-group-item list-group-flush sub "><a href="https://kodilla.com/pl/bootcamp-module/146/82/3774#72-czym-jest-stream-analogia-posrednia-ustrukturyzowana" class="clearfix">Analogia pośrednia - ustrukturyzowana :)</a></li><li class="list-group-item list-group-flush sub "><a href="https://kodilla.com/pl/bootcamp-module/146/82/3774#72-czym-jest-stream-mutowalnosc-obiektow" class="clearfix">Mutowalność obiektów</a></li><li class="list-group-item list-group-flush sub "><a href="https://kodilla.com/pl/bootcamp-module/146/82/3774#72-czym-jest-stream-pierwszy-przyklad-wykorzystujacy-stream" class="clearfix">Pierwszy przykład wykorzystujący Stream</a></li><li class="list-group-item list-group-flush sub task"><a href="https://kodilla.com/pl/bootcamp-module/146/82/3774#72-czym-jest-stream-zadanie-niemutowalny-uzytkownik-forum" class="clearfix">Zadanie: Niemutowalny użytkownik forum</a></li>
                                                        <li class="list-group-item ">
                                <a href="https://kodilla.com/pl/bootcamp-module/146/82/3774#submodule-338" class="clearfix">
                                    <p>7.3. Poznanie funkcji stream(), filter(), map() i collect()</p>
                                    <i class="fa fa-check-circle-o"></i>
                                    <i class="fa fa-play-circle-o"></i>
                                    <i class="fa fa-send-o"></i>
                                    <i class="fa fa-exclamation-circle"></i>
                                </a>
                            </li><li class="list-group-item list-group-flush sub "><a href="https://kodilla.com/pl/bootcamp-module/146/82/3774#73-poznanie-funkcji-stream-filter-map-i-collect-stream-w-kolekcjach" class="clearfix">Stream w kolekcjach</a></li><li class="list-group-item list-group-flush sub "><a href="https://kodilla.com/pl/bootcamp-module/146/82/3774#73-poznanie-funkcji-stream-filter-map-i-collect-operacje-transformujace-na-stream" class="clearfix">Operacje transformujące na Stream</a></li><li class="list-group-item list-group-flush sub "><a href="https://kodilla.com/pl/bootcamp-module/146/82/3774#73-poznanie-funkcji-stream-filter-map-i-collect-operacje-filtrujace-na-stream" class="clearfix">Operacje filtrujące na Stream</a></li><li class="list-group-item list-group-flush sub "><a href="https://kodilla.com/pl/bootcamp-module/146/82/3774#73-poznanie-funkcji-stream-filter-map-i-collect-kaskadowe-laczenie-operacji-na-stream" class="clearfix">Kaskadowe łączenie operacji na Stream</a></li><li class="list-group-item list-group-flush sub "><a href="https://kodilla.com/pl/bootcamp-module/146/82/3774#73-poznanie-funkcji-stream-filter-map-i-collect-stream-na-kolekcjach-z-dowolnymi-obiektami" class="clearfix">Stream na kolekcjach z dowolnymi obiektami</a></li><li class="list-group-item list-group-flush sub "><a href="https://kodilla.com/pl/bootcamp-module/146/82/3774#73-poznanie-funkcji-stream-filter-map-i-collect-operacje-terminalne-kolektory" class="clearfix">Operacje terminalne — kolektory</a></li><li class="list-group-item list-group-flush sub task"><a href="https://kodilla.com/pl/bootcamp-module/146/82/3774#73-poznanie-funkcji-stream-filter-map-i-collect-zadanie-funkcyjny-spacer-po-liscie-uzytkownikow-forum" class="clearfix">Zadanie: funkcyjny spacer po liście użytkowników forum</a></li>
                                                        <li class="list-group-item ">
                                <a href="https://kodilla.com/pl/bootcamp-module/146/82/3774#submodule-339" class="clearfix">
                                    <p>7.4. Poznanie flatMap() i reduce()</p>
                                    <i class="fa fa-check-circle-o"></i>
                                    <i class="fa fa-play-circle-o"></i>
                                    <i class="fa fa-send-o"></i>
                                    <i class="fa fa-exclamation-circle"></i>
                                </a>
                            </li><li class="list-group-item list-group-flush sub "><a href="https://kodilla.com/pl/bootcamp-module/146/82/3774#74-poznanie-flatmap-i-reduce-przygotowanie-srodowiska" class="clearfix">Przygotowanie środowiska</a></li><li class="list-group-item list-group-flush sub "><a href="https://kodilla.com/pl/bootcamp-module/146/82/3774#74-poznanie-flatmap-i-reduce-splaszczone-mapy-czyli-operacja-flatmap" class="clearfix">Spłaszczone mapy, czyli operacja flatMap()</a></li><li class="list-group-item list-group-flush sub "><a href="https://kodilla.com/pl/bootcamp-module/146/82/3774#74-poznanie-flatmap-i-reduce-typ-bigdecimal" class="clearfix">Typ BigDecimal</a></li><li class="list-group-item list-group-flush sub "><a href="https://kodilla.com/pl/bootcamp-module/146/82/3774#74-poznanie-flatmap-i-reduce-operacja-terminalna-reduce" class="clearfix">Operacja terminalna reduce()</a></li><li class="list-group-item list-group-flush sub task"><a href="https://kodilla.com/pl/bootcamp-module/146/82/3774#74-poznanie-flatmap-i-reduce-zadanie-obliczamy-ilosc-ludzi-na-swiecie" class="clearfix">Zadanie: obliczamy ilość ludzi na świecie</a></li>
                                                        <li class="list-group-item ">
                                <a href="https://kodilla.com/pl/bootcamp-module/146/82/3774#submodule-340" class="clearfix">
                                    <p>7.5. Wzbogacenie wiedzy o IntStream</p>
                                    <i class="fa fa-check-circle-o"></i>
                                    <i class="fa fa-play-circle-o"></i>
                                    <i class="fa fa-send-o"></i>
                                    <i class="fa fa-exclamation-circle"></i>
                                </a>
                            </li><li class="list-group-item list-group-flush sub task"><a href="https://kodilla.com/pl/bootcamp-module/146/82/3774#75-wzbogacenie-wiedzy-o-intstream-zadanie-obliczamy-srednia-funkcyjnie" class="clearfix">Zadanie: obliczamy średnią, funkcyjnie :)</a></li>
                                                        <li class="list-group-item ">
                                <a href="https://kodilla.com/pl/bootcamp-module/146/82/3774#submodule-341" class="clearfix">
                                    <p>7.6. Wykorzystanie Stream na różnych kolekcjach</p>
                                    <i class="fa fa-check-circle-o"></i>
                                    <i class="fa fa-play-circle-o"></i>
                                    <i class="fa fa-send-o"></i>
                                    <i class="fa fa-exclamation-circle"></i>
                                </a>
                            </li><li class="list-group-item list-group-flush sub "><a href="https://kodilla.com/pl/bootcamp-module/146/82/3774#76-wykorzystanie-stream-na-roznych-kolekcjach-przygotowanie-hierarchii-klas" class="clearfix">Przygotowanie hierarchii klas</a></li><li class="list-group-item list-group-flush sub "><a href="https://kodilla.com/pl/bootcamp-module/146/82/3774#76-wykorzystanie-stream-na-roznych-kolekcjach-przygotowanie-danych-testowych" class="clearfix">Przygotowanie danych testowych</a></li><li class="list-group-item list-group-flush sub "><a href="https://kodilla.com/pl/bootcamp-module/146/82/3774#76-wykorzystanie-stream-na-roznych-kolekcjach-przyklady-zastosowania-stream" class="clearfix">Przykłady zastosowania Stream</a></li><li class="list-group-item list-group-flush sub task"><a href="https://kodilla.com/pl/bootcamp-module/146/82/3774#76-wykorzystanie-stream-na-roznych-kolekcjach-zadanie-srednia-ilosc-dni-realizacji-zadania" class="clearfix">Zadanie: średnia ilość dni realizacji zadania</a></li>
                                                        <li class="list-group-item ">
                                <a href="https://kodilla.com/pl/bootcamp-module/146/82/3774#submodule-466" class="clearfix">
                                    <p>7.7. Dodatkowy projekt do portfolio</p>
                                    <i class="fa fa-check-circle-o"></i>
                                    <i class="fa fa-play-circle-o"></i>
                                    <i class="fa fa-send-o"></i>
                                    <i class="fa fa-exclamation-circle"></i>
                                </a>
                            </li><li class="list-group-item list-group-flush sub task"><a href="https://kodilla.com/pl/bootcamp-module/146/82/3774#77-dodatkowy-projekt-do-portfolio-zadanie-gra-w-papier-kamien-nozyce" class="clearfix">Zadanie: Gra w papier, kamień, nożyce</a></li>
                                                    <div class="ps-scrollbar-x-rail" style="left: 0px; bottom: 3px;"><div class="ps-scrollbar-x" tabindex="0" style="left: 0px; width: 0px;"></div></div><div class="ps-scrollbar-y-rail" style="top: 0px; height: 327px; right: 3px;"><div class="ps-scrollbar-y" tabindex="0" style="top: 0px; height: 57px;"></div></div></ul>
                        <div class="card-block text-center">
                                                                                                <a href="https://kodilla.com/pl/bootcamp-dashboard/146">Powrót do dashboardu</a>
                                                                                    </div>
                    </section>
                </aside>
            </div>
        </section>
    </div>
    <section class="container module-content">
        <div class="row">
            <main class="col-md-8">
                <section class="card">
                    <div class="card-block module-header clearfix ">
                        <h1 class="card-title">7. Stream, czyli funkcyjna iteracja po kolekcjach</h1>
                                                <i class="fa fa-bookmark fa-3x" aria-hidden="true"></i>
                    </div>
                                        <div class="card-block challenge">
                        <h3>Wyzwania:</h3>
                        <ul>
    <li>Poznanie podstaw programowania funkcyjnego i wyrażeń lambda</li>
    <li>Zdobycie wiedzy o interfejsie Stream</li>
    <li>Poznanie metod Stream takich jak <code class=" language-java"><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> i <code class=" language-java"><span class="token function">filter</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></li>
    <li>Poznanie, zastosowanie i korzyści z wykorzystania Stream</li>
</ul>
<p>W tym module rozwijamy wcześniej utworzony projekt i na końcu prawie każdego submodułu, efekty naszej pracy wysyłamy do Mentora :)</p>

                    </div>
                                    </section>
                                    
                <section id="submodule-336" class="card submodule in-review" data-bootcamp-user-submodule-id="249431">
                <!-- klasy dla section: completed current comments -->
                    <div class="card-block submodule-header clearfix">
                        <i class="fa fa-check-circle-o fa-2x"></i>
                        <i class="fa fa-play-circle-o fa-2x"></i>
                        <i class="fa fa-exclamation-circle fa-2x"></i>
                        <i class="fa fa-send-o fa-2x"></i>
                        <h2 class="bootcamp-submodule-name">7.1. <span>Wstęp do programowania funkcyjnego, czyli wyrażenia lambda</span></h2>
                                            </div>
                    <div class="card-block">
                        <div class="submodule-content">
                            <p>Od kilku lat coraz częściej można się spotkać wśród programistów Javy z określeniem <a href="https://pl.wikipedia.org/wiki/Programowanie_funkcyjne" target="_blank">programowanie funkcyjne</a>. Programowanie funkcyjne prezentuje podejście polegające na tym, że wszystko w programie powinno być funkcją (a nie na przykład obiektem). Istnieją wyspecjalizowane języki programowania w całości oparte na tym paradygmacie, na przykład język <a href="https://pl.wikipedia.org/wiki/Haskell" target="_blank">Haskell</a>.</p>
<p>Do języka Java wprowadzono w wersji 8 kilka ciekawych elementów związanych z programowaniem funkcyjnym. Elementy te są dość entuzjastycznie odbierane przez środowisko programistów, ponieważ istotnie upraszczają zapis wielu operacji w kodzie źródłowym. Przyjrzymy się teraz najbardziej znanemu przykładowi programowania funkcyjnego w języku Java - tak zwanym wyrażeniom lambda.</p>
<h3 id="71-wstep-do-programowania-funkcyjnego-czyli-wyrazenia-lambda-przygotowanie-srodowiska">Przygotowanie środowiska</h3>
<p>Przygotowanie środowiska: utwórz nowy moduł o nazwie <b>kodilla-stream</b> wraz ze strukturą katalogów <i>src/main/java</i> oraz <i>src/test/java</i> oraz pierwszym pakietem <b>com.kodilla.stream</b> w katalogu <i>src/main/java</i> (sposób tworzenia i konfigurowania modułu omówiliśmy w submodule 6.1 - w razie problemów przeczytaj ponownie ten submoduł lub skorzystaj z krótkiego przypomnienia poniżej).</p>

<div class="bc-note alert-success">
    <h4 class="alert-heading text-center">Przypomnienie</h4>
    <p>Skrót <b>PPM</b> = Prawy Przycisk Myszy.</p>
    <p>Aby utworzyć nowy moduł, kliknij na główny projekt <b>kodilla-course</b>, a następnie <b>PPM</b> i wybierz polecenie <i>New-&gt;Module</i>.</p>
    <p>Następnie wybierz <b>Gradle</b> i zaznacz <b>Java</b>. W kolejnym oknie wpisz w polu <b>Artifatcid</b> nazwę modułu: <b>kodilla-stream</b>.</p>
    <p>Następnie kliknij na nowym module, a następnie <b>PPM</b> i przy pomocy polecenia <i>New-&gt;Directory</i> utwórz katalog <i>src</i> a w nim <i>main</i> a w nim <i>java</i>. Następnie w katalogu <i>src</i> utwórz jeszcze katalog <i>test</i> a w nim <i>java</i>. Jeżeli oba katalogi <i>java</i> nie mają niebieskiego i zielonego koloru - musisz je oznaczyć: <b>PPM</b> na katalogu i wybierz polecenie <i>Mark Directory as</i>, a następnie odpowiednio: <i>Sources Root</i> oraz <i>Test Sources Root</i>.</p>
    <p>W ostatnim kroku kliknij w katalog <i>src/main/java</i>, a następnie <b>PPM</b> i wybierz polecenie <i>New-&gt;Package</i>. Jako nazwę pakietu podaj <b>com.kodilla.stream</b></p>
</div>

<p>Utwórz również klasę <code class=" language-java">StreamMain</code> zawierającą metodę <code class=" language-java"><span class="token function">main</span><span class="token punctuation">(</span>String<span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span></code> według wzoru poniżej:</p>

<pre class="line-numbers language-java code-toolbar"><code class=" language-java"><span class="token keyword keyword-package">package</span> com<span class="token punctuation">.</span>kodilla<span class="token punctuation">.</span>stream<span class="token punctuation">;</span>

<span class="token keyword keyword-public">public</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">StreamMain</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-static">static</span> <span class="token keyword keyword-void">void</span> <span class="token function">main</span><span class="token punctuation">(</span>String<span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"Welcome to module 7 - Stream"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code><div class="toolbar"></div></pre>


<p>Po wykonaniu powyższych czynności sprawdź czy projekt się buduje - uruchom okno konsoli i wykonaj polecenie <code class=" language-java">gradlew build</code> (dla macOS: <code class=" language-java"><span class="token punctuation">.</span>/gradlew build</code>). Jeżeli wszystko wykonało się poprawnie - masz gotowe środowisko do pracy z modułem nr 7.</p>
<h3 id="71-wstep-do-programowania-funkcyjnego-czyli-wyrazenia-lambda-podejscie-obiektowe">Podejście obiektowe</h3>
<p>Aby zrozumieć czym jest programowanie funkcyjne, przypomnijmy sobie jak działa programowanie obiektowe.W katalogu <i>src/main/java</i> utwórz pakiet <b>com.kodilla.stream.lambda</b> i napisz w nim klasę <code class=" language-java">SaySomething</code>, która posiada metodę <code class=" language-java"><span class="token function">say</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code>:</p>

<pre class="line-numbers language-java code-toolbar"><code class=" language-java"><span class="token keyword keyword-package">package</span> com<span class="token punctuation">.</span>kodilla<span class="token punctuation">.</span>stream<span class="token punctuation">.</span>lambda<span class="token punctuation">;</span>

<span class="token keyword keyword-public">public</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">SaySomething</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-void">void</span> <span class="token function">say</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"This is an example text."</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code><div class="toolbar"></div></pre>


<p>W klasie <code class=" language-java">StreamMain</code> w metodzie <code class=" language-java"><span class="token function">main</span><span class="token punctuation">(</span>String<span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span></code> utwórz obiekt klasy <code class=" language-java">SaySomething</code> oraz uruchom jego metodę <code class=" language-java"><span class="token function">say</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code>:</p>

<pre class="line-numbers language-java code-toolbar"><code class=" language-java"><span class="token keyword keyword-package">package</span> com<span class="token punctuation">.</span>kodilla<span class="token punctuation">.</span>stream<span class="token punctuation">;</span>

<span class="token keyword keyword-import">import</span> com<span class="token punctuation">.</span>kodilla<span class="token punctuation">.</span>stream<span class="token punctuation">.</span>lambda<span class="token punctuation">.</span>SaySomething<span class="token punctuation">;</span>

<span class="token keyword keyword-public">public</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">StreamMain</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-static">static</span> <span class="token keyword keyword-void">void</span> <span class="token function">main</span><span class="token punctuation">(</span>String<span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"Welcome to module 7 - Stream"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            SaySomething saySomething <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token class-name">SaySomething</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            saySomething<span class="token punctuation">.</span><span class="token function">say</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code><div class="toolbar"></div></pre>


<p>Musieliśmy napisać sporo kodu, aby wyświetlić jedną linijkę tekstu w podejściu obiektowym. W szczególności musieliśmy napisać klasę, stworzyć obiekt tej klasy i wywołać jego metodę. A co by było w sytuacji, gdybyśmy chcieli wyświetlać różne teksty lub wykonywać jakieś inne czynności?</p>

<div class="bc-note alert-success">
    <h4 class="alert-heading text-info">Wyjaśnienie</h4>
    <p>Oczywiście możliwe było napisanie wprost w metodzie <code class=" language-java"><span class="token function">main</span><span class="token punctuation">(</span>String<span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span></code>:</p>
        <pre class="language-java code-toolbar"><code class=" language-java">System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"This is an example text."</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code><div class="toolbar"></div></pre>
    <p>Chodziło nam jednak o pokazanie jak taka operacja wygląda w czystym podejściu obiektowym (OOP).</p>
</div>



<p>Jedną z możliwości, jakie oferuje w tym zakresie OOP jest zastosowanie interfejsów. W katalogu <i>src/main/java</i>, w pakiecie <b>com.kodilla.stream.lambda</b> utwórz interfejs:</p>

<pre class="line-numbers language-java code-toolbar"><code class=" language-java"><span class="token keyword keyword-package">package</span> com<span class="token punctuation">.</span>kodilla<span class="token punctuation">.</span>stream<span class="token punctuation">.</span>lambda<span class="token punctuation">;</span>

<span class="token keyword keyword-public">public</span> <span class="token keyword keyword-interface">interface</span> <span class="token class-name">Executor</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-void">void</span> <span class="token function">process</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code><div class="toolbar"></div></pre>


<p>W tym samym pakiecie utwórz również klasę <code class=" language-java">Processor</code>, która posiada metodę <code class=" language-java"><span class="token function">execute</span><span class="token punctuation">(</span>Executor executor<span class="token punctuation">)</span></code>, przyjmującą jako argument obiekt dowolnej klasy implementującej interfejs <code class=" language-java">Executor</code>.</p>

<pre class="line-numbers language-java code-toolbar"><code class=" language-java"><span class="token keyword keyword-package">package</span> com<span class="token punctuation">.</span>kodilla<span class="token punctuation">.</span>stream<span class="token punctuation">.</span>lambda<span class="token punctuation">;</span>

<span class="token keyword keyword-public">public</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">Processor</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-void">void</span> <span class="token function">execute</span><span class="token punctuation">(</span>Executor executor<span class="token punctuation">)</span> <span class="token punctuation">{</span>
          executor<span class="token punctuation">.</span><span class="token function">process</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code><div class="toolbar"></div></pre>

<p>Stwórz teraz przykładową implementację interfejsu <code class=" language-java">Executor</code> - w katalogu src/main/java, w pakiecie <b>com.kodilla.stream.lambda</b> napisz klasę <code class=" language-java">ExecuteSaySomething</code> implementującą interfejs <code class=" language-java">Executor</code>:</p>


<pre class="line-numbers language-java code-toolbar"><code class=" language-java"><span class="token keyword keyword-package">package</span> com<span class="token punctuation">.</span>kodilla<span class="token punctuation">.</span>stream<span class="token punctuation">.</span>lambda<span class="token punctuation">;</span>

<span class="token keyword keyword-public">public</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">ExecuteSaySomething</span> <span class="token keyword keyword-implements">implements</span> <span class="token class-name">Executor</span> <span class="token punctuation">{</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-void">void</span> <span class="token function">process</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"This is an example text."</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code><div class="toolbar"></div></pre>

<p>Zmodyfikuj teraz treść metody <code class=" language-java">main</code> w klasie <code class=" language-java">StreamMain</code> w taki sposób, aby użyć klasy <code class=" language-java">Processor</code> do wykonania zadań przewidzianych dla przykładowej implementacji interfejsu <code class=" language-java">Executor</code>:</p>

<pre class="line-numbers language-java code-toolbar"><code class=" language-java"><span class="token keyword keyword-package">package</span> com<span class="token punctuation">.</span>kodilla<span class="token punctuation">.</span>stream<span class="token punctuation">;</span>

<span class="token keyword keyword-import">import</span> com<span class="token punctuation">.</span>kodilla<span class="token punctuation">.</span>stream<span class="token punctuation">.</span>lambda<span class="token punctuation">.</span>ExecuteSaySomething<span class="token punctuation">;</span>
<span class="token keyword keyword-import">import</span> com<span class="token punctuation">.</span>kodilla<span class="token punctuation">.</span>stream<span class="token punctuation">.</span>lambda<span class="token punctuation">.</span>Processor<span class="token punctuation">;</span>

<span class="token keyword keyword-public">public</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">StreamMain</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-static">static</span> <span class="token keyword keyword-void">void</span> <span class="token function">main</span><span class="token punctuation">(</span>String<span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        Processor processor <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token class-name">Processor</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        ExecuteSaySomething executeSaySomething <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token class-name">ExecuteSaySomething</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        processor<span class="token punctuation">.</span><span class="token function">execute</span><span class="token punctuation">(</span>executeSaySomething<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code><div class="toolbar"></div></pre>

<p>W powyższym przykładzie w linii nr 8 tworzymy obiekt klasy <code class=" language-java">Processor</code>, który będzie odpowiedzialny za uruchamianie przekazywanych do metody <code class=" language-java"><span class="token function">execute</span><span class="token punctuation">(</span>Executor executor<span class="token punctuation">)</span></code> obiektów implementujących interfejs <code class=" language-java">Executor</code>. W linii nr 9 tworzony jest taki właśnie obiekt i następnie w linii nr 10 następuje wywołanie metody <code class=" language-java"><span class="token function">execute</span><span class="token punctuation">(</span>Executor executor<span class="token punctuation">)</span></code> klasy <code class=" language-java">Processor</code>, której za pośrednictwem argumentu przekazujemy obiekt.</p>
<p>Zauważ ważną rzecz, która się właśnie wydarzyła - do klasy <code class=" language-java">Processor</code> przekazaliśmy nie tylko tekst do wyświetlenia. Przekazaliśmy również kod, który ma być wykonany (w postaci implementacji metody <code class=" language-java"><span class="token function">execute</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> obiektu <code class=" language-java">executeSaySomething</code>). W ten sposób zyskaliśmy cenną możliwość - oprócz danych, możemy również przekazywać kod, który na tych danych operuje!</p>
<h3 id="71-wstep-do-programowania-funkcyjnego-czyli-wyrazenia-lambda-podejscie-funkcyjne-wyrazenia-lambda">Podejście funkcyjne - wyrażenia lambda</h3>
<p>Zatrzymajmy się na chwilę i zastanówmy się - po co w ogóle to wszystko jest potrzebne? Otóż - dzięki powyższemu rozwiązaniu, do metod klasy możemy przekazać nie tylko wartości zmiennych, ale również <b>kod, który ma być wykonany</b>.</p>
<p>Wyobraźmy sobie teraz, że moglibyśmy przypisać do zmiennej nie wartość, ale fragment dowolnego kodu (na przykład metodę). Mogłoby to wyglądać mniej więcej tak (ten przykład nie będzie działał - jest tylko dla zobrazowania) :)</p>

<pre class="line-numbers language-java code-toolbar"><code class=" language-java">codeToExecute <span class="token operator">=</span> <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-void">void</span> <span class="token function">process</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"This is an example text."</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code><div class="toolbar"></div></pre>

<p>W powyższym przykładzie próbujemy do zmiennej <code class=" language-java">codeToExecute</code> przypisać metodę <code class=" language-java"><span class="token function">process</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> z klasy <code class=" language-java">ExecuteSaySomething</code>. Gdyby takie przypisanie było możliwe - moglibyśmy tę zmienną przekazać do klasy <code class=" language-java">Processor</code>, bez potrzeby tworzenia obiektu. Zastanówmy się jak można by to zrobić (gdyby było to możliwe).</p>
<p>Po pierwsze, nie potrzebowalibyśmy nazwy metody (mamy ją w zmiennej, więc nie odwołujemy się do niej przy użyciu nazwy) ani określania czy jest publiczna (nie interesuje nas dostęp do niej z innych klas - mamy ją w zmiennej, która jest widoczna) - wobec tego, zostałoby nam:</p>

<pre class="line-numbers language-java code-toolbar"><code class=" language-java">codeToExecute <span class="token operator">=</span> <span class="token keyword keyword-void">void</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"This is an example text."</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code><div class="toolbar"></div></pre>

<p>Następnie - nie potrzebowalibyśmy określać jaki typ danych zwraca ta metoda, ponieważ kompilator "jest sprytny" i sam może sprawdzić czy w środku występuje słowo <code class=" language-java"><span class="token keyword keyword-return">return</span></code> i jakiego typu dane zwraca. Zostałoby więc:</p>

<pre class="line-numbers language-java code-toolbar"><code class=" language-java">codeToExecute <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"This is an example text."</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code><div class="toolbar"></div></pre>

<p>A teraz UWAGA! :) Po dodaniu jednego operatora <code class=" language-java"><span class="token operator">-</span><span class="token operator">&gt;</span></code> otrzymamy z powyższego coś, co nazywamy <a href="https://docs.oracle.com/javase/tutorial/java/javaOO/lambdaexpressions.html">wyrażeniem lambda</a> (<i>ang. lambda expression</i>):</p>

<pre class="line-numbers language-java code-toolbar"><code class=" language-java">codeToExecute <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
            System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"This is an example text."</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code><div class="toolbar"></div></pre>

<p>W sytuacji gdy wyrażenie lambda ma więcej niż jedną linię, powinno ono być otoczone nawiasami klamrowymi <code class=" language-java"><span class="token punctuation">{</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">}</span></code>. W sytuacji gdy jest to tylko jedna linia kodu, możemy (a właściwie musimy, gdy wyrażenie lambda przekazujemy jako argument do wywołania metody bez użycia zmiennej) zlikwidować nawiasy. Uzyskamy wówczas następujący zapis:</p>
<pre class="line-numbers language-java code-toolbar"><code class=" language-java">codeToExecute <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"This is an example text."</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code><div class="toolbar"></div></pre>

<p>Nie wspominaliśmy jeszcze nic na temat tego, jakiego typu powinna być zmienna <code class=" language-java">codeToExecute</code>. Właściwym typem jest typ interfejsu jaki zastosowalibyśmy do zmuszenia klasy do zaimplementowania takiej metody, czyli w naszym przypadku typ interfejsu <code class=" language-java">Executor</code>:</p>

<pre class="line-numbers language-java code-toolbar"><code class=" language-java">Executor codeToExecute <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"This is an example text."</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code><div class="toolbar"></div></pre>

<p>I to już jest pełne wyrażenie lambda :) Co ważniejsze - działające!</p>
<p>Spróbujmy teraz zmodyfikować program w metodzie <code class=" language-java"><span class="token function">main</span><span class="token punctuation">(</span>String<span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span></code> klasy <code class=" language-java">StreamMain</code>:</p>

<pre class="line-numbers language-java code-toolbar"><code class=" language-java"><span class="token keyword keyword-package">package</span> com<span class="token punctuation">.</span>kodilla<span class="token punctuation">.</span>stream<span class="token punctuation">;</span>

<span class="token keyword keyword-import">import</span> com<span class="token punctuation">.</span>kodilla<span class="token punctuation">.</span>stream<span class="token punctuation">.</span>lambda<span class="token punctuation">.</span>Executor<span class="token punctuation">;</span>
<span class="token keyword keyword-import">import</span> com<span class="token punctuation">.</span>kodilla<span class="token punctuation">.</span>stream<span class="token punctuation">.</span>lambda<span class="token punctuation">.</span>Processor<span class="token punctuation">;</span>

<span class="token keyword keyword-public">public</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">StreamMain</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-static">static</span> <span class="token keyword keyword-void">void</span> <span class="token function">main</span><span class="token punctuation">(</span>String<span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        Processor processor <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token class-name">Processor</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        Executor codeToExecute <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"This is an example text."</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        processor<span class="token punctuation">.</span><span class="token function">execute</span><span class="token punctuation">(</span>codeToExecute<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code><div class="toolbar"></div></pre>

<p>Pozbyliśmy się całkowicie klasy <code class=" language-java">ExecuteSaySomething</code> i nie musimy tworzyć jej obiektu! Oto jak działa powyższy program:</p>
<ul>
	<li>W linii 8 tworzony jest obiekt klasy <code class=" language-java">Processor</code>, który odpowiedzialny jest za wykonywanie kodu, który zostanie przekazany jako parametr (kod musi implementować interfejs <code class=" language-java">Executor</code>)</li>
	<li>W linii 9 tworzone jest wyrażenie lambda i przypisywane do zmiennej <code class=" language-java">codeToExecute</code></li>
	<li>W linii 10 wywoływana jest metoda <code class=" language-java">execute</code> klasy <code class=" language-java">Processor</code>, która jako argument otrzymuje wyrażenie lambda <code class=" language-java">codeToExecute</code></li>
</ul>
<p>Zmiennej <code class=" language-java">codeToExecute</code> w ogóle nie musimy tworzyć - możemy nasz kod przekazać wprost do argumentu metody <code class=" language-java">execute</code> klasy <code class=" language-java">Processor</code>. Wyglądałoby to mniej więcej tak:</p>

<pre class="line-numbers language-java code-toolbar"><code class=" language-java"><span class="token keyword keyword-package">package</span> com<span class="token punctuation">.</span>kodilla<span class="token punctuation">.</span>stream<span class="token punctuation">;</span>

<span class="token keyword keyword-import">import</span> com<span class="token punctuation">.</span>kodilla<span class="token punctuation">.</span>stream<span class="token punctuation">.</span>lambda<span class="token punctuation">.</span>Processor<span class="token punctuation">;</span>

<span class="token keyword keyword-public">public</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">StreamMain</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-static">static</span> <span class="token keyword keyword-void">void</span> <span class="token function">main</span><span class="token punctuation">(</span>String<span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        Processor processor <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token class-name">Processor</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        processor<span class="token punctuation">.</span><span class="token function">execute</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"This is an example text."</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code><div class="toolbar"></div></pre>

<p>Co ma do tego interfejs?</p>

<div class="bc-note alert-danger">
    <h4 class="alert-heading text-center">Wyjaśnienie - dlaczego musimy stosować interfejs?</h4>
    <p>Wyrażenia lambda z chwilą przekazania do metody oczekującej argumentu typu interfejsowego stają się anonimowymi obiektami implementującymi ten interfejs. Metoda, do której wyrażenie lambda zostało przekazane, wywołuje na otrzymanym obiekcie tę metodę.</p>
    <p>Zawsze gdy chcemy przekazywać do metody wyrażenia lambda, to metoda ta musi oczekiwać argumentu typu interfejsowego. Interfejs zaś musi mieć <b>TYLKO</b> jedną metodę. Implementacją tej właśnie metody stanie się otrzymane wyrażenie lambda.</p>
</div>






<h4>Wyrażenie lambda a metody z argumentami</h4>
<p>No dobrze, a co z metodami, które przyjmują argumenty? Stwórz nieco inny przykład interfejsu i metody. W katalogu <i>src/main/java</i> w pakiecie <b>com.kodilla.stream.lambda</b> utwórz interfejs <code class=" language-java">MathExpression</code> oraz klasę <code class=" language-java">ExpressionExecutor</code> zgodnie z poniższym:</p>

<pre class="line-numbers language-java code-toolbar"><code class=" language-java"><span class="token keyword keyword-package">package</span> com<span class="token punctuation">.</span>kodilla<span class="token punctuation">.</span>stream<span class="token punctuation">.</span>lambda<span class="token punctuation">;</span>

<span class="token keyword keyword-public">public</span> <span class="token keyword keyword-interface">interface</span> <span class="token class-name">MathExpression</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-double">double</span> <span class="token function">calculateExpression</span><span class="token punctuation">(</span><span class="token keyword keyword-double">double</span> a<span class="token punctuation">,</span> <span class="token keyword keyword-double">double</span> b<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code><div class="toolbar"></div></pre>
<pre class="line-numbers language-java code-toolbar"><code class=" language-java"><span class="token keyword keyword-package">package</span> com<span class="token punctuation">.</span>kodilla<span class="token punctuation">.</span>stream<span class="token punctuation">.</span>lambda<span class="token punctuation">;</span>

<span class="token keyword keyword-public">public</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">ExpressionExecutor</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-void">void</span> <span class="token function">executeExpression</span><span class="token punctuation">(</span><span class="token keyword keyword-double">double</span> a<span class="token punctuation">,</span> <span class="token keyword keyword-double">double</span> b<span class="token punctuation">,</span> MathExpression mathExpression<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword keyword-double">double</span> result <span class="token operator">=</span> mathExpression<span class="token punctuation">.</span><span class="token function">calculateExpression</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span><span class="token punctuation">;</span>
            System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"Result equals: "</span> <span class="token operator">+</span> result<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code><div class="toolbar"></div></pre>
<p>Zauważ, że metoda <code class=" language-java"><span class="token function">executeExpression</span><span class="token punctuation">(</span><span class="token keyword keyword-double">double</span> a<span class="token punctuation">,</span> <span class="token keyword keyword-double">double</span> b<span class="token punctuation">,</span> MathExpression mathExpression<span class="token punctuation">)</span></code> przyjmuje dwa argumenty <code class=" language-java">a</code> oraz <code class=" language-java">b</code>, a także kod do wykonania na tych argumentach w postaci argumentu <code class=" language-java">mathExpression</code>.</p>
<p>Wyrażenie lambda z argumentami, odpowiadające powyższemu, wygląda następująco:</p>

<pre class="line-numbers language-java code-toolbar"><code class=" language-java"><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> a <span class="token operator">+</span> b<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code><div class="toolbar"></div></pre>



<p>wyrażenie to przyjmuje dwa argumenty: <code class=" language-java">a</code> oraz <code class=" language-java">b</code>. Nie podajemy typu argumentów - kompilator sam sprawdzi jaki jest ich typ (analogicznie do sytuacji, gdy nie podajemy typu zwracanego). Następnie wyrażenie oblicza sumę tych elementów i ją zwraca (w jednoliniowych wyrażeniach lambda pomijamy słowo <code class=" language-java"><span class="token keyword keyword-return">return</span></code>).</p>
<p>Zastosowanie opiszemy nieco niżej.</p>

<div class="bc-note alert-info">
    <h4 class="alert-heading text-center">Uproszczony zapis wyrażeń lambda</h4>
    <p>W sytuacji gdy metoda zapisana przy pomocy wyrażenia lambda otrzymuje tylko jeden argument wejściowy oraz posiada jedną linię kodu opatrzoną słowem <code class=" language-java"><span class="token keyword keyword-return">return</span></code>, jak na przykład:</p>

    <pre class="line-numbers language-java code-toolbar"><code class=" language-java"><span class="token keyword keyword-boolean">boolean</span> <span class="token function">isExpressioneLessThan10</span><span class="token punctuation">(</span><span class="token keyword keyword-int">int</span> expression<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-return">return</span> expression <span class="token operator">&lt;</span> <span class="token number">10</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code><div class="toolbar"></div></pre>

    <p>wówczas możemy użyć uproszczonego zapisu wyrażenia lambda - argument wejściowy nie musi być otoczony nawiasami, a słowo <code class=" language-java"><span class="token keyword keyword-return">return</span></code> można pominąć:</p>
    <pre class="line-numbers language-java code-toolbar"><code class=" language-java">n <span class="token operator">-</span><span class="token operator">&gt;</span> n <span class="token operator">&lt;</span> <span class="token number">10</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code><div class="toolbar"></div></pre>
</div>





<h4>Przykład kalkulatora wykorzystującego wyrażenia lambda</h4>
<p>Użycie takiego wyrażenia lambda w klasie <code class=" language-java">StreamMain</code> w metodzie <code class=" language-java"><span class="token function">main</span><span class="token punctuation">(</span>String<span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span></code> będzie wyglądało następująco (zmodyfikuj jej kod):</p>

<pre class="line-numbers language-java code-toolbar"><code class=" language-java"><span class="token keyword keyword-package">package</span> com<span class="token punctuation">.</span>kodilla<span class="token punctuation">.</span>stream<span class="token punctuation">;</span>

<span class="token keyword keyword-import">import</span> com<span class="token punctuation">.</span>kodilla<span class="token punctuation">.</span>stream<span class="token punctuation">.</span>lambda<span class="token punctuation">.</span>ExpressionExecutor<span class="token punctuation">;</span>

<span class="token keyword keyword-public">public</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">StreamMain</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-static">static</span> <span class="token keyword keyword-void">void</span> <span class="token function">main</span><span class="token punctuation">(</span>String<span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            ExpressionExecutor expressionExecutor <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token class-name">ExpressionExecutor</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            expressionExecutor<span class="token punctuation">.</span><span class="token function">executeExpression</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> a <span class="token operator">+</span> b<span class="token punctuation">)</span><span class="token punctuation">;</span>
            expressionExecutor<span class="token punctuation">.</span><span class="token function">executeExpression</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> a <span class="token operator">-</span> b<span class="token punctuation">)</span><span class="token punctuation">;</span>
            expressionExecutor<span class="token punctuation">.</span><span class="token function">executeExpression</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> a <span class="token operator">*</span> b<span class="token punctuation">)</span><span class="token punctuation">;</span>
            expressionExecutor<span class="token punctuation">.</span><span class="token function">executeExpression</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> a <span class="token operator">/</span> b<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code><div class="toolbar"></div></pre>

<p>Działanie programu jest następujące:</p>
<ul>
	<li>W linii nr 7 tworzymy obiekt klasy <code class=" language-java">ExpressionExecutor</code></li>
	<li>W liniach 9-12 czterokrotnie wywołujemy metodę <code class=" language-java"><span class="token function">executeExpression</span><span class="token punctuation">(</span><span class="token keyword keyword-double">double</span> a<span class="token punctuation">,</span> <span class="token keyword keyword-double">double</span> b<span class="token punctuation">,</span> MathExpression mathExpression<span class="token punctuation">)</span></code> - każdorazowo podajemy (poprzez wyrażenie lambda z parametrami) inny kod działania matematycznego do wykonania</li>
</ul>
<p>Zauważ, że nie musieliśmy tworzyć klas implementujących w różny sposób metody <code class=" language-java"><span class="token function">calculateExpression</span><span class="token punctuation">(</span><span class="token keyword keyword-double">double</span> a<span class="token punctuation">,</span> <span class="token keyword keyword-double">double</span> b<span class="token punctuation">)</span></code> interfejsu <code class=" language-java">MathExpression</code>.</p>
<p>Działanie poszczególnych wywołań (czyli ich kod) określamy każdorazowo poprzez użycie wyrażenia lambda. Czy taki zapis nie jest o wiele krótszy i czytelniejszy, niż tworzenie wielu klas implementujących w różny sposób interfejs <code class=" language-java">MathExpression</code>?</p>
<p>Warto trochę poćwiczyć z wyrażeniami lambda - będziemy ich od teraz często używali.</p>
<h3 id="71-wstep-do-programowania-funkcyjnego-czyli-wyrazenia-lambda-referencje-do-metod">Referencje do metod</h3>
<p>Nim przejdziemy do konkretnych zastosowań wyrażeń lambda warto poznać jeszcze jedno pojęcie oraz składnię poleceń z nim związaną - pojęcie <a href="https://docs.oracle.com/javase/tutorial/java/javaOO/methodreferences.html">referencji do metod</a> (<i>ang. method reference</i>).</p>
<p>Wyobraź sobie, że masz już gdzieś w swoim programie napisaną klasę, która wykonuje podstawowe operacje matematyczne (w katalogu <i>src/main/java</i> utwórz pakiet <b>com.kodilla.stream.reference</b>, a w nim klasę <code class=" language-java">FunctionalCalculator</code>):</p>

<pre class="line-numbers language-java code-toolbar"><code class=" language-java"><span class="token keyword keyword-package">package</span> com<span class="token punctuation">.</span>kodilla<span class="token punctuation">.</span>stream<span class="token punctuation">.</span>reference<span class="token punctuation">;</span>

<span class="token keyword keyword-public">public</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">FunctionalCalculator</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-static">static</span> <span class="token keyword keyword-double">double</span> <span class="token function">multiplyAByB</span><span class="token punctuation">(</span><span class="token keyword keyword-double">double</span> a<span class="token punctuation">,</span> <span class="token keyword keyword-double">double</span> b<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword keyword-return">return</span> a <span class="token operator">*</span> b<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-static">static</span> <span class="token keyword keyword-double">double</span> <span class="token function">addAToB</span><span class="token punctuation">(</span><span class="token keyword keyword-double">double</span> a<span class="token punctuation">,</span> <span class="token keyword keyword-double">double</span> b<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword keyword-return">return</span> a <span class="token operator">+</span> b<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-static">static</span> <span class="token keyword keyword-double">double</span> <span class="token function">subBFromA</span><span class="token punctuation">(</span><span class="token keyword keyword-double">double</span> a<span class="token punctuation">,</span> <span class="token keyword keyword-double">double</span> b<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword keyword-return">return</span> a <span class="token operator">-</span> b<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-static">static</span> <span class="token keyword keyword-double">double</span> <span class="token function">divideAByB</span><span class="token punctuation">(</span><span class="token keyword keyword-double">double</span> a<span class="token punctuation">,</span> <span class="token keyword keyword-double">double</span> b<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword keyword-return">return</span> a <span class="token operator">/</span> b<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code><div class="toolbar"></div></pre>


<p>Klasa <code class=" language-java">FunctionalCalculator</code> posiada cztery metody statyczne (nie musisz tworzyć obiektu klasy <code class=" language-java">FunctionalCalculator<span class="token punctuation">,</span></code> aby ich użyć), które wykonują podstawowe operacje matematyczne.</p>
<p>Zamiast wyrażenia lambda (w metodzie <code class=" language-java"><span class="token function">main</span><span class="token punctuation">(</span>String<span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span></code>) w wywołaniu:</p>

<pre class="line-numbers language-java code-toolbar"><code class=" language-java">expressionExecutor<span class="token punctuation">.</span><span class="token function">executeExpression</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> a <span class="token operator">+</span> b<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code><div class="toolbar"></div></pre>

<p>możemy wskazać metodę, która ma być użyta do wykonania operacji na przekazanych argumentach. Jest więc to inny sposób na przekazanie do metody kodu, który ma zostać wykonany. Referencję do dowolnej metody statycznej klasy uzyskujemy poprzez użycie następującego zapisu:</p>

<pre class="line-numbers language-java code-toolbar"><code class=" language-java">ClassName<span class="token operator">:</span><span class="token operator">:</span>methodName<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code><div class="toolbar"></div></pre>

<p>Spójrz na zmodyfikowaną metodę <code class=" language-java"><span class="token function">main</span><span class="token punctuation">(</span>String<span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span></code> w klasie <code class=" language-java">StreamMain</code>:</p>

<pre class="line-numbers language-java code-toolbar"><code class=" language-java"><span class="token keyword keyword-package">package</span> com<span class="token punctuation">.</span>kodilla<span class="token punctuation">.</span>stream<span class="token punctuation">;</span>

<span class="token keyword keyword-import">import</span> com<span class="token punctuation">.</span>kodilla<span class="token punctuation">.</span>stream<span class="token punctuation">.</span>lambda<span class="token punctuation">.</span>ExpressionExecutor<span class="token punctuation">;</span>
<span class="token keyword keyword-import">import</span> com<span class="token punctuation">.</span>kodilla<span class="token punctuation">.</span>stream<span class="token punctuation">.</span>reference<span class="token punctuation">.</span>FunctionalCalculator<span class="token punctuation">;</span>

<span class="token keyword keyword-public">public</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">StreamMain</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-static">static</span> <span class="token keyword keyword-void">void</span> <span class="token function">main</span><span class="token punctuation">(</span>String<span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        ExpressionExecutor expressionExecutor <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token class-name">ExpressionExecutor</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"Calculating expressions with lambdas"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        expressionExecutor<span class="token punctuation">.</span><span class="token function">executeExpression</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> a <span class="token operator">+</span> b<span class="token punctuation">)</span><span class="token punctuation">;</span>
        expressionExecutor<span class="token punctuation">.</span><span class="token function">executeExpression</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> a <span class="token operator">-</span> b<span class="token punctuation">)</span><span class="token punctuation">;</span>
        expressionExecutor<span class="token punctuation">.</span><span class="token function">executeExpression</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> a <span class="token operator">*</span> b<span class="token punctuation">)</span><span class="token punctuation">;</span>
        expressionExecutor<span class="token punctuation">.</span><span class="token function">executeExpression</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> a <span class="token operator">/</span> b<span class="token punctuation">)</span><span class="token punctuation">;</span>

        System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"Calculating expressions with method references"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        expressionExecutor<span class="token punctuation">.</span><span class="token function">executeExpression</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> FunctionalCalculator<span class="token operator">:</span><span class="token operator">:</span>multiplyAByB<span class="token punctuation">)</span><span class="token punctuation">;</span>
        expressionExecutor<span class="token punctuation">.</span><span class="token function">executeExpression</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> FunctionalCalculator<span class="token operator">:</span><span class="token operator">:</span>addAToB<span class="token punctuation">)</span><span class="token punctuation">;</span>
        expressionExecutor<span class="token punctuation">.</span><span class="token function">executeExpression</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> FunctionalCalculator<span class="token operator">:</span><span class="token operator">:</span>subBFromA<span class="token punctuation">)</span><span class="token punctuation">;</span>
        expressionExecutor<span class="token punctuation">.</span><span class="token function">executeExpression</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> FunctionalCalculator<span class="token operator">:</span><span class="token operator">:</span>divideAByB<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code><div class="toolbar"></div></pre>

<p>Możemy w ten sposób odwoływać się do metod:</p>
<ul>
	<li>statycznych klasy, poprzez zapis <code class=" language-java">ClassName<span class="token operator">:</span><span class="token operator">:</span>methodName</code></li>
	<li>w istniejących obiektach, poprzez zapis <code class=" language-java">object<span class="token operator">:</span><span class="token operator">:</span>methodName</code></li>
	<li>konstruktora klasy, poprzez zapis <code class=" language-java">ClassName<span class="token operator">:</span><span class="token operator">:</span><span class="token keyword keyword-new">new</span></code></li>
</ul>

                        </div>
                    </div>
                                        <div class="card-block task-card">
                        <h3 id="71-wstep-do-programowania-funkcyjnego-czyli-wyrazenia-lambda-zadanie-upiekszacz-tekstow">Zadanie: <span class="task-title">Upiększacz tekstów</span></h3>
                        <div class="task-content">
                            <p>Przygotowanie:</p>
<ol>
	<li>utwórz pakiet <b>com.kodilla.stream.beautifier</b> w katalogu <i>src/main/java</i>.</li>
	<li>W tym pakiecie stwórz interfejs <code class=" language-java">PoemDecorator</code>, zawierający metodę <code class=" language-java">decorate</code> odpowiedzialną za ozdobienie tekstu przekazanego jako parametr.</li>
	<li>Stwórz klasę <code class=" language-java">PoemBeautifier</code>, która będzie posiadała metodę <code class=" language-java">beautify</code>, której jako parametry będzie można przekazać tekst do upiększenia oraz wyrażenie lambda upiększające tekst.</li>
</ol>

<p>Wykonanie zadania:</p>
<ul>
	<li>W metodzie <code class=" language-java"><span class="token function">main</span><span class="token punctuation">(</span>String<span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span></code> klasy <code class=" language-java">StreamMain<span class="token punctuation">,</span></code> utwórz obiekt klasy <code class=" language-java">PoemBeautifier</code> i wywołaj kilka razy metodę <code class=" language-java">beautify</code> z różnymi tekstami i różnymi upiększaczami tekstu (wyrażenia lambda).</li>
	<li>Przykładowymi upiększaczami tekstu mogą być na przykład kody dopisujące znaki “ABC” na początku i na końcu otrzymanego tekstu lub kody zmieniające cały otrzymany tekst na duże litery (skorzystaj z metody <code class=" language-java"><span class="token function">toUpperCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> klasy <code class=" language-java">String</code>).</li>
	<li>Wymyśl również dwa własne upiększacze.</li>
	<li>Kod zadania prześlij do <code class=" language-java">Github</code>.</li>
</ul>
<p>Link do repozytorium wklej poniżej i wyślij do mentora.</p>
                        </div>
                    </div>
                                        <div class="card-block submodule-footer clearfix ">
                                                <div class="clearfix">
                                                                                <a href="https://kodilla.com/pl/bootcamp-task/146/249431" target="_blank" class="btn btn-info-outline">Podgląd zadania</a>
                            <form target="_blank" class="form-inline project-link-form">
                                <div class="form-group">
                                    <input type="text" name="link" class="form-control" value="https://github.com/tymsocha/testing_training/commits/master">
                                </div>
                                <button type="submit" class="btn  btn-success-outline ">Wyslij link <i class="fa fa-check"></i></button>
                            </form>
                                                                                                    </div>
                    </div>
                </section>
                                    
                <section id="submodule-337" class="card submodule in-review" data-bootcamp-user-submodule-id="249432">
                <!-- klasy dla section: completed current comments -->
                    <div class="card-block submodule-header clearfix">
                        <i class="fa fa-check-circle-o fa-2x"></i>
                        <i class="fa fa-play-circle-o fa-2x"></i>
                        <i class="fa fa-exclamation-circle fa-2x"></i>
                        <i class="fa fa-send-o fa-2x"></i>
                        <h2 class="bootcamp-submodule-name">7.2. <span>Czym jest Stream?</span></h2>
                                            </div>
                    <div class="card-block">
                        <div class="submodule-content">
                            <p><code class=" language-java">Stream</code> jest strumieniem danych przepływającym przez zestaw funkcji. Możesz go sobie wyobrazić jako np. "głuchy telefon", gdzie ludzie siedzący w rzędzie powtarzają sobie po kolei to, co usłyszeli od poprzednika, przy okazji nieco modyfikując "dane" :)</p>
<h3 id="72-czym-jest-stream-analogia-do-swiata-rzeczywistego">Analogia do świata rzeczywistego</h3>
<p>Aby zrozumieć czym jest <b>Stream</b> (<i>pol. strumień</i>), posłużymy się analogią do świata rzeczywistego. Wyobraź sobie dwa zbiorniki wodne połączone strumieniem jak na rysunku poniżej.</p><a class="img-modal-group" href="./Moduł_ 7. Stream, czyli funkcyjna iteracja po kolekcjach_files/java-7_00.png"><img src="./Moduł_ 7. Stream, czyli funkcyjna iteracja po kolekcjach_files/java-7_00.png" style="width: 100%;"></a>
<p>Zastanówmy się co dzieje się na powyższym rysunku:</p>
<ol>
	<li>W stanie początkowym, cała woda znajduje się w <b>Zbiorniku A</b>, a zawór (<b>wyzwalacz przepływu</b>) jest zakręcony.</li>
	<li>W pewnym momencie zostaje odkręcony zawór (<b>wyzwalacz przepływu</b>), wskutek czego woda zaczyna się przelewać ze <b>Zbiornika A</b> do strumienia.</li>
	<li>Strumień napotyka po drodze na <b>zaporę - oczyszczalnię mechaniczną</b>, która dokonuje zmian fizycznych wody (tu: oczyszcza ją z zanieczyszczeń mechanicznych). Możemy inaczej powiedzieć, że woda poddawana jest <b><u>transformacji</u></b> do innej postaci.</li>
	<li>Następnie, strumień natrafia na <b>rozdzielacz wody</b> - jest to urządzenie, które część wody przekazuje dalej do strumienia, a część kieruje do bocznego odpływu. Załóżmy, że to urządzenie jest bardzo inteligentne i wybiera dobrze natlenione fragmenty wody i wodę "lepszej jakości" przekazuje dalej do strumienia. Możemy inaczej powiedzieć, że strumień podlega <b><u>filtrowaniu</u></b><u></u> ze względu na jakość. "Gorsza" woda jest odrzucana i kierowana do odpływu.</li>
	<li>W kolejnym etapie przepływu, strumień trafia na kolejną <b>zaporę - oczyszczalnię chemiczną</b>, która znowu poddaje wodę innemu procesowi <b><u>transformacji</u></b> - za zaporą woda ma inne właściwości niż przed zaporą - jest oczyszczona chemicznie.</li>
	<li>W końcowym etapie 'podróży' strumień, dociera do <b>kolektora - wyzwalacza wpływu</b>. W tym miejscu możemy strumień wpuścić do <b>Zbiornika B</b> lub zdecydować, że chcemy go skierować na jeszcze inne rodzaje <b><u>transformacji</u></b> (zmiany właściwości) lub <b><u>filtrowania</u></b> (selekcji, oddzielania).</li>
	<li>W ostatnim kroku następuje odkręcenie <b>kolektora</b>, co powoduje, że cały strumień wpływa do <b>Zbiornika B</b>.</li>
</ol>
<p>Najważniejsze cechy powyższej konstrukcji inżynieryjnej są następujące:</p>
<ul>
	<li>Strumień jest czymś nietrwałym - istniejącym tylko przez chwilę, na czas przepływu wody ze <b>Zbiornika A</b> do <b>Zbiornika B</b>.</li>
	<li>Woda podczas przepływu przez strumień może być poddawana <b>transformacjom</b>, które zmieniają właściwości wody w strumieniu.</li>
	<li>Woda podczas przepływu przez strumień może być poddawana <b>filtrowaniu</b>, które oddziela pewne części wody ze strumienia i nie przekazuje ich dalej (odpady).</li>
	<li>Jedynie <b>Zbiornik A</b> oraz <b>Zbiornik B</b> są czymś trwale przechowującym wodę</li>
</ul>
<h3 id="72-czym-jest-stream-analogia-posrednia-ustrukturyzowana">Analogia pośrednia - ustrukturyzowana :)</h3>
<p>Spróbujmy teraz uporządkować trochę to, co zobaczyliśmy przed chwilą. Przedstawmy to w nieco bardziej schematyczny i ustrukturyzowany sposób:</p><a class="img-modal-group" href="./Moduł_ 7. Stream, czyli funkcyjna iteracja po kolekcjach_files/java-7_01.png"><img src="./Moduł_ 7. Stream, czyli funkcyjna iteracja po kolekcjach_files/java-7_01.png" style="width: 100%;"></a>
<p>Strumień możemy sobie wyobrazić jako zestaw poukładanych kolejno <b>funkcji</b> transformujących (przekształcających do innej postaci) lub <b>funkcji</b> filtrujących (odrzucających niektóre dane) zbiór danych wejściowych. W efekcie, na końcu strumienia uzyskany finalnie potok danych możemy z powrotem "poskładać" w jakiś trwały zbiór danych, np. jakąś kolekcję.</p>
<p>Programowanie funkcyjne to nic innego jak skonwertowanie danych wejściowych w potok i "przepuszczenie" go przez zestaw funkcji. Na końcu, potok zmieniany jest znowu w zbiór danych (inny niż na początku).</p>
<p>Funkcje, przez które przepuszczany jest zestaw danych, mogą być:</p>
<ul>
	<li>pośrednie (<i>ang. intermediate operations</i>) - wykonujące operacje transformacji lub filtrowania</li>
	<li>terminalne (<i>ang. terminal operations</i>) - kończące działanie <code class=" language-java">Stream</code> i konwertujące dane z powrotem do postaci zbioru wyjściowego (kolektory)</li>
</ul>
<p>Ostatnimi funkcjami wykonywanymi na <code class=" language-java">Streamach</code> są zawsze operacje terminalne (w naszym przykładzie powyżej jest to <b>inicjacja tworzenia zbioru wynikowego - kolektor</b>, a w przykładzie z wodą był to zawór przed samym <b>Zbiornikiem B</b> - jego odkręcenie powodowało zakończenie przepływu wody przez strumień i przelanie wody do zbiornika końcowego).</p>

<div class="bc-note alert-danger">
    <h4 class="alert-heading text-center">Ważne</h4>
    <p>Strumień <code class=" language-java">Stream</code>, na którym uruchamiamy zestaw funkcji pośrednich w ogóle się nie wykona, jeżeli nie będzie zakończony funkcją terminalną. Zostanie "zignorowany" i pominięty w kodzie programu.</p>
</div>

<p>W Javie, <b>operacje terminalne</b> na <code class=" language-java">Streamach</code> charakteryzują się właśnie tym, że wynikiem ich wykonania jest tak zwany <b>konkretny typ</b> (<i>ang. concrete type</i>) - czyli na przykład jakaś kolekcja (zbiór wynikowy) lub typ skalarny (czyli pojedyncza wartość - gdy operacja terminalna oblicza np. sumę elementów strumienia i zwraca ją w formie liczby lub na przykład zwraca pojedynczy napis).</p>
<p>Natomiast wynikiem działania <b>operacji pośrednich</b> na <code class=" language-java">Stream</code> jest zawsze... <code class=" language-java">Stream</code> :) Każda operacja pośrednia posiada więc strumień wejściowy i "produkuje" strumień wyjściowy. Różnica pomiędzy strumieniami <code class=" language-java">Stream</code> zwracanymi przez poszczególne kroki pośrednie polega na tym, że są one zwracane w postaci zmienionej poprzez <b>transformację</b> lub <b>filtrowanie</b>, dzięki czemu do wyjścia operacji pośredniej możemy podłączyć kolejną operację pośrednią, do niej kolejną i tak dalej.</p>
<p>Warto zapamiętać</p>
<p>Warto zapamiętać, że wynikiem każdej z <b>operacji pośrednich</b> jest kolejny obiekt <code class=" language-java">Stream</code> zawierający dane "przetworzone" poprzez funkcje w poprzednim "etapie".</p>
<p>Przypomnij sobie teraz pętlę <code class=" language-java"><span class="token keyword keyword-for">for</span></code> - przy jej pomocy iterowaliśmy po elementach kolekcji. Przy użyciu <code class=" language-java">Stream</code> możemy robić dokładnie to samo, tylko szybciej i łatwiej :) Wystarczy wyobrazić sobie, że dane przepływające kolejno przez operacje w ramach <code class=" language-java">Stream</code> odpowiadają danym, po których iterujemy w pętli <code class=" language-java"><span class="token keyword keyword-for">for</span><span class="token punctuation">.</span></code></p>
<h3 id="72-czym-jest-stream-mutowalnosc-obiektow">Mutowalność obiektów</h3>
<p>Obiekty w Javie możemy podzielić na mutowalne (<i>ang. mutable</i>), czyli takie które można zmieniać podczas działania programu, oraz na niemutowalne (<i>ang. immutable</i>), czyli takie które po utworzeniu przez konstruktor pozostają takie same do końca swojego istnienia w programie. Możemy więc powiedzieć, że stan obiektu niemutowalnego jest stały - od jego utworzenia - aż do końca jego istnienia w programie.</p>


<div class="bc-note alert-info">
    <h4 class="alert-heading text-center">Programowanie funkcyjne a niemutowalność obiektów</h4>
    <p>Podczas pisania programów wykorzystujących <b>Stream</b>, <b>wyrażenia lambda</b> oraz inne elementy programowania funkcyjnego będziemy przestrzegali jednej, ważnej zasady (jednej z głównych zasad programowania funkcyjnego):</p>
    <p>Obiekty, które przepływają przez funkcje muszą być <b>niemutowalne</b></p>
    <p>Brzmi tajemniczo, prawda? :) Nie przejmuj się tym - za chwilę zrozumiesz o co chodzi. Najpierw wyjaśnimy co to jest obiekt niemutowalny, a następnie krótko wyjaśmy dlaczego takie właśnie obiekty powinny być stosowane w programowaniu funkcyjnym.</p>
    <p>Obiekt niemutowalny to taki obiekt, który nie może być zmieniany po jego utworzeniu przez konstruktor. Jeżeli obiekt musi być zmieniony - należy utworzyć nowy obiekt. O tym, jak zapewnić niemutowalność obiektu w praktyce, powiemy za chwilę.</p>
    <p>Dlaczego należy stosować właśnie obiekty niemutowalne? W programowaniu funkcyjnym, dla poprawy wydajności rozwiązań często wykorzystywana jest wielowątkowość. Polega ona na równoległym wykonywaniu operacji na poszczególnych elementach np. kolekcji (w tym samym czasie) przez poszczególne "wątki" programu. Nie będziemy się jednak tym zajmowali podczas tego kursu. Wystarczy wiedzieć, że mutowalne obiekty podatne są na problemy w przetwarzaniu wielowątkowym.</p>
</div>




<p>Możesz w tym miejscu zadać pytanie - jak pogodzić niemutowalność obiektów z operacjami <b>transformacji</b> na tych obiektach? To proste - każda operacja <b>transformująca</b> dane (obiekty) w strumieniu - tworzy nowe obiekty (nie modyfikując obiektów otrzymanych "na wejściu") i to te właśnie nowe obiekty przekazuje dalej w nowo utworzonym strumieniu <b>Stream</b> dostępnym na wyjściu funkcji do kolejnej operacji.</p>
<p>Aby zapewnić niemutowalność obiektów danej klasy, należy użyć słowa kluczowego <code class=" language-java"><span class="token keyword keyword-final">final</span></code> przy klasie, a także przy polach klasy oraz przy argumentach użytych w konstruktorze. Wszystkie pola klasy powinny być prywatne. Sprawdź poniższy przykład - utwórz w katalogu <i>src/main/java</i> pakiet <b>com.kodilla.stream.immutable</b>, a w nim następującą klasę <code class=" language-java">Book</code>:</p>

    <pre class="line-numbers language-java code-toolbar"><code class=" language-java"><span class="token keyword keyword-package">package</span> com<span class="token punctuation">.</span>kodilla<span class="token punctuation">.</span>stream<span class="token punctuation">.</span>immutable<span class="token punctuation">;</span>
<span class="token keyword keyword-public">public</span> <span class="token keyword keyword-final">final</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">Book</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-private">private</span> <span class="token keyword keyword-final">final</span> String title<span class="token punctuation">;</span>
    <span class="token keyword keyword-private">private</span> <span class="token keyword keyword-final">final</span> String author<span class="token punctuation">;</span>
    <span class="token keyword keyword-private">private</span> <span class="token keyword keyword-final">final</span> <span class="token keyword keyword-int">int</span> yearOfPublication<span class="token punctuation">;</span>

    <span class="token keyword keyword-public">public</span> <span class="token function">Book</span><span class="token punctuation">(</span><span class="token keyword keyword-final">final</span> String title<span class="token punctuation">,</span> <span class="token keyword keyword-final">final</span> String author<span class="token punctuation">,</span>
               <span class="token keyword keyword-final">final</span> <span class="token keyword keyword-int">int</span> yearOfPublication<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword keyword-this">this</span><span class="token punctuation">.</span>title <span class="token operator">=</span> title<span class="token punctuation">;</span>
            <span class="token keyword keyword-this">this</span><span class="token punctuation">.</span>author <span class="token operator">=</span> author<span class="token punctuation">;</span>
            <span class="token keyword keyword-this">this</span><span class="token punctuation">.</span>yearOfPublication <span class="token operator">=</span> yearOfPublication<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword keyword-public">public</span> String <span class="token function">getTitle</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword keyword-return">return</span> title<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword keyword-public">public</span> String <span class="token function">getAuthor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword keyword-return">return</span> author<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-int">int</span> <span class="token function">getYearOfPublication</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword keyword-return">return</span> yearOfPublication<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

       <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-void">void</span> <span class="token function">modifyYearOfPublication</span><span class="token punctuation">(</span><span class="token keyword keyword-int">int</span> year<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            yearOfPublication <span class="token operator">=</span> year<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code><div class="toolbar"></div></pre>


<p>Zauważ, że przy nazwie klasy, argumentach konstruktora oraz przy polach pojawiło się słowo <code class=" language-java"><span class="token keyword keyword-final">final</span></code> - informuje ono kompilator, że pola klasy, argumenty konstruktora oraz obiekty tej klasy nie mogą być modyfikowane. Gdy spróbujesz w <b>IntelliJ</b> wpisać powyższy kod, otrzymasz błąd w metodzie <code class=" language-java"><span class="token function">modifyYearOfPublication</span><span class="token punctuation">(</span><span class="token keyword keyword-int">int</span> year<span class="token punctuation">)</span></code> mówiący o tym, że nie można modyfikować pól klasy oznaczonych jako <code class=" language-java"><span class="token keyword keyword-final">final</span></code>. Jedyne dozwolone miejsce, w którym możemy ustawić wartość takiego pola to konstruktor (usuń tę metodę po sprawdzeniu błędu):</p><a class="img-modal-group" href="./Moduł_ 7. Stream, czyli funkcyjna iteracja po kolekcjach_files/java-7_02.png"><img src="./Moduł_ 7. Stream, czyli funkcyjna iteracja po kolekcjach_files/java-7_02.png" style="width: 100%;"></a>
<p>Podsumowując: <b>Stream</b> jest łańcuchem funkcji, przez który mogą przepływać dane. Funkcje składające się na łańcuch możemy zapisać przy pomocy wyrażeń lambda (o czym jeszcze nie mówiliśmy) - nie musimy powoływać do życia obiektów, których metody wykonywałyby poszczególne operacje na danych. Oto właśnie są podstawowe założenia programowania funkcyjnego :)</p>
<h3 id="72-czym-jest-stream-pierwszy-przyklad-wykorzystujacy-stream">Pierwszy przykład wykorzystujący Stream</h3>
<p>Rozważania teoretyczne o <b>Stream</b> zakończymy krótkim przykładem praktycznym - może on jeszcze nie być zbyt jasny, ale w kolejnych submodułach dokładnie wszystko wytłumaczymy. Czas już jednak najwyższy na pierwszy "rzut oka" na kod wykorzystujący <b>Stream</b> (w katalogu <i>src/main/java</i> utwórz pakiet <b>com.kodilla.stream.iterate</b>, a w nim klasę <code class=" language-java">NumbersGenerator</code>):</p>


<pre class="line-numbers language-java code-toolbar"><code class=" language-java"><span class="token keyword keyword-package">package</span> com<span class="token punctuation">.</span>kodilla<span class="token punctuation">.</span>stream<span class="token punctuation">.</span>iterate<span class="token punctuation">;</span>

<span class="token keyword keyword-import">import</span> java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>stream<span class="token punctuation">.</span>*<span class="token punctuation">;</span>

<span class="token keyword keyword-public">public</span> <span class="token keyword keyword-final">final</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">NumbersGenerator</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-static">static</span> <span class="token keyword keyword-void">void</span> <span class="token function">generateEven</span><span class="token punctuation">(</span><span class="token keyword keyword-int">int</span> max<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        Stream<span class="token punctuation">.</span><span class="token function">iterate</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> n <span class="token operator">-</span><span class="token operator">&gt;</span> n <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span>
               <span class="token punctuation">.</span><span class="token function">limit</span><span class="token punctuation">(</span>max<span class="token punctuation">)</span>
               <span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span>n <span class="token operator">-</span><span class="token operator">&gt;</span> n <span class="token operator">%</span> <span class="token number">2</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span>
               <span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span>System<span class="token punctuation">.</span>out<span class="token operator">:</span><span class="token operator">:</span>println<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code><div class="toolbar"></div></pre>


<p>aby przetestować jej działanie, w metodzie <code class=" language-java"><span class="token function">main</span><span class="token punctuation">(</span>String<span class="token punctuation">[</span><span class="token punctuation">]</span> args</code>) w klasie <code class=" language-java">StreamMain</code> dopisz na końcu poniższe dwie linijki i uruchom program (skrót klawiaturowy <b>Ctrl+Shift+F10</b> lub ikona "play" przy nazwie klasy <code class=" language-java">StreamMain</code>).</p>

<pre class="line-numbers language-java code-toolbar"><code class=" language-java">System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"Using Stream to generate even numbers from 1 to 20"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
NumbersGenerator<span class="token punctuation">.</span><span class="token function">generateEven</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code><div class="toolbar"></div></pre>



<p>Wyjaśnijmy teraz co dzieje się w klasie <code class=" language-java">NumbersGenerator</code> - będzie to skrótowy opis, ponieważ szczegółowe wyjaśnienie metod interfejsu <code class=" language-java">Stream</code> znajduje się w kolejnych submodułach:</p>
<ul>
	<li>W linii nr 3 importujemy bibliotekę <code class=" language-java">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>stream</code></li>
	<li>W linii nr 6 tworzymy statyczną metodę <code class=" language-java"><span class="token function">generateEven</span><span class="token punctuation">(</span><span class="token keyword keyword-int">int</span> max<span class="token punctuation">)</span></code>, której zadaniem jest wygenerowanie kolejnych liczb parzystych. Metoda otrzymuje jeden argument wejściowy <code class=" language-java">max</code> mówiący o tym ile liczb 'pozwalamy' wygenerować naszemu strumieniowi <code class=" language-java">Stream</code>.</li>
	<li>W linii nr 7 wywołujemy metodę statyczną <code class=" language-java"><span class="token function">iterate</span><span class="token punctuation">(</span>Integer seed<span class="token punctuation">,</span> UnaryOperator f<span class="token punctuation">)</span></code> interfejsu <code class=" language-java">Stream</code>. Metoda ta tworzy strumień obiektów typu <code class=" language-java">Integer</code>, o wartości początkowej określonej przez argument <code class=" language-java">seed</code>. Wartości kolejnych obiektów w strumieniu wyznaczane są przez wyrażenie lambda <code class=" language-java">f</code> (lub referencję do metody). Wyrażenie to otrzymuje jeden argument wejściowy - aktualną wartość obiektu w strumieniu - a jego zadaniem jest zwrócenie wartości kolejnej. W naszym przykładzie, wyrażenie lambda <b>inkrementuje</b> otrzymany argument, więc kolejne obiekty w strumieniu będą miały wartość o jeden większą od poprzedniego:</li>
</ul>

<pre class="line-numbers language-java code-toolbar"><code class=" language-java">n <span class="token operator">-</span><span class="token operator">&gt;</span> n <span class="token operator">+</span> <span class="token number">1</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code><div class="toolbar"></div></pre>

<ul>
	<li>W linii nr 8 wywołujemy metodę <code class=" language-java"><span class="token function">limit</span><span class="token punctuation">(</span><span class="token keyword keyword-long">long</span> maxSize<span class="token punctuation">)</span></code> interfejsu <code class=" language-java">Stream</code>, która ogranicza wielkość strumienia do <code class=" language-java">maxSize</code> obiektów (jest to operacja <b>filtrująca</b>)</li>
	<li>W wyniku działania linii nr 8 powstaje nowy <code class=" language-java">Stream</code>, na którym w linii nr 9 wywołujemy metodę <code class=" language-java"><span class="token function">filter</span><span class="token punctuation">(</span>Predicate predicate<span class="token punctuation">)</span></code>, gdzie <code class=" language-java">predicate</code> jest wyrażeniem lambda, które powinno zwracać <code class=" language-java"><span class="token boolean">true</span></code>, gdy obiekt ma pozostać w strumieniu oraz wartość <code class=" language-java"><span class="token boolean">false</span></code>, gdy obiekt powinien zostać "odrzucony" i nie przekazany do strumienia wyjściowego metody <code class=" language-java"><span class="token function">filter</span><span class="token punctuation">(</span>Predicate predicate<span class="token punctuation">)</span></code> - jak wskazuje nazwa metody, jest to operacja <code class=" language-java">filtrująca</code></li>
	<li>Na dwukrotnie przefiltrowanym strumieniu danych (wpierw przez metodę <code class=" language-java"><span class="token function">limit</span><span class="token punctuation">(</span>Long maxSize<span class="token punctuation">)</span></code>, a następnie przez metodę <code class=" language-java"><span class="token function">filter</span><span class="token punctuation">(</span>Predicate predicate<span class="token punctuation">)</span></code> uruchamiana jest kolejna funkcja w linii 10 - metoda <code class=" language-java"><span class="token function">forEach</span><span class="token punctuation">(</span>Consumer action<span class="token punctuation">)</span></code>. Metoda ta jest operacją terminalną, która zamyka strumień i przekształca go w końcowy typ konkretny. Działanie tej metody polega na wykonaniu dla każdego obiektu w strumieniu wyrażenia lambda <code class=" language-java">action</code> (może też być to referencja do metody). Typem zwracanym przez <code class=" language-java"><span class="token function">forEach</span><span class="token punctuation">(</span>Consumer action<span class="token punctuation">)</span></code> jest typ <code class=" language-java"><span class="token keyword keyword-void">void</span></code>, więc tak naprawdę nie powstaje żadna kolekcja czy finalny zbiór danych - obiekty są niszczone. Możemy tę metodę wykorzystać jednak na przykład do wyświetlenia na ekranie konsoli wszystkich obiektów ze strumienia i tak też zrobiliśmy, wskazując metodę <code class=" language-java">System<span class="token punctuation">.</span>out<span class="token operator">:</span><span class="token operator">:</span>println</code> jako metodę, która ma być wykonana na każdym obiekcie w strumieniu (jest to operacja <code class=" language-java">terminalna</code> - kolektor).</li>
</ul>
<p>Wynik działania programu pokazano poniżej:</p><a class="img-modal-group" href="./Moduł_ 7. Stream, czyli funkcyjna iteracja po kolekcjach_files/java-7_03.png"><img src="./Moduł_ 7. Stream, czyli funkcyjna iteracja po kolekcjach_files/java-7_03.png" style="width: 100%"></a>
<p>Pierwszy kontakt ze <code class=" language-java">Stream</code> i programowaniem funkcyjnym może być dość trudny - to w końcu zupełnie nowe podejście w porównaniu z tym, którego używasz od kilku tygodni. Nie przejmuj się tym jednak w tej chwili - kolejne submoduły, ćwiczenia i przykłady sprawią, że poczujesz się dużo pewniej pod koniec modułu :)</p>

<div class="bc-note alert-info">
    <h4 class="alert-heading text-center">Warto zapamiętać</h4>
    <p>Budowanie <code class=" language-java">Stream</code> ma kilka etapów:</p>
    <ul>
    	<li>wpierw powołujemy <code class=" language-java">Stream</code> do życia, czyli "odkręcamy zawór"</li>
    	<li>następnie wywołujemy sekwencję funkcji pośrednich - zarówno transformujących, jak i filtrujących dane</li>
    	<li>na zakończenie wywołujemy metodę terminalną - kolektor, który tworzy kolekcję wyjściową lub pojedynczą wartość skalarną.</li>
    </ul>
</div>
                        </div>
                    </div>
                                        <div class="card-block task-card">
                        <h3 id="72-czym-jest-stream-zadanie-niemutowalny-uzytkownik-forum">Zadanie: <span class="task-title">Niemutowalny użytkownik forum</span></h3>
                        <div class="task-content">
                            <p>Zadanie polega na stworzeniu niemutowalnej klasy reprezentującej użytkownika forum. Aby zrealizować zadanie wykonaj:</p>
<ol>
	<li>Utwórz w pakiecie <code class=" language-java">com<span class="token punctuation">.</span>kodilla<span class="token punctuation">.</span>stream<span class="token punctuation">.</span>immutable</code> klasę <code class=" language-java">ForumUser</code>, zawierającą pola <code class=" language-java">String username</code>, <code class=" language-java">String realName</code> oraz konstruktor i gettery</li>
	<li>Spraw, aby utworzona klasa była niemutowalna poprzez odpowiednie użycie słowa kluczowego <code class=" language-java"><span class="token keyword keyword-final">final</span></code></li>
	<li>Upewnij się, że wszystkie pola klasy są oznaczone jako <code class=" language-java"><span class="token keyword keyword-private">private</span></code></li>
	<li>Prześlij kod do repozytorium <code class=" language-java">Github</code>.</li>
</ol>
<p>Link do repozytorium wklej poniżej i prześlij do mentora.</p>
                        </div>
                    </div>
                                        <div class="card-block submodule-footer clearfix ">
                                                <div class="clearfix">
                                                                                <a href="https://kodilla.com/pl/bootcamp-task/146/249432" target="_blank" class="btn btn-info-outline">Podgląd zadania</a>
                            <form target="_blank" class="form-inline project-link-form">
                                <div class="form-group">
                                    <input type="text" name="link" class="form-control" value="https://github.com/tymsocha/testing_training/commits/master">
                                </div>
                                <button type="submit" class="btn  btn-success-outline ">Wyslij link <i class="fa fa-check"></i></button>
                            </form>
                                                                                                    </div>
                    </div>
                </section>
                                    
                <section id="submodule-338" class="card submodule " data-bootcamp-user-submodule-id="249433">
                <!-- klasy dla section: completed current comments -->
                    <div class="card-block submodule-header clearfix">
                        <i class="fa fa-check-circle-o fa-2x"></i>
                        <i class="fa fa-play-circle-o fa-2x"></i>
                        <i class="fa fa-exclamation-circle fa-2x"></i>
                        <i class="fa fa-send-o fa-2x"></i>
                        <h2 class="bootcamp-submodule-name">7.3. <span>Poznanie funkcji stream(), filter(), map() i collect()</span></h2>
                                            </div>
                    <div class="card-block">
                        <div class="submodule-content">
                            <p>Nim przejdziemy dalej, poznajmy kilka upraszczających życie programisty skrótów klawiaturowych w <b>IntelliJ</b> :)</p>

<div class="bc-note alert-info">
    <h4 class="alert-heading text-center">Przydatne skróty klawiaturowe</h4>
    <p><b>IntelliJ</b> ma wiele przydatnych funkcji. Jedną z nich jest przypisanie często wykonywanych operacji do skrótów klawiaturowych. Poniżej kilka z nich:</p>
    <ul>
    	<li><b>Esc</b> — przenosi kursor do okna z kodem z dowolnego innego okna <b>IntelliJ</b> (z wyjątkiem okna terminala)</li>
    	<li><b>F12</b> — przenosi kursor do ostatnio używanego okna narzędziowego</li>
    	<li><b>Ctrl+/</b> (dla <b>macOS</b>: <b>cmd+/</b>) — komentuje/odkomentowuje zaznaczony kod komentarzem <b>//</b></li>
    	<li><b>Ctrl+Shift+/</b> (dla <b>macOS</b>: <b>cmd+Shift+/</b>) — komentuje/odkomentowuje zaznaczony kod komentarzem <b>/*...*/</b></li>
    	<li><b>Ctrl+w</b> (dla <b>macOS</b>: <b>cmd+w</b>) — zaznacza cały wyraz, na którym stoi kursor w oknie z kodem. Ponowne naciśnięcia <b>Ctrl+w</b> rozszerzają zaznaczenie na otaczający tekst</li>
    	<li><b>Ctrl+Alt+i</b> (dla <b>macOS</b>: <b>cmd+Alt+i</b>) — poprawia formatowanie zaznaczonego kodu</li>
    	<li><b>Shift+F6</b> — pozwala na zmianę nazwy zmiennej, metody, klasy czy interfejsu w taki sposób, że zmieniane są również nazwy we wszystkich miejscach w kodzie, gdzie dana zmienna czy klasa była używana (tzw. <i>name refactor</i>)</li>
    	<li><b>Ctrl+n</b> (dla <b>macOS</b>: <b>cmd+n</b>) — wyszukiwanie klas w plikach z kodem źródłowym na podstawie nazwy</li>
    	<li><b>Shift+Shift</b> (dwa razy <b>Shift</b>) — otwiera wyszukiwarkę pozwalającą odszukiwać klasy, zmienne i obiekty na aktualnym projekcie</li>
    	<li><b>Ctrl+Shift+F10</b> (dla <b>macOS</b>: <b>cmd+Shift+F10</b>) — kompilacja i uruchomienie programu. Działa w oknie z kodem podczas przeglądania metod możliwych do uruchomienia (np. metody <code class=" language-java"><span class="token function">main</span><span class="token punctuation">(</span>String<span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span></code> lub metod oznaczonych adnotacją <b>@Test</b>)</li>
    	<li><b>Alt+Insert</b> — generowanie stałych części kodu (konstruktory, gettery itd.)</li>
    	<li><b>Alt+Enter</b> — automatyczne uzupełnianie importów oraz generowanie niektórych stałych fragmentów kodu (jak. na przykład kod testu dla klasy)</li>
    	<li><b>Ctrl+Space</b> (dla <b>macOS</b>: <b>cmd+Space</b>) — podpowiada możliwe do wstawienia w danym miejscu kodu zmienne, obiekty, klasy i metody</li>
    	<li>Napisz <b>sout</b> i naciśnij <b>Tab</b> — spowoduje to wstawienie tekstu "<i>System.out.println()</i>" - przydatne, gdy często wyświetlasz coś na ekranie konsoli.</li>
    </ul>
    <p>Ostatni sposób na liście powyżej to tak zwany szablon kodu (<i>ang. live template</i>) — pełną ich listę możesz sprawdzić w <b>IntelliJ</b> przy pomocy funkcji <i>File-&gt;Settings-&gt;Editor-&gt;Code Style-&gt;Live Templates</i>. Możesz też dodawać własne szablony, jeżeli często stosujesz dany fragment kodu.</p>
    <p>Powyższe skróty bardzo pomagają podczas codziennego programowania — wypróbuj je koniecznie!</p>
</div>

<h3 id="73-poznanie-funkcji-stream-filter-map-i-collect-stream-w-kolekcjach">Stream w kolekcjach</h3>
<p>Nadszedł czas, aby nieco bliżej zaprzyjaźnić się z interfejsem <code class=" language-java">Stream</code>. Pomoże nam w tym pewna cecha kolekcji, o której dotychczas nie mówiliśmy. Otóż <b>każda kolekcja</b>, którą dotychczas omawialiśmy, udostępnia metodę <code class=" language-java"><span class="token function">stream</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code>, która inicjuje strumień ("odkręcenie zaworu wypuszczającego wodę ze <b>Zbiornika A</b>", którym jest kolekcja), przez który przepłyną wszystkie obiekty znajdujące się w kolekcji.</p>
<p>Przećwiczymy to w praktyce — stwórz w katalogu <i>src/main/java</i> pakiet <b>com.kodilla.stream.person</b>, a w nim klasę <code class=" language-java">People</code>, jak pokazano poniżej:</p>

<pre class="line-numbers language-java code-toolbar"><code class=" language-java"><span class="token keyword keyword-package">package</span> com<span class="token punctuation">.</span>kodilla<span class="token punctuation">.</span>stream<span class="token punctuation">.</span>person<span class="token punctuation">;</span>

<span class="token keyword keyword-import">import</span> java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>ArrayList<span class="token punctuation">;</span>
<span class="token keyword keyword-import">import</span> java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>List<span class="token punctuation">;</span>

<span class="token keyword keyword-public">public</span> <span class="token keyword keyword-final">final</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">People</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-static">static</span> List<span class="token operator">&lt;</span>String<span class="token operator">&gt;</span> <span class="token function">getList</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
       <span class="token keyword keyword-final">final</span> List<span class="token operator">&lt;</span>String<span class="token operator">&gt;</span> theList <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token class-name">ArrayList</span><span class="token operator">&lt;</span><span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
       theList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">"John Smith"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
       theList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">"Dorothy Newman"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
       theList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">"John Wolkowitz"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
       theList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">"Lucy Riley"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
       theList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">"Owen Rogers"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
       theList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">"Matilda Davies"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
       theList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">"Declan Booth"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
       theList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">"Corinne Foster"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
       theList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">"Khloe fry"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
       theList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">"Martin Valenzuela"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
       <span class="token keyword keyword-return">return</span> <span class="token keyword keyword-new">new</span> <span class="token class-name">ArrayList</span><span class="token operator">&lt;</span>String<span class="token operator">&gt;</span><span class="token punctuation">(</span>theList<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code><div class="toolbar"></div></pre>

<p>Klasa <code class=" language-java">People</code> posiada statyczną metodę <code class=" language-java"><span class="token function">getList</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code>, która tworzy przykładową listę imion i nazwisk osób, a następnie tę listę zwraca. W powyższym kodzie pojawiło się jednak kilka ciekawych rzeczy, na które warto zwrócić uwagę:</p>
<ul>
	<li>W linii nr 8 zmienna <code class=" language-java">theList</code> oznaczona jest jako <code class=" language-java"><span class="token keyword keyword-final">final</span></code>, aby zapobiec jej przypadkowym modyfikacjom później (przypisanie innej listy do zmiennej) — to dobra praktyka zapobiegająca mutowalności obiektów.</li>
	<li>W linii nr 8 zmienna <code class=" language-java">theList</code> jest typu <code class=" language-java">List</code>, a nie <code class=" language-java">ArrayList</code> — dobrą praktyką jest typowanie zmiennych przechowujących kolekcje poprzez typ interfejsu, a nie typ konkretnej klasy implementującej interfejs. Oczywiście tworzony poprzez <code class=" language-java"><span class="token keyword keyword-new">new</span></code> po prawej stronie znaku <code class=" language-java"><span class="token operator">=</span></code> obiekt, musi być już konkretnej klasy implementującej ten interfejs. Taki sposób typowania zmiennych jest bardziej elastyczny (można do takiej zmiennej przypisać w programie również inne implementacje list, np. <code class=" language-java">LinkedList</code> lub inną) od stosowanego dotychczas w kursie.</li>
	<li>W linii nr 8 - na końcu przy <code class=" language-java">ArrayList</code> pojawiły się puste nawiasy ostrokątne <code class=" language-java"><span class="token operator">&lt;</span><span class="token operator">&gt;</span></code> — możemy skrócić zapis w ten sposób, jeżeli z typu zmiennej wynika, jakiego typu obiekty będą w kolekcji (tu: <code class=" language-java"></code> umieszczone przy typie zmiennej).</li>
	<li>W linii 19 zwracamy nie listę przechowywaną w zmiennej <code class=" language-java">theList</code>, lecz tworzymy jej kopię (czyli tworzymy nową listę przy pomocy konstruktora kopiującego) — jest to rozwiązanie zapobiegające mutowaniu obiektów. Nawet jeżeli "konsument" wyników działania metody <code class=" language-java"><span class="token function">getList</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> zmieni coś w otrzymanej kolekcji, nie spowoduje to zmiany obiektów wewnątrz klasy <code class=" language-java">People</code>, ponieważ operacja modyfikacji zostanie wykonana na kopii obiektu <code class=" language-java">theList</code>, a nie na samym obiekcie.</li>
</ul>
<p>W metodzie <code class=" language-java"><span class="token function">main</span><span class="token punctuation">(</span>String<span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span></code> klasy <code class=" language-java">StreamMain</code> musimy trochę posprzątać — trzeba usunąć dotychczas istniejący w niej kod, gdyż nie będzie nam już potrzebny. Pamiętaj, aby usunąć również nieużywane już importy (będą zaznaczone szarym kolorem).</p>

<div class="bc-note alert-info">
   <h4 class="alert-heading text-center">Interfejsy funkcyjne w Javie</h4>
   <p>W związku z wprowadzeniem wyrażeń lambda, w języku Java pojawiło się pojęcie interfejsu funkcyjnego (<i>ang. functional interface</i>). Jest to specyficzny rodzaj interfejsu, posiadający tylko jedną metodę, który doskonale nadaje się do implementowania przez wyrażenia lambda (jak pamiętasz, zmienna przechowująca kod w postaci wyrażenia lambda jest właśnie typu takiego interfejsu).</p>
    <p>Język Java w wersji 8 wyposażono w zestaw gotowych interfejsów funkcyjnych ogólnego przeznaczenia, takich jak na przykład:</p>
<pre class="line-numbers language-java code-toolbar"><code class=" language-java"><span class="token annotation punctuation">@FunctionalInterface</span>
<span class="token keyword keyword-public">public</span> <span class="token keyword keyword-interface">interface</span> <span class="token class-name">Predicate</span><span class="token operator">&lt;</span>T<span class="token operator">&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword keyword-boolean">boolean</span> <span class="token function">test</span><span class="token punctuation">(</span>T t<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code><div class="toolbar"></div></pre>
    <p>lub</p>
<pre class="line-numbers language-java code-toolbar"><code class=" language-java"><span class="token comment" spellcheck="true">// The T is the input argument while R is the return result</span>
<span class="token annotation punctuation">@FunctionalInterface</span>
<span class="token keyword keyword-public">public</span> <span class="token keyword keyword-interface">interface</span> <span class="token class-name">Function</span><span class="token operator">&lt;</span>T<span class="token punctuation">,</span> R<span class="token operator">&gt;</span> <span class="token punctuation">{</span>
  R <span class="token function">apply</span><span class="token punctuation">(</span>T t<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code><div class="toolbar"></div></pre>
    <p>lub</p>
<pre class="line-numbers language-java code-toolbar"><code class=" language-java"><span class="token annotation punctuation">@FunctionalInterface</span>
<span class="token keyword keyword-public">public</span> <span class="token keyword keyword-interface">interface</span> <span class="token class-name">Consumer</span><span class="token operator">&lt;</span>T<span class="token operator">&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword keyword-void">void</span> <span class="token function">accept</span><span class="token punctuation">(</span>T t<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code><div class="toolbar"></div></pre>
    <p>czy też</p>
<pre class="line-numbers language-java code-toolbar"><code class=" language-java"><span class="token annotation punctuation">@FunctionalInterface</span>
<span class="token keyword keyword-public">public</span> <span class="token keyword keyword-interface">interface</span> <span class="token class-name">Supplier</span><span class="token operator">&lt;</span>T<span class="token operator">&gt;</span> <span class="token punctuation">{</span>
  T <span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code><div class="toolbar"></div></pre>

    <p>Interfejsów tych jest dużo więcej, ale nie musisz ich wszystkich znać. Zauważ, że interfejsy te opatrzone są adnotacją <code class=" language-java"><span class="token annotation punctuation">@FunctionalInterface</span></code>. Jest to adnotacja informacyjna, mówiąca iż przeznaczeniem interfejsu jest użycie go w programowaniu funkcyjnym (czyli np. w wyrażeniach lambda). Często będziesz spotykać takie interfejsy w metodach udostępnianych przez <code class=" language-java">Stream</code>.</p>
    <p>Więcej możesz dowiedzieć się <a href="https://www.oreilly.com/learning/java-8-functional-interfaces">tutaj</a> lub <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/FunctionalInterface.html">tutaj</a>.</p>
</div>

<p>W metodzie <code class=" language-java"><span class="token function">main</span><span class="token punctuation">(</span>String<span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span></code> klasy <code class=" language-java">StreamMain</code> umieść kod, który sprawdza, czy lista osób zwracana przez metodę <code class=" language-java"><span class="token function">getList</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> klasy <code class=" language-java">People</code> jest poprawna:</p>

<pre class="line-numbers language-java code-toolbar"><code class=" language-java"><span class="token keyword keyword-package">package</span> com<span class="token punctuation">.</span>kodilla<span class="token punctuation">.</span>stream<span class="token punctuation">;</span>

<span class="token keyword keyword-import">import</span> com<span class="token punctuation">.</span>kodilla<span class="token punctuation">.</span>stream<span class="token punctuation">.</span>person<span class="token punctuation">.</span>People<span class="token punctuation">;</span>

<span class="token keyword keyword-public">public</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">StreamMain</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-static">static</span> <span class="token keyword keyword-void">void</span> <span class="token function">main</span><span class="token punctuation">(</span>String<span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
           People<span class="token punctuation">.</span><span class="token function">getList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                  <span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span>System<span class="token punctuation">.</span>out<span class="token operator">:</span><span class="token operator">:</span>println<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code><div class="toolbar"></div></pre>


<p>W linii nr 7 wywołujemy metodę statyczną <code class=" language-java"><span class="token function">getList</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> klasy <code class=" language-java">People</code>, w wyniku czego otrzymujemy kolekcję typu <code class=" language-java">List<span class="token operator">&lt;</span>String<span class="token operator">&gt;</span></code> zawierającą imiona i nazwiska osób. Następnie wywołujemy metodę <code class=" language-java"><span class="token function">stream</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> tej kolekcji, która inicjuje strumień. Na powołanym do życia strumieniu wywołujemy w linii nr 8 jedną operację terminalną <code class=" language-java"><span class="token function">forEach</span><span class="token punctuation">(</span>Consumer action<span class="token punctuation">)</span></code>, która na każdym obiekcie w kolekcji wykonuje metodę <code class=" language-java"><span class="token function">println</span><span class="token punctuation">(</span>String x<span class="token punctuation">)</span></code> obiektu typu <code class=" language-java">PrintStream</code> zwracanego przez metodę statyczną <code class=" language-java">out</code> klasy <code class=" language-java">System</code> (czyli mówiąc krótko wykonuje <code class=" language-java">System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> na każdym obiekcie kolekcji).</p>
<p>Operacja terminalna <code class=" language-java"><span class="token function">forEach</span><span class="token punctuation">(</span>Consumer action<span class="token punctuation">)</span></code> kończy przepływ strumienia. Sama zwraca <code class=" language-java"><span class="token keyword keyword-void">void</span></code>, więc nie powstaje żadna kolekcja wynikowa. Na ekranie konsoli natomiast pojawi się lista imion i nazwisk wyświetlonych z kolekcji wejściowej:</p><a class="img-modal-group" href="./Moduł_ 7. Stream, czyli funkcyjna iteracja po kolekcjach_files/java-7_04.png"><img src="./Moduł_ 7. Stream, czyli funkcyjna iteracja po kolekcjach_files/java-7_04.png" style="width: 100%;"></a>
<h3 id="73-poznanie-funkcji-stream-filter-map-i-collect-operacje-transformujace-na-stream">Operacje transformujące na Stream</h3>
<p>Wcześniej mówiliśmy, że operacje pośrednie na <code class=" language-java">Stream</code> możemy podzielić na operacje transformujące oraz operacje filtrujące. Czas poznać podstawową operację transformującą (zmieniającą właściwości obiektów w strumieniu) — metodę <code class=" language-java"><span class="token function">map</span><span class="token punctuation">(</span>Function mapper<span class="token punctuation">)</span></code>, gdzie <code class=" language-java">mapper</code> jest wyrażeniem lambda otrzymującym jeden argument wejściowy (bieżący obiekt w strumieniu), które powinno zwrócić przekształcony obiekt.</p>
<p>Spójrz na zmodyfikowany kod wewnątrz metody <code class=" language-java"><span class="token function">main</span><span class="token punctuation">(</span>String<span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span></code>:</p>

<pre class="line-numbers language-java code-toolbar"><code class=" language-java"><span class="token keyword keyword-package">package</span> com<span class="token punctuation">.</span>kodilla<span class="token punctuation">.</span>stream<span class="token punctuation">;</span>

<span class="token keyword keyword-import">import</span> com<span class="token punctuation">.</span>kodilla<span class="token punctuation">.</span>stream<span class="token punctuation">.</span>person<span class="token punctuation">.</span>People<span class="token punctuation">;</span>

<span class="token keyword keyword-public">public</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">StreamMain</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-static">static</span> <span class="token keyword keyword-void">void</span> <span class="token function">main</span><span class="token punctuation">(</span>String<span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        People<span class="token punctuation">.</span><span class="token function">getList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>s <span class="token operator">-</span><span class="token operator">&gt;</span> s<span class="token punctuation">.</span><span class="token function">toUpperCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span>System<span class="token punctuation">.</span>out<span class="token operator">:</span><span class="token operator">:</span>println<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code><div class="toolbar"></div></pre>

<p>W linii nr 8 wywołujemy metodę <code class=" language-java"><span class="token function">map</span><span class="token punctuation">(</span>Function mapper<span class="token punctuation">)</span></code>, której jako argument podane zostało wyrażenie lambda o treści</p>
<pre class="line-numbers language-java code-toolbar"><code class=" language-java">s <span class="token operator">-</span><span class="token operator">&gt;</span> s<span class="token punctuation">.</span><span class="token function">toUpperCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code><div class="toolbar"></div></pre>
<p>Dla każdego obiektu typu <code class=" language-java">String</code> zapisanego w kolekcji zwróconej przez People.getList(), podane w metodzie .map() wyrażenie lambda wywołuje jego metodę <code class=" language-java"><span class="token function">toUpperCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> (jest to metoda udostępniana przez klasę <code class=" language-java">String</code>), która zwraca tekst zawarty w obiekcie zmodyfikowany w ten sposób, że jest w całości zapisany dużymi literami.</p>
<p>Następnie w linii nr 9 wyświetlamy przy pomocy kolektora zawartość strumienia na ekran konsoli. Wynik pokazano poniżej:</p><a class="img-modal-group" href="./Moduł_ 7. Stream, czyli funkcyjna iteracja po kolekcjach_files/java-7_05.png"><img src="./Moduł_ 7. Stream, czyli funkcyjna iteracja po kolekcjach_files/java-7_05.png" style="width: 100%;"></a>
<p>Możesz w tym miejscu zapytać: co z niemutowalnością? Przecież modyfikujemy obiekty w kolekcji, czego mieliśmy unikać.</p>
<p>Otóż na szczęście wcale ich nie modyfikujemy — metoda <code class=" language-java"><span class="token function">toUpperCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> nie modyfikuje obiektu typu <code class=" language-java">String</code>, dla którego została wywołana, lecz tworzy ona nowy obiekt typu <code class=" language-java">String</code> i ten obiekt zwraca jako wynik. W strumieniu wyjściowym operacji <code class=" language-java"><span class="token function">map</span><span class="token punctuation">(</span>Function mapper<span class="token punctuation">)</span></code> otrzymujemy więc zestaw zupełnie nowych obiektów, a obiekty ze strumienia wejściowego pozostają niezmodyfikowane. Możemy więc powiedzieć, że "na wyjściu" każdej operacji transformującej lub filtrującej otrzymujemy tak naprawdę zupełnie nowy strumień obiektów.</p>
<p>Wyrażenie lambda w przykładzie powyżej moglibyśmy również zastąpić poprzez wskazanie referencji do metody <code class=" language-java"><span class="token function">toUppercase</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> klasy <code class=" language-java">String</code>. Zapisów przy pomocy wyrażeń lambda oraz referencji do metod możemy używać zamiennie. Spójrz na linie nr 8 i 9 poniżej:</p>

<pre class="line-numbers language-java code-toolbar"><code class=" language-java"><span class="token keyword keyword-package">package</span> com<span class="token punctuation">.</span>kodilla<span class="token punctuation">.</span>stream<span class="token punctuation">;</span>

<span class="token keyword keyword-import">import</span> com<span class="token punctuation">.</span>kodilla<span class="token punctuation">.</span>stream<span class="token punctuation">.</span>person<span class="token punctuation">.</span>People<span class="token punctuation">;</span>

<span class="token keyword keyword-public">public</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">StreamMain</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-static">static</span> <span class="token keyword keyword-void">void</span> <span class="token function">main</span><span class="token punctuation">(</span>String<span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        People<span class="token punctuation">.</span><span class="token function">getList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>String<span class="token operator">:</span><span class="token operator">:</span>toUpperCase<span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span>s <span class="token operator">-</span><span class="token operator">&gt;</span> System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code><div class="toolbar"></div></pre>

<p>W linii nr 8 zamieniliśmy wyrażenie lambda na referencję do metody, a w linii nr 9 zamieniliśmy referencję do metody na wyrażenie lambda. Ten przykład również jest całkowicie poprawny i będzie działał.</p>
<h3 id="73-poznanie-funkcji-stream-filter-map-i-collect-operacje-filtrujace-na-stream">Operacje filtrujące na <code class=" language-java">Stream</code></h3>
<p>Poznaliśmy już podstawową operację transformującą — operację <code class=" language-java"><span class="token function">map</span><span class="token punctuation">(</span>Function mapper<span class="token punctuation">)</span></code>. Teraz poznamy bliżej wstępnie omawianą już podstawową operację filtrującą: <code class=" language-java"><span class="token function">filter</span><span class="token punctuation">(</span>Predicate predicate<span class="token punctuation">)</span></code>, gdzie <code class=" language-java">predicate</code> jest wyrażeniem lambda zwracającym <code class=" language-java"><span class="token boolean">true</span></code>, gdy obiekt ma przejść przez filtr i być przekazany do strumienia wyjściowego operacji, oraz <code class=" language-java"><span class="token boolean">false</span></code>, gdy obiekt ma być odrzucony przez filtr i nie ma być przekazywany do strumienia wyjściowego operacji.</p>
<p>Rozbudujemy teraz program w metodzie <code class=" language-java"><span class="token function">main</span><span class="token punctuation">(</span>String<span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span></code> tak, aby wyświetlane były jedynie te obiekty, których długość napisu reprezentującego imię i nazwisko jest większa niż 11 znaków:</p>
<pre class="line-numbers language-java code-toolbar"><code class=" language-java"><span class="token keyword keyword-package">package</span> com<span class="token punctuation">.</span>kodilla<span class="token punctuation">.</span>stream<span class="token punctuation">;</span>

<span class="token keyword keyword-import">import</span> com<span class="token punctuation">.</span>kodilla<span class="token punctuation">.</span>stream<span class="token punctuation">.</span>person<span class="token punctuation">.</span>People<span class="token punctuation">;</span>

<span class="token keyword keyword-public">public</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">StreamMain</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-static">static</span> <span class="token keyword keyword-void">void</span> <span class="token function">main</span><span class="token punctuation">(</span>String<span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            People<span class="token punctuation">.</span><span class="token function">getList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                    <span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span>s <span class="token operator">-</span><span class="token operator">&gt;</span> s<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token number">11</span><span class="token punctuation">)</span>
                    <span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span>System<span class="token punctuation">.</span>out<span class="token operator">:</span><span class="token operator">:</span>println<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code><div class="toolbar"></div></pre>
<p>W operacji <code class=" language-java"><span class="token function">filter</span><span class="token punctuation">(</span>Predicate predicate<span class="token punctuation">)</span></code> użyliśmy wyrażenia lambda</p>
<pre class="line-numbers language-java code-toolbar"><code class=" language-java">s <span class="token operator">-</span><span class="token operator">&gt;</span> s<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token number">11</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code><div class="toolbar"></div></pre>
<p>które otrzymuje na wejściu obiekt <code class=" language-java">s</code> typu <code class=" language-java">String</code>, a następnie wywołuje jego metodę <code class=" language-java"><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code>. Jeżeli zwrócona długość napisu jest większa niż 11 znaków, wówczas wyrażenie po prawej stronie operatora <code class=" language-java"><span class="token operator">-</span><span class="token operator">&gt;</span></code> zwróci wartość <code class=" language-java"><span class="token boolean">true</span></code> i obiekt zostanie przekazany dalej w łańcuchu operacji strumienia.</p>
<p>Zauważ, że w tym miejscu nie możemy użyć zapisu w postaci referencji do metody <code class=" language-java">String<span class="token operator">:</span><span class="token operator">:</span>length</code>, ponieważ wyrażenie musi zwracać <code class=" language-java"><span class="token boolean">true</span></code> lub <code class=" language-java"><span class="token boolean">false</span></code>. Moglibyśmy oczywiście napisać własny typ opakowujący typ <code class=" language-java">String</code>, który moglibyśmy wyposażyć w metodę sprawdzającą, czy tekst ma więcej niż 11 znaków i zwracającą <code class=" language-java"><span class="token boolean">true</span></code> lub <code class=" language-java"><span class="token boolean">false</span></code> dla odpowiednich przypadków. Taką metodę rzeczywiście moglibyśmy wskazać jako referencję w operacji filtrującej, jednak przekazanie do metody <code class=" language-java"><span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> wyrażenia lambda jest znacznie prostsze, nie uważasz? :)</p>
<p>Wynik działania naszego programu przedstawia się następująco:</p><a class="img-modal-group" href="./Moduł_ 7. Stream, czyli funkcyjna iteracja po kolekcjach_files/java-7_06.png"><img src="./Moduł_ 7. Stream, czyli funkcyjna iteracja po kolekcjach_files/java-7_06.png" style="width: 100%"></a>
<p>Jak widzisz, wyświetlone zostały jedynie te obiekty, w których liczba znaków jest większa od 11.</p>
<h3 id="73-poznanie-funkcji-stream-filter-map-i-collect-kaskadowe-laczenie-operacji-na-stream">Kaskadowe łączenie operacji na <code class=" language-java">Stream</code></h3>
<p>Operacje transformujące oraz filtrujące można dowolnie łączyć w sekwencje funkcji. Aby to zilustrować napiszemy kod, który dla obiektów typu <code class=" language-java">String</code> w kolekcji:</p>
<ol>
	<li>skonwertuje wszystkie nazwiska i imiona na wielkie litery,</li>
	<li>następnie wybierze spośród nich te, których długość jest większa niż 11 znaków,</li>
	<li>następnie usunie nazwiska pozostawiając jedynie pierwszą ich literę, a resztę zastąpi kropką (np. "MICHAEL SKYWALKER" zostanie zastąpione tekstem "MICHAEL S."),</li>
	<li>i w końcu odfiltruje tylko te obiekty, dla których pierwszą literą imienia jest "M",</li>
	<li>a wynik wyświetli na ekranie.</li>
</ol>
<p>Spójrz na poniższy kod:</p>
<pre class="line-numbers language-java code-toolbar"><code class=" language-java"><span class="token keyword keyword-package">package</span> com<span class="token punctuation">.</span>kodilla<span class="token punctuation">.</span>stream<span class="token punctuation">;</span>

<span class="token keyword keyword-import">import</span> com<span class="token punctuation">.</span>kodilla<span class="token punctuation">.</span>stream<span class="token punctuation">.</span>person<span class="token punctuation">.</span>People<span class="token punctuation">;</span>

<span class="token keyword keyword-public">public</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">StreamMain</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-static">static</span> <span class="token keyword keyword-void">void</span> <span class="token function">main</span><span class="token punctuation">(</span>String<span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        People<span class="token punctuation">.</span><span class="token function">getList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>String<span class="token operator">:</span><span class="token operator">:</span>toUpperCase<span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span>s <span class="token operator">-</span><span class="token operator">&gt;</span> s<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token number">11</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>s <span class="token operator">-</span><span class="token operator">&gt;</span> s<span class="token punctuation">.</span><span class="token function">substring</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> s<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token string">' '</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">"."</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span>s <span class="token operator">-</span><span class="token operator">&gt;</span> s<span class="token punctuation">.</span><span class="token function">substring</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span><span class="token string">"M"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span>System<span class="token punctuation">.</span>out<span class="token operator">:</span><span class="token operator">:</span>println<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code><div class="toolbar"></div></pre>
<p>W kodzie zastosowano kaskadowe połączenie operacji filtrujących oraz transformujących strumień:</p>
<ul>
	<li>w linii nr 8, wszystkie teksty w obiektach zamieniane są na teksty pisane wielkimi literami poprzez wywołanie dla każdego obiektu kodu, wskazanego referencją do metody <code class=" language-java"><span class="token function">toUpperCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> klasy <code class=" language-java">String</code>,</li>
	<li>w linii nr 9, przy pomocy wyrażenia lambda odfiltrowane zostają jedynie te teksty, których długość jest większa od 11 znaków,</li>
	<li>w linii nr 10, teksty obiektów zastępowane są nowymi. Ze starego tekstu pobierane są znaki od początku napisu do spacji (plus dwa znaki — sama spacja oraz pierwsza litera nazwiska), a na końcu dodawana jest kropka,</li>
	<li>w linii nr 11, odfiltrowane zostają jedynie te obiekty, których pierwszą literą imienia jest litera <code class=" language-java">M</code>,</li>
	<li>w linii nr 12, obiekty ze strumienia wynikowego są wyświetlane na ekranie konsoli przy pomocy kolektora <code class=" language-java"><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> z referencją do metody <code class=" language-java">System<span class="token punctuation">.</span>out<span class="token operator">:</span><span class="token operator">:</span>println</code>.</li>
</ul>
<p>Wynik działania programu przedstawiono poniżej:</p><a class="img-modal-group" href="./Moduł_ 7. Stream, czyli funkcyjna iteracja po kolekcjach_files/java-7_07.png"><img src="./Moduł_ 7. Stream, czyli funkcyjna iteracja po kolekcjach_files/java-7_07.png" style="width: 100%"></a>
<h3 id="73-poznanie-funkcji-stream-filter-map-i-collect-stream-na-kolekcjach-z-dowolnymi-obiektami">Stream na kolekcjach z dowolnymi obiektami</h3>
<p><code class=" language-java">Stream</code> może działać na kolekcjach z dowolnymi obiektami —również takimi, które zostały utworzone przez Ciebie. Spróbujmy przetestować działanie <code class=" language-java">Stream</code> na liście obiektów typu <code class=" language-java">Book</code>. W katalogu <i>src/main/java</i> utwórz pakiet <code class=" language-java">com<span class="token punctuation">.</span>kodilla<span class="token punctuation">.</span>stream<span class="token punctuation">.</span>book</code>, a w nim klasę <code class=" language-java">Book</code> (możesz stworzyć tylko pustą klasę z trzema polami, a następnie wygenerować automatycznie konstruktor, gettery oraz metodę <code class=" language-java"><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> przy pomocy skrótu <code class=" language-java">Alt<span class="token operator">+</span>Insert</code>):</p>
<pre class="line-numbers language-java code-toolbar"><code class=" language-java"><span class="token keyword keyword-package">package</span> com<span class="token punctuation">.</span>kodilla<span class="token punctuation">.</span>stream<span class="token punctuation">.</span>book<span class="token punctuation">;</span>

<span class="token keyword keyword-public">public</span> <span class="token keyword keyword-final">final</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">Book</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-private">private</span> <span class="token keyword keyword-final">final</span> String author<span class="token punctuation">;</span>
    <span class="token keyword keyword-private">private</span> <span class="token keyword keyword-final">final</span> String title<span class="token punctuation">;</span>
    <span class="token keyword keyword-private">private</span> <span class="token keyword keyword-final">final</span> <span class="token keyword keyword-int">int</span> yearOfPublication<span class="token punctuation">;</span>

    <span class="token keyword keyword-public">public</span> <span class="token function">Book</span><span class="token punctuation">(</span><span class="token keyword keyword-final">final</span> String author<span class="token punctuation">,</span> <span class="token keyword keyword-final">final</span> String title<span class="token punctuation">,</span>
               <span class="token keyword keyword-final">final</span> <span class="token keyword keyword-int">int</span> yearOfPublication<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword keyword-this">this</span><span class="token punctuation">.</span>author <span class="token operator">=</span> author<span class="token punctuation">;</span>
            <span class="token keyword keyword-this">this</span><span class="token punctuation">.</span>title <span class="token operator">=</span> title<span class="token punctuation">;</span>
            <span class="token keyword keyword-this">this</span><span class="token punctuation">.</span>yearOfPublication <span class="token operator">=</span> yearOfPublication<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword keyword-public">public</span> String <span class="token function">getAuthor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword keyword-return">return</span> author<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword keyword-public">public</span> String <span class="token function">getTitle</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword keyword-return">return</span> title<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-int">int</span> <span class="token function">getYearOfPublication</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword keyword-return">return</span> yearOfPublication<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword keyword-public">public</span> String <span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword keyword-return">return</span> <span class="token string">"Book{"</span> <span class="token operator">+</span>
                    <span class="token string">"author='"</span> <span class="token operator">+</span> author <span class="token operator">+</span> <span class="token string">'\''</span> <span class="token operator">+</span>
                    <span class="token string">", title='"</span> <span class="token operator">+</span> title <span class="token operator">+</span> <span class="token string">'\''</span> <span class="token operator">+</span>
                    <span class="token string">", yearOfPublication="</span> <span class="token operator">+</span> yearOfPublication <span class="token operator">+</span>
                    <span class="token string">'}'</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code><div class="toolbar"></div></pre>
<p>W kolejnym kroku utworzymy klasę <code class=" language-java">BookDirectory</code> (również w pakiecie <code class=" language-java">com<span class="token punctuation">.</span>kodilla<span class="token punctuation">.</span>stream<span class="token punctuation">.</span>book</code> w katalogu <i>src/main/java</i>), która będzie posiadała listę książek, a także metodę <code class=" language-java"><span class="token function">getList</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> zwracającą tę kolekcję:</p>
<pre class="line-numbers language-java code-toolbar"><code class=" language-java"><span class="token keyword keyword-package">package</span> com<span class="token punctuation">.</span>kodilla<span class="token punctuation">.</span>stream<span class="token punctuation">.</span>book<span class="token punctuation">;</span>

<span class="token keyword keyword-import">import</span> java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>ArrayList<span class="token punctuation">;</span>
<span class="token keyword keyword-import">import</span> java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>List<span class="token punctuation">;</span>

<span class="token keyword keyword-public">public</span> <span class="token keyword keyword-final">final</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">BookDirectory</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-private">private</span> <span class="token keyword keyword-final">final</span> List<span class="token operator">&lt;</span>Book<span class="token operator">&gt;</span> theBookList <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token class-name">ArrayList</span><span class="token operator">&lt;</span><span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword keyword-public">public</span> <span class="token function">BookDirectory</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            theBookList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword keyword-new">new</span> <span class="token class-name">Book</span><span class="token punctuation">(</span><span class="token string">"Dylan Murphy"</span><span class="token punctuation">,</span> <span class="token string">"Wolf of the mountains"</span><span class="token punctuation">,</span> <span class="token number">2003</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            theBookList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword keyword-new">new</span> <span class="token class-name">Book</span><span class="token punctuation">(</span><span class="token string">"Phoebe Pearson"</span><span class="token punctuation">,</span> <span class="token string">"Slaves of dreams"</span><span class="token punctuation">,</span> <span class="token number">2012</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            theBookList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword keyword-new">new</span> <span class="token class-name">Book</span><span class="token punctuation">(</span><span class="token string">"Morgan Walsh"</span><span class="token punctuation">,</span> <span class="token string">"Obliteration of heaven"</span><span class="token punctuation">,</span> <span class="token number">2001</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            theBookList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword keyword-new">new</span> <span class="token class-name">Book</span><span class="token punctuation">(</span><span class="token string">"Aimee Murphy"</span><span class="token punctuation">,</span> <span class="token string">"Rejecting the night"</span><span class="token punctuation">,</span> <span class="token number">2015</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            theBookList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword keyword-new">new</span> <span class="token class-name">Book</span><span class="token punctuation">(</span><span class="token string">"Ryan Talley"</span><span class="token punctuation">,</span> <span class="token string">"Gangsters and kings"</span><span class="token punctuation">,</span> <span class="token number">2007</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            theBookList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword keyword-new">new</span> <span class="token class-name">Book</span><span class="token punctuation">(</span><span class="token string">"Madelynn Carson"</span><span class="token punctuation">,</span> <span class="token string">"Unity without duty"</span><span class="token punctuation">,</span> <span class="token number">2007</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            theBookList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword keyword-new">new</span> <span class="token class-name">Book</span><span class="token punctuation">(</span><span class="token string">"Giancarlo Guerrero"</span><span class="token punctuation">,</span> <span class="token string">"Enemies of eternity"</span><span class="token punctuation">,</span> <span class="token number">2009</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword keyword-public">public</span> List<span class="token operator">&lt;</span>Book<span class="token operator">&gt;</span> <span class="token function">getList</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword keyword-return">return</span> <span class="token keyword keyword-new">new</span> <span class="token class-name">ArrayList</span><span class="token operator">&lt;</span><span class="token operator">&gt;</span><span class="token punctuation">(</span>theBookList<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code><div class="toolbar"></div></pre>
<p>Teraz usuń dotychczasowy kod w metodzie <code class=" language-java"><span class="token function">main</span><span class="token punctuation">(</span>String<span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span></code> wewnątrz klasy <code class=" language-java">StreamMain</code>, a następnie wpisz kod pokazany poniżej:</p>
<pre class="line-numbers language-java code-toolbar"><code class=" language-java"><span class="token keyword keyword-package">package</span> com<span class="token punctuation">.</span>kodilla<span class="token punctuation">.</span>stream<span class="token punctuation">;</span>

<span class="token keyword keyword-import">import</span> com<span class="token punctuation">.</span>kodilla<span class="token punctuation">.</span>stream<span class="token punctuation">.</span>book<span class="token punctuation">.</span>BookDirectory<span class="token punctuation">;</span>

<span class="token keyword keyword-public">public</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">StreamMain</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-static">static</span> <span class="token keyword keyword-void">void</span> <span class="token function">main</span><span class="token punctuation">(</span>String<span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            BookDirectory theBookDirectory <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token class-name">BookDirectory</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            theBookDirectory<span class="token punctuation">.</span><span class="token function">getList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                    <span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span>book <span class="token operator">-</span><span class="token operator">&gt;</span> book<span class="token punctuation">.</span><span class="token function">getYearOfPublication</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token number">2005</span><span class="token punctuation">)</span>
                    <span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span>System<span class="token punctuation">.</span>out<span class="token operator">:</span><span class="token operator">:</span>println<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code><div class="toolbar"></div></pre>
<p>Powyższy kod tworzy strumień <code class=" language-java">Stream</code> dla kolekcji zwracanej przez metodę <code class=" language-java"><span class="token function">getList</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> klasy <code class=" language-java">BookDirectory</code>, a następnie na tym strumieniu wywołuje operację filtrującą, wybierającą jedynie te książki, których rok wydania jest większy niż 2005. Na końcu kolektor strumienia wyświetla obiekty książek na ekranie konsoli:</p><a class="img-modal-group" href="./Moduł_ 7. Stream, czyli funkcyjna iteracja po kolekcjach_files/java-7_08.png"><img src="./Moduł_ 7. Stream, czyli funkcyjna iteracja po kolekcjach_files/java-7_08.png" style="width: 100%;"></a>
<h3 id="73-poznanie-funkcji-stream-filter-map-i-collect-operacje-terminalne-kolektory">Operacje terminalne — kolektory</h3>
<p>Dotychczas używaliśmy jednej operacji terminalnej na strumieniach — operacji <code class=" language-java"><span class="token function">forEach</span><span class="token punctuation">(</span>Consumer action<span class="token punctuation">)</span></code>. Teraz poznasz także inne kolektory, które tworzą kolekcję wynikową po przetworzeniu danych przez strumień.</p>
<p>Podstawowym kolektorem jest operacja <code class=" language-java"><span class="token function">collect</span><span class="token punctuation">(</span>Collector collector<span class="token punctuation">)</span></code>, gdzie <code class=" language-java">collector</code> oznacza jedną z predefiniowanych metod klasy <code class=" language-java">Collectors</code>. Omówimy trzy przykładowe kolektory:</p>
<ul>
	<li><code class=" language-java">Collectors<span class="token punctuation">.</span><span class="token function">toList</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> — który tworzy kolekcję w postaci listy,</li>
	<li><code class=" language-java">Collectors<span class="token punctuation">.</span><span class="token function">toMap</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> — który tworzy kolekcję w postaci mapy,</li>
	<li><code class=" language-java">Collectors<span class="token punctuation">.</span><span class="token function">joining</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> — który tworzy <code class=" language-java">String</code> zawierający teksty reprezentujące poszczególne obiekty oddzielone wskazanym separatorem.</li>
</ul>
<h4>Kolektor Collectors.toList()</h4>
<p>Przebudujemy nieco nasz program w metodzie <code class=" language-java"><span class="token function">main</span><span class="token punctuation">(</span>String<span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span></code> klasy <code class=" language-java">StreamMain</code>:</p>
<pre class="line-numbers language-java code-toolbar"><code class=" language-java"><span class="token keyword keyword-package">package</span> com<span class="token punctuation">.</span>kodilla<span class="token punctuation">.</span>stream<span class="token punctuation">;</span>

<span class="token keyword keyword-import">import</span> com<span class="token punctuation">.</span>kodilla<span class="token punctuation">.</span>stream<span class="token punctuation">.</span>book<span class="token punctuation">.</span>Book<span class="token punctuation">;</span>
<span class="token keyword keyword-import">import</span> com<span class="token punctuation">.</span>kodilla<span class="token punctuation">.</span>stream<span class="token punctuation">.</span>book<span class="token punctuation">.</span>BookDirectory<span class="token punctuation">;</span>
<span class="token keyword keyword-import">import</span> java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>List<span class="token punctuation">;</span>
<span class="token keyword keyword-import">import</span> java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>stream<span class="token punctuation">.</span>Collectors<span class="token punctuation">;</span>

<span class="token keyword keyword-public">public</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">StreamMain</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-static">static</span> <span class="token keyword keyword-void">void</span> <span class="token function">main</span><span class="token punctuation">(</span>String<span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        BookDirectory theBookDirectory <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token class-name">BookDirectory</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        List<span class="token operator">&lt;</span>Book<span class="token operator">&gt;</span> theResultListOfBooks <span class="token operator">=</span> theBookDirectory<span class="token punctuation">.</span><span class="token function">getList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span>book <span class="token operator">-</span><span class="token operator">&gt;</span> book<span class="token punctuation">.</span><span class="token function">getYearOfPublication</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token number">2005</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">collect</span><span class="token punctuation">(</span>Collectors<span class="token punctuation">.</span><span class="token function">toList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"# elements: "</span> <span class="token operator">+</span> theResultListOfBooks<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        theResultListOfBooks<span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span>System<span class="token punctuation">.</span>out<span class="token operator">:</span><span class="token operator">:</span>println<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code><div class="toolbar"></div></pre>
<p>Spójrz teraz na linię nr 13 — wywołujemy w niej operację terminalną tworzącą wynikową kolekcję danych przy użyciu metody <code class=" language-java"><span class="token function">collect</span><span class="token punctuation">(</span>Collector collector<span class="token punctuation">)</span></code>. Skorzystaliśmy tu z kolektora <code class=" language-java">Collectors<span class="token punctuation">.</span><span class="token function">toList</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code>. Dzięki temu możemy "wynik działania" strumienia przypisać do zmiennej typu <code class=" language-java">List</code> (linia nr 11).</p>
<p>Na zakończenie działania programu, w celu sprawdzenia poprawności jego działania, w liniach od 15 do 17 wyświetlamy liczbę elementów z kolekcji wynikowej (linia nr 15), a także zawartość kolekcji przy pomocy pętli metody <code class=" language-java">System<span class="token punctuation">.</span>out<span class="token operator">:</span><span class="token operator">:</span>println</code> (linie od 16 do 17).</p>
<h4>Kolektor Collectors.toMap()</h4>
<p>Oprócz kolekcji typu lista, możliwe jest również utworzenie przez kolektor strumienia innych kolekcji, na przykład mapy. W tym celu należy skorzystać z kolektora <code class=" language-java">Collectors<span class="token punctuation">.</span><span class="token function">toMap</span><span class="token punctuation">(</span>Function keyMapper<span class="token punctuation">,</span> Function valueMapper<span class="token punctuation">)</span></code>.</p>
<p>Aby przechowywać obiekty typu <code class=" language-java">Book</code> w mapie, musimy nieco rozbudować tę klasę. Dodamy więc do klasy <code class=" language-java">Book</code> w pakiecie <code class=" language-java">com<span class="token punctuation">.</span>kodilla<span class="token punctuation">.</span>stream<span class="token punctuation">.</span>book</code> (w katalogu <i>src/main/java</i>) pole <code class=" language-java">signature</code> typu <code class=" language-java">String</code>, które będzie jednoznacznym identyfikatorem książki — sygnaturą biblioteczną. Będzie również wartością klucza w mapie (jak pamiętasz, mapy przechowują kolekcje par klucz-wartość). Dodamy również getter do tego pola oraz uwzględnimy je w konstruktorze klasy i w metodzie <code class=" language-java"><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code>:</p>
<pre class="line-numbers language-java code-toolbar"><code class=" language-java"><span class="token keyword keyword-package">package</span> com<span class="token punctuation">.</span>kodilla<span class="token punctuation">.</span>stream<span class="token punctuation">.</span>book<span class="token punctuation">;</span>

<span class="token keyword keyword-public">public</span> <span class="token keyword keyword-final">final</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">Book</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-private">private</span> <span class="token keyword keyword-final">final</span> String author<span class="token punctuation">;</span>
    <span class="token keyword keyword-private">private</span> <span class="token keyword keyword-final">final</span> String title<span class="token punctuation">;</span>
    <span class="token keyword keyword-private">private</span> <span class="token keyword keyword-final">final</span> <span class="token keyword keyword-int">int</span> yearOfPublication<span class="token punctuation">;</span>
    <span class="token keyword keyword-private">private</span> <span class="token keyword keyword-final">final</span> String signature<span class="token punctuation">;</span>

    <span class="token keyword keyword-public">public</span> <span class="token function">Book</span><span class="token punctuation">(</span><span class="token keyword keyword-final">final</span> String author<span class="token punctuation">,</span> <span class="token keyword keyword-final">final</span> String title<span class="token punctuation">,</span>
               <span class="token keyword keyword-final">final</span> <span class="token keyword keyword-int">int</span> yearOfPublication<span class="token punctuation">,</span> <span class="token keyword keyword-final">final</span> String signature<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword keyword-this">this</span><span class="token punctuation">.</span>author <span class="token operator">=</span> author<span class="token punctuation">;</span>
            <span class="token keyword keyword-this">this</span><span class="token punctuation">.</span>title <span class="token operator">=</span> title<span class="token punctuation">;</span>
            <span class="token keyword keyword-this">this</span><span class="token punctuation">.</span>yearOfPublication <span class="token operator">=</span> yearOfPublication<span class="token punctuation">;</span>
            <span class="token keyword keyword-this">this</span><span class="token punctuation">.</span>signature <span class="token operator">=</span> signature<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword keyword-public">public</span> String <span class="token function">getAuthor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword keyword-return">return</span> author<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword keyword-public">public</span> String <span class="token function">getTitle</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword keyword-return">return</span> title<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-int">int</span> <span class="token function">getYearOfPublication</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword keyword-return">return</span> yearOfPublication<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword keyword-public">public</span> String <span class="token function">getSignature</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword keyword-return">return</span> signature<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword keyword-public">public</span> String <span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword keyword-return">return</span> <span class="token string">"Book{"</span> <span class="token operator">+</span>
                    <span class="token string">"author='"</span> <span class="token operator">+</span> author <span class="token operator">+</span> <span class="token string">'\''</span> <span class="token operator">+</span>
                    <span class="token string">", title='"</span> <span class="token operator">+</span> title <span class="token operator">+</span> <span class="token string">'\''</span> <span class="token operator">+</span>
                    <span class="token string">", yearOfPublication="</span> <span class="token operator">+</span> yearOfPublication <span class="token operator">+</span>
                    <span class="token string">", signature='"</span> <span class="token operator">+</span> signature <span class="token operator">+</span> <span class="token string">'\''</span> <span class="token operator">+</span>
                    <span class="token string">'}'</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code><div class="toolbar"></div></pre>
<p>Modyfikacji ulegnie również klasa <code class=" language-java">BookDirectory</code> w pakiecie <code class=" language-java">com<span class="token punctuation">.</span>kodilla<span class="token punctuation">.</span>stream<span class="token punctuation">.</span>book</code> w katalogu <i>src/main/java</i>. W konstruktorze klasy przy każdym tworzonym obiekcie <code class=" language-java">Book</code> dodamy nowy argument — numer sygnatury książki w ramach zbioru:</p>
<pre class="line-numbers language-java code-toolbar"><code class=" language-java"><span class="token keyword keyword-package">package</span> com<span class="token punctuation">.</span>kodilla<span class="token punctuation">.</span>stream<span class="token punctuation">.</span>book<span class="token punctuation">;</span>

<span class="token keyword keyword-import">import</span> java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>ArrayList<span class="token punctuation">;</span>
<span class="token keyword keyword-import">import</span> java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>List<span class="token punctuation">;</span>

<span class="token keyword keyword-public">public</span> <span class="token keyword keyword-final">final</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">BookDirectory</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-private">private</span> <span class="token keyword keyword-final">final</span> List<span class="token operator">&lt;</span>Book<span class="token operator">&gt;</span> theBookList <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token class-name">ArrayList</span><span class="token operator">&lt;</span><span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword keyword-public">public</span> <span class="token function">BookDirectory</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            theBookList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword keyword-new">new</span> <span class="token class-name">Book</span><span class="token punctuation">(</span><span class="token string">"Dylan Murphy"</span><span class="token punctuation">,</span> <span class="token string">"Wolf of the mountain"</span><span class="token punctuation">,</span>
                   <span class="token number">2003</span><span class="token punctuation">,</span> <span class="token string">"0001"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            theBookList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword keyword-new">new</span> <span class="token class-name">Book</span><span class="token punctuation">(</span><span class="token string">"Phoebe Pearson"</span><span class="token punctuation">,</span> <span class="token string">"Slaves of dreams"</span><span class="token punctuation">,</span>
                   <span class="token number">2012</span><span class="token punctuation">,</span> <span class="token string">"0002"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            theBookList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword keyword-new">new</span> <span class="token class-name">Book</span><span class="token punctuation">(</span><span class="token string">"Morgan Walsh"</span><span class="token punctuation">,</span> <span class="token string">"Obliteration of heaven"</span><span class="token punctuation">,</span>
                   <span class="token number">2001</span><span class="token punctuation">,</span> <span class="token string">"0003"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            theBookList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword keyword-new">new</span> <span class="token class-name">Book</span><span class="token punctuation">(</span><span class="token string">"Aimee Murphy"</span><span class="token punctuation">,</span> <span class="token string">"Rejecting the night"</span><span class="token punctuation">,</span>
                   <span class="token number">2015</span><span class="token punctuation">,</span> <span class="token string">"0004"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            theBookList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword keyword-new">new</span> <span class="token class-name">Book</span><span class="token punctuation">(</span><span class="token string">"Ryan Talley"</span><span class="token punctuation">,</span> <span class="token string">"Gangsters and kings"</span><span class="token punctuation">,</span>
                   <span class="token number">2007</span><span class="token punctuation">,</span> <span class="token string">"0005"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            theBookList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword keyword-new">new</span> <span class="token class-name">Book</span><span class="token punctuation">(</span><span class="token string">"Madelynn Carson"</span><span class="token punctuation">,</span> <span class="token string">"Unity without duty"</span><span class="token punctuation">,</span>
                   <span class="token number">2007</span><span class="token punctuation">,</span> <span class="token string">"0006"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            theBookList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword keyword-new">new</span> <span class="token class-name">Book</span><span class="token punctuation">(</span><span class="token string">"Giancarlo Guerrero"</span><span class="token punctuation">,</span> <span class="token string">"Enemies of eternity"</span><span class="token punctuation">,</span>
                   <span class="token number">2009</span><span class="token punctuation">,</span> <span class="token string">"0007"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword keyword-public">public</span> List<span class="token operator">&lt;</span>Book<span class="token operator">&gt;</span> <span class="token function">getList</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword keyword-return">return</span> <span class="token keyword keyword-new">new</span> <span class="token class-name">ArrayList</span><span class="token operator">&lt;</span><span class="token operator">&gt;</span><span class="token punctuation">(</span>theBookList<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code><div class="toolbar"></div></pre>
<p>Każdej książce w zbiorze nadaliśmy unikalną sygnaturę od "0001" do "0007". Wprowadźmy teraz odpowiednie zmiany w metodzie <code class=" language-java"><span class="token function">main</span><span class="token punctuation">(</span>String<span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span></code> klasy <code class=" language-java">StreamMain</code>, aby utworzyć mapę:</p>
<pre class="line-numbers language-java code-toolbar"><code class=" language-java"><span class="token keyword keyword-package">package</span> com<span class="token punctuation">.</span>kodilla<span class="token punctuation">.</span>stream<span class="token punctuation">;</span>

<span class="token keyword keyword-import">import</span> com<span class="token punctuation">.</span>kodilla<span class="token punctuation">.</span>stream<span class="token punctuation">.</span>book<span class="token punctuation">.</span>Book<span class="token punctuation">;</span>
<span class="token keyword keyword-import">import</span> com<span class="token punctuation">.</span>kodilla<span class="token punctuation">.</span>stream<span class="token punctuation">.</span>book<span class="token punctuation">.</span>BookDirectory<span class="token punctuation">;</span>
<span class="token keyword keyword-import">import</span> java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>Map<span class="token punctuation">;</span>
<span class="token keyword keyword-import">import</span> java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>stream<span class="token punctuation">.</span>Collectors<span class="token punctuation">;</span>

<span class="token keyword keyword-public">public</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">StreamMain</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-static">static</span> <span class="token keyword keyword-void">void</span> <span class="token function">main</span><span class="token punctuation">(</span>String<span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        BookDirectory theBookDirectory <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token class-name">BookDirectory</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        Map<span class="token operator">&lt;</span>String<span class="token punctuation">,</span> Book<span class="token operator">&gt;</span> theResultMapOfBooks <span class="token operator">=</span> theBookDirectory<span class="token punctuation">.</span><span class="token function">getList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span>book <span class="token operator">-</span><span class="token operator">&gt;</span> book<span class="token punctuation">.</span><span class="token function">getYearOfPublication</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token number">2005</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">collect</span><span class="token punctuation">(</span>Collectors<span class="token punctuation">.</span><span class="token function">toMap</span><span class="token punctuation">(</span>Book<span class="token operator">:</span><span class="token operator">:</span>getSignature<span class="token punctuation">,</span> book <span class="token operator">-</span><span class="token operator">&gt;</span> book<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"# elements: "</span> <span class="token operator">+</span> theResultMapOfBooks<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
           theResultMapOfBooks<span class="token punctuation">.</span><span class="token function">entrySet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                   <span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>entry <span class="token operator">-</span><span class="token operator">&gt;</span> entry<span class="token punctuation">.</span><span class="token function">getKey</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">": "</span> <span class="token operator">+</span> entry<span class="token punctuation">.</span><span class="token function">getValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                   <span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span>System<span class="token punctuation">.</span>out<span class="token operator">:</span><span class="token operator">:</span>println<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code><div class="toolbar"></div></pre>
<p>W linii nr 14 używamy kolektora <code class=" language-java">Collectors<span class="token punctuation">.</span><span class="token function">toMap</span><span class="token punctuation">(</span>Function keyMapper<span class="token punctuation">,</span> Function valueMapper<span class="token punctuation">)</span></code>, gdzie <code class=" language-java">keyMapper</code> jest funkcją (wyrażeniem lambda lub referencją do metody) obliczającą klucz (<i>key</i>) pary w mapie wynikowej, natomiast <code class=" language-java">valueMapper</code> jest funkcją (wyrażeniem lambda lub referencją do metody) zwracającą wartość obiektu (<i>value</i>) pary w mapie wynikowej. W naszym przypadku:</p>
<ul>
	<li>klucze par <code class=" language-java">Entry</code> w mapie obliczane są funkcją, która wskazana jest przez referencję do metody <code class=" language-java">Book<span class="token operator">:</span><span class="token operator">:</span>getSignature</code></li>
	<li>wartości par <code class=" language-java">Entry</code> w mapie obliczane są funkcją zapisaną przy pomocy wyrażenia lambda <code class=" language-java">book <span class="token operator">-</span><span class="token operator">&gt;</span> book</code>, czyli po prostu są obiektami przepisanymi ze strumienia</li>
</ul>
<p>W linii nr 16 sprawdzamy rozmiar kolekcji wynikowej, natomiast w liniach 17-19 wyświetlamy zawartość mapy w formacie "<i>klucz: wartość</i>" przy pomocy wyrażenia lambda konwertującego typ <code class=" language-java">Map<span class="token punctuation">.</span>Entry</code> na łańcuchy tekstowe, a następnie przy pomocy metody <code class=" language-java">System<span class="token punctuation">.</span>out<span class="token operator">:</span><span class="token operator">:</span>println</code>.</p>
<h4>Kolektor Collectors.joining()</h4>
<p>Ostatnim z kolektorów, które omówimy w tym submodule, jest kolektor <code class=" language-java">Collectors<span class="token punctuation">.</span><span class="token function">joining</span><span class="token punctuation">(</span>String delimiter<span class="token punctuation">,</span> String prefix<span class="token punctuation">,</span> String suffix<span class="token punctuation">)</span></code>. Kolektor ten wymaga na wejściu, aby obiekty w strumieniu były przetransformowane do typu <code class=" language-java">String</code>. Działanie tego kolektora polega na dokonaniu konkatenacji (połączenia) wszystkich obiektów w strumieniu w jeden ciąg znaków. Wynikowy ciąg znaków będzie poprzedzony tekstem przekazanym jako <code class=" language-java">prefix</code> oraz zakończony tekstem przekazanym jako <code class=" language-java">suffix</code>, a poszczególne obiekty będą od siebie oddzielone ciągiem znaków przekazanym jako <code class=" language-java">delimiter</code>.</p>
<p>Usuń dotychczasową zawartość metody <code class=" language-java"><span class="token function">main</span><span class="token punctuation">(</span>String<span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span></code> z klasy <code class=" language-java">StreamMain</code> <i><code class=" language-java"></code></i><code class=" language-java"></code>i wpisz poniższy kod:</p>
<pre class="line-numbers language-java code-toolbar"><code class=" language-java"><span class="token keyword keyword-package">package</span> com<span class="token punctuation">.</span>kodilla<span class="token punctuation">.</span>stream<span class="token punctuation">;</span>

<span class="token keyword keyword-import">import</span> com<span class="token punctuation">.</span>kodilla<span class="token punctuation">.</span>stream<span class="token punctuation">.</span>book<span class="token punctuation">.</span>Book<span class="token punctuation">;</span>
<span class="token keyword keyword-import">import</span> com<span class="token punctuation">.</span>kodilla<span class="token punctuation">.</span>stream<span class="token punctuation">.</span>book<span class="token punctuation">.</span>BookDirectory<span class="token punctuation">;</span>
<span class="token keyword keyword-import">import</span> java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>stream<span class="token punctuation">.</span>Collectors<span class="token punctuation">;</span>

<span class="token keyword keyword-public">public</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">StreamMain</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-static">static</span> <span class="token keyword keyword-void">void</span> <span class="token function">main</span><span class="token punctuation">(</span>String<span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        BookDirectory theBookDirectory <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token class-name">BookDirectory</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        String theResultStringOfBooks <span class="token operator">=</span> theBookDirectory<span class="token punctuation">.</span><span class="token function">getList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span>book <span class="token operator">-</span><span class="token operator">&gt;</span> book<span class="token punctuation">.</span><span class="token function">getYearOfPublication</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token number">2005</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>Book<span class="token operator">:</span><span class="token operator">:</span>toString<span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">collect</span><span class="token punctuation">(</span>Collectors<span class="token punctuation">.</span><span class="token function">joining</span><span class="token punctuation">(</span><span class="token string">",\n"</span><span class="token punctuation">,</span><span class="token string">"&lt;&lt;"</span><span class="token punctuation">,</span><span class="token string">"&gt;&gt;"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>theResultStringOfBooks<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code><div class="toolbar"></div></pre>
<p>Zauważ, że w linii nr 10 typem zmiennej, do której przypisujemy wynik działania strumienia jest typ <code class=" language-java">String</code> — wynika to z tego, że finalnym efektem działania naszego strumienia <code class=" language-java">Stream</code> jest pojedynczy (skalarny) obiekt typu <code class=" language-java">String</code>.</p>
<p>W linii nr 13 wywoływany jest kolektor <code class=" language-java">Collectors<span class="token punctuation">.</span><span class="token function">joining</span><span class="token punctuation">(</span>String delimiter<span class="token punctuation">,</span> String prefix<span class="token punctuation">,</span> String suffix<span class="token punctuation">)</span></code>, gdzie:</p>
<ul>
	<li><code class=" language-java">delimiter</code> ustawiony jest na wartość <code class=" language-java"><span class="token string">",\n"</span></code></li>
	<li><code class=" language-java">prefix</code> ustawiony jest na wartość <code class=" language-java"><span class="token string">"&lt;&lt;"</span></code></li>
	<li><code class=" language-java">suffix</code> ustawiony jest na wartość <code class=" language-java"><span class="token string">"&gt;&gt;"</span></code></li>
</ul>
<p>Wynik działania programu przedstawiono poniżej:</p><a class="img-modal-group" href="./Moduł_ 7. Stream, czyli funkcyjna iteracja po kolekcjach_files/java-7_09.png"><img src="./Moduł_ 7. Stream, czyli funkcyjna iteracja po kolekcjach_files/java-7_09.png" style="width: 100%;"></a>
<p>Na tym zakończymy wycieczkę po metodach <code class=" language-java"><span class="token function">filter</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code>, <code class=" language-java"><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> oraz <code class=" language-java"><span class="token function">collect</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code>. W kolejnych submodułach poznamy inne, ciekawe właściwości strumieni <code class=" language-java">Stream</code>.</p>

                        </div>
                    </div>
                                        <div class="card-block task-card">
                        <h3 id="73-poznanie-funkcji-stream-filter-map-i-collect-zadanie-funkcyjny-spacer-po-liscie-uzytkownikow-forum">Zadanie: <span class="task-title">funkcyjny spacer po liście użytkowników forum</span></h3>
                        <div class="task-content">
                            <p>Twoim zadaniem jest stworzenie kolekcji składającej się z obiektów opisujących użytkowników forum. Następnie, przy pomocy <code class=" language-java">Stream</code> powinieneś przekształcić tę kolekcję w mapę zawierającą tych użytkowników forum, którzy mają nie mniej niż 20 lat, są mężczyznami i mają co najmniej jeden opublikowany post.</p>
<p>Aby zrealizować zadanie wykonaj:</p>
<ol>
	<li>Stwórz w katalogu <i>src/main/java</i> pakiet <code class=" language-java">com<span class="token punctuation">.</span>kodilla<span class="token punctuation">.</span>stream<span class="token punctuation">.</span>forumuser</code>, a w nim klasę <code class=" language-java">ForumUser</code></li>
	<li>Klasa <code class=" language-java">ForumUser</code> powinna mieć następujące pola (użyj odpowiednich nazw angielskich):</li>
	<li>unikalny identyfikator użytkownika (typu <code class=" language-java"><span class="token keyword keyword-int">int</span></code>)</li>
	<li>nazwa użytkownika (typu <code class=" language-java">String<span class="token punctuation">)</span></code></li>
	<li>płeć (typu <code class=" language-java"><span class="token keyword keyword-char">char</span></code>), z wartościami <code class=" language-java">‘M’</code>/<code class=" language-java">’F’</code></li>
	<li>data urodzenia (typu <code class=" language-java">LocalDate</code>)</li>
	<li>ilość opublikowanych postów (typu <code class=" language-java"><span class="token keyword keyword-int">int</span></code>)</li>
	<li>W tym samym pakiecie napisz klasę <code class=" language-java">Forum</code>, która będzie zawierała listę użytkowników, czyli listę obiektów <code class=" language-java">ForumUser</code>.</li>
	<li>Klasa <code class=" language-java">Forum</code> powinna udostępniać metodę <code class=" language-java"><span class="token function">getUserList</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code>, która będzie zwracała kolekcję z użytkownika forum</li>
	<li>W metodzie <code class=" language-java"><span class="token function">main</span><span class="token punctuation">(</span>String<span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span></code> klasy <code class=" language-java">StreamMain</code> napisz program, który:</li>
	<li>zainicjuje strumień <code class=" language-java">Stream</code> przy pomocy metody <code class=" language-java"><span class="token function">stream</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> kolekcji</li>
	<li>odfiltruje tylko tych użytkowników, którzy są mężczyznami</li>
	<li>odfiltruje tylko tych użytkowników, którzy mają co najmniej 20 lat</li>
	<li>odfiltruje tylko tych użytkowników, którzy mają co najmniej jeden opublikowany post</li>
	<li>przy pomocy kolektora utworzy mapę <code class=" language-java">par</code>, w której rolę klucza będzie pełnił unikalny identyfikator użytkownika</li>
	<li>wyświetli otrzymaną mapę wynikową</li>
	<li>Napisany program prześlij do repozytorium <code class=" language-java">GitHub</code>.</li>
</ol>
<p>Link do repozytorium wklej poniżej i wyślij do mentora. Powodzenia!</p>
                        </div>
                    </div>
                                        <div class="card-block submodule-footer clearfix ">
                                                <div class="clearfix">
                                                                                <a href="https://kodilla.com/pl/bootcamp-task/146/249433" target="_blank" class="btn btn-info-outline">Podgląd zadania</a>
                            <form target="_blank" class="form-inline project-link-form">
                                <div class="form-group">
                                    <input type="text" name="link" class="form-control" value="">
                                </div>
                                <button type="submit" class="btn  btn-success-outline ">Wyslij link <i class="fa fa-check"></i></button>
                            </form>
                                                                                                    </div>
                    </div>
                </section>
                                    
                <section id="submodule-339" class="card submodule " data-bootcamp-user-submodule-id="249434">
                <!-- klasy dla section: completed current comments -->
                    <div class="card-block submodule-header clearfix">
                        <i class="fa fa-check-circle-o fa-2x"></i>
                        <i class="fa fa-play-circle-o fa-2x"></i>
                        <i class="fa fa-exclamation-circle fa-2x"></i>
                        <i class="fa fa-send-o fa-2x"></i>
                        <h2 class="bootcamp-submodule-name">7.4. <span>Poznanie flatMap() i reduce()</span></h2>
                                            </div>
                    <div class="card-block">
                        <div class="submodule-content">
                            <p>Nim rozpoczniemy dalszą pracę, dokonfigurujemy nieco nasze środowisko. Zamiast pisać kolejne fragmenty kodu w metodzie <code class=" language-java"><span class="token function">main</span><span class="token punctuation">(</span>String<span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span></code> klasy <code class=" language-java">StreamMain</code>, utworzymy potrzebne klasy i będziemy je testować przy pomocy <code class=" language-java">JUnit</code> w katalogu <i>src/test/java</i>. Takie podejście jest bardziej praktyczne, ponieważ - póki co - nasz kod to zbiór małych, niezależnych programów. Przy okazji przypomnisz sobie materiał z modułu szóstego :)</p>
<h3 id="74-poznanie-flatmap-i-reduce-przygotowanie-srodowiska">Przygotowanie środowiska</h3>
<p>Po pierwsze, dodaj do modułu <code class=" language-java">kodilla<span class="token operator">-</span>stream</code> katalog <i>src/test/java</i> i oznacz go jako główny katalog dla kodu testów, oczywiście o ile nie jest jeszcze oznaczony (dla przypomnienia: ustaw się na katalogu <i>src/test/java</i> i użyj prawego przycisku myszy, a następnie wybierz funkcję: <i>Mark Directory as -&gt; Test Sources Root</i>). Jeżeli podkatalog <i>java</i> jest już oznaczony zielonym kolorem w drzewie projektu - wówczas nie musisz go oznaczać jako katalog testów. Zielony kolor informuje, że <b>IntelliJ</b> sam oznaczył go automatycznie jako główny katalog kodu testów.</p>
<p>Następnie dodaj w pliku <code class=" language-java">build<span class="token punctuation">.</span>gradle</code> modułu <code class=" language-java">kodilla<span class="token operator">-</span>stream</code> zależność dla biblioteki <code class=" language-java">JUnit</code> (o ile <b>IntelliJ</b> nie dodał jej samodzielnie):</p>

<pre class="line-numbers language-java code-toolbar"><code class=" language-java">dependencies <span class="token punctuation">{</span>
    <span class="token comment" spellcheck="true">//Test dependencies</span>
    <span class="token function">testCompile</span><span class="token punctuation">(</span><span class="token string">'junit:junit:4.12'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code><div class="toolbar"></div></pre>

<p>Ostatnią czynnością jest utworzenie pakietu <code class=" language-java">com<span class="token punctuation">.</span>kodilla<span class="token punctuation">.</span>stream</code> w katalogu <i>src/test/java</i>.</p>
<h3 id="74-poznanie-flatmap-i-reduce-splaszczone-mapy-czyli-operacja-flatmap">Spłaszczone mapy, czyli operacja <code class=" language-java"><span class="token function">flatMap</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></h3>
<p>Często podczas pracy spotkasz się z sytuacją, w której Twoja kolekcja będzie zawierała kolejne kolekcje, a one - dla odmiany - kolejne kolekcje :) Aby sobie z tym poradzić, wymyślono "spłaszczone" strumienie (spłaszczone mapy), które poznamy już za chwilę.</p>
<h4>Przykład strumienia nie wymagającego spłaszczenia</h4>
<p>Na początek stworzymy klasę reprezentującą użytkownika forum. Utwórz w katalogu <i>src/main/java</i> pakiet <code class=" language-java">com<span class="token punctuation">.</span>kodilla<span class="token punctuation">.</span>stream<span class="token punctuation">.</span>forum</code>, a w nim klasę <code class=" language-java">ForumUser</code>.</p>
<p>Utwórz pustą klasę z czterema polami, a następnie wygeneruj konstruktor, gettery, metodę <code class=" language-java"><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> opartą na polach <code class=" language-java">username</code> oraz <code class=" language-java">realName</code> i <code class=" language-java">location</code> , a także metody <code class=" language-java"><span class="token function">hashCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> oraz <code class=" language-java"><span class="token function">equals</span><span class="token punctuation">(</span>Object o<span class="token punctuation">)</span></code> <b>oparte tylko o pole username (to znaczy zaznaczy tylko to pole przy generowaniu metod)</b>. Ręcznie dopisz metody <code class=" language-java"><span class="token function">addFriend</span><span class="token punctuation">(</span>ForumUser user<span class="token punctuation">)</span></code> oraz <code class=" language-java"><span class="token function">removeFriend</span><span class="token punctuation">(</span>ForumUser user<span class="token punctuation">)</span></code> według poniższego kodu:</p>
<pre class="line-numbers language-java code-toolbar"><code class=" language-java"><span class="token keyword keyword-package">package</span> com<span class="token punctuation">.</span>kodilla<span class="token punctuation">.</span>stream<span class="token punctuation">.</span>forum<span class="token punctuation">;</span>

<span class="token keyword keyword-import">import</span> java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>HashSet<span class="token punctuation">;</span>
<span class="token keyword keyword-import">import</span> java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>Set<span class="token punctuation">;</span>

<span class="token keyword keyword-public">public</span> <span class="token keyword keyword-final">final</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">ForumUser</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-private">private</span> <span class="token keyword keyword-final">final</span> String username<span class="token punctuation">;</span>
    <span class="token keyword keyword-private">private</span> <span class="token keyword keyword-final">final</span> String realName<span class="token punctuation">;</span>
    <span class="token keyword keyword-private">private</span> <span class="token keyword keyword-final">final</span> String location<span class="token punctuation">;</span>
    <span class="token keyword keyword-private">private</span> <span class="token keyword keyword-final">final</span> Set<span class="token operator">&lt;</span>ForumUser<span class="token operator">&gt;</span> friends <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token class-name">HashSet</span><span class="token operator">&lt;</span><span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword keyword-public">public</span> <span class="token function">ForumUser</span><span class="token punctuation">(</span><span class="token keyword keyword-final">final</span> String username<span class="token punctuation">,</span> <span class="token keyword keyword-final">final</span> String realName<span class="token punctuation">,</span>
               <span class="token keyword keyword-final">final</span> String location<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword keyword-this">this</span><span class="token punctuation">.</span>username <span class="token operator">=</span> username<span class="token punctuation">;</span>
            <span class="token keyword keyword-this">this</span><span class="token punctuation">.</span>realName <span class="token operator">=</span> realName<span class="token punctuation">;</span>
            <span class="token keyword keyword-this">this</span><span class="token punctuation">.</span>location <span class="token operator">=</span> location<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-void">void</span> <span class="token function">addFriend</span><span class="token punctuation">(</span>ForumUser user<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            friends<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>user<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-boolean">boolean</span> <span class="token function">removeFriend</span><span class="token punctuation">(</span>ForumUser user<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword keyword-return">return</span> friends<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span>user<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword keyword-public">public</span> String <span class="token function">getUsername</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword keyword-return">return</span> username<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword keyword-public">public</span> String <span class="token function">getRealName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword keyword-return">return</span> realName<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword keyword-public">public</span> String <span class="token function">getLocation</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword keyword-return">return</span> location<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword keyword-public">public</span> Set<span class="token operator">&lt;</span>ForumUser<span class="token operator">&gt;</span> <span class="token function">getFriends</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword keyword-return">return</span> friends<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword keyword-public">public</span> String <span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword keyword-return">return</span> <span class="token string">"ForumUser{"</span> <span class="token operator">+</span>
                    <span class="token string">"username='"</span> <span class="token operator">+</span> username <span class="token operator">+</span> <span class="token string">'\''</span> <span class="token operator">+</span>
                    <span class="token string">", realName='"</span> <span class="token operator">+</span> realName <span class="token operator">+</span> <span class="token string">'\''</span> <span class="token operator">+</span>
                    <span class="token string">", location='"</span> <span class="token operator">+</span> location <span class="token operator">+</span> <span class="token string">'\''</span> <span class="token operator">+</span>
                    <span class="token string">'}'</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-boolean">boolean</span> <span class="token function">equals</span><span class="token punctuation">(</span>Object o<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span><span class="token keyword keyword-this">this</span> <span class="token operator">==</span> o<span class="token punctuation">)</span> <span class="token keyword keyword-return">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
            <span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token punctuation">(</span>o <span class="token keyword keyword-instanceof">instanceof</span> <span class="token class-name">ForumUser</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword keyword-return">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
            ForumUser forumUser <span class="token operator">=</span> <span class="token punctuation">(</span>ForumUser<span class="token punctuation">)</span> o<span class="token punctuation">;</span>
            <span class="token keyword keyword-return">return</span> username<span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>forumUser<span class="token punctuation">.</span>username<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-int">int</span> <span class="token function">hashCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword keyword-return">return</span> username<span class="token punctuation">.</span><span class="token function">hashCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code><div class="toolbar"></div></pre>
<p>Zwróć uwagę, że istotnym elementem klasy <code class=" language-java">ForumUser</code> jest zbiór przyjaciół (pole <code class=" language-java">friends</code>).</p>
<p>Stwórzmy teraz w klasie <code class=" language-java">ForumUser</code> metodę <code class=" language-java"><span class="token function">getLocationsOfFriends</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code>, która zwraca zbiór lokalizacji przyjaciół:</p>
<pre class="line-numbers language-java code-toolbar"><code class=" language-java"><span class="token keyword keyword-package">package</span> com<span class="token punctuation">.</span>kodilla<span class="token punctuation">.</span>stream<span class="token punctuation">.</span>forum<span class="token punctuation">;</span>

<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>

<span class="token keyword keyword-public">public</span> <span class="token keyword keyword-final">final</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">ForumUser</span> <span class="token punctuation">{</span>

   <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>

<span class="token keyword keyword-public">public</span> Set<span class="token operator">&lt;</span>String<span class="token operator">&gt;</span> <span class="token function">getLocationsOfFriends</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-return">return</span> friends<span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>friend <span class="token operator">-</span><span class="token operator">&gt;</span> friend<span class="token punctuation">.</span><span class="token function">getLocation</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">collect</span><span class="token punctuation">(</span>Collectors<span class="token punctuation">.</span><span class="token function">toSet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

   <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>

<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code><div class="toolbar"></div></pre>
<p>Metoda <code class=" language-java"><span class="token function">getLocationsOfFriends</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> tworzy strumień na kolekcji <code class=" language-java">friends</code> (jest to <code class=" language-java">Set</code> zawierający obiekty typu <code class=" language-java">ForumUser</code>) i następnie dokonuje operacji transformującej z wykorzystaniem wyrażenia lambda (linia nr 11 powyżej) <code class=" language-java">friend <span class="token operator">-</span><span class="token operator">&gt;</span> friend<span class="token punctuation">.</span><span class="token function">getLocation</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code>, czyli dokonuje zmiany obiektów w strumieniu z <code class=" language-java">ForumUser</code> na obiekty typu <code class=" language-java">String</code>. W ostatnim kroku działania tworzona jest kolekcja wynikowa typu <code class=" language-java">Set</code> przy użyciu kolektora strumienia - <code class=" language-java">Collectors<span class="token punctuation">.</span><span class="token function">toSet</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code>.</p>
<p>Teraz utworzymy test sprawdzający czy nasza klasa działa poprawnie w zakresie dodawania przyjaciół. W tym celu utwórz pakiet <code class=" language-java">com<span class="token punctuation">.</span>kodilla<span class="token punctuation">.</span>stream<span class="token punctuation">.</span>forum</code> w katalogu <i>src/test/java</i>, a w nim zestaw testów <code class=" language-java">ForumUserTestSuite</code>. Utwórz również test <code class=" language-java"><span class="token function">testGetLocationsOfFriends</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span></code></p>
<pre class="line-numbers language-java code-toolbar"><code class=" language-java"><span class="token keyword keyword-package">package</span> com<span class="token punctuation">.</span>kodilla<span class="token punctuation">.</span>stream<span class="token punctuation">.</span>forum<span class="token punctuation">;</span>

<span class="token keyword keyword-import">import</span> org<span class="token punctuation">.</span>junit<span class="token punctuation">.</span>Assert<span class="token punctuation">;</span>
<span class="token keyword keyword-import">import</span> org<span class="token punctuation">.</span>junit<span class="token punctuation">.</span>Test<span class="token punctuation">;</span>

<span class="token keyword keyword-public">public</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">ForumUserTestSuite</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-void">void</span> <span class="token function">testGetLocationsOfFriends</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment" spellcheck="true">//Given</span>
            <span class="token comment" spellcheck="true">//Create users</span>
            ForumUser user1 <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token class-name">ForumUser</span><span class="token punctuation">(</span><span class="token string">"alan01"</span><span class="token punctuation">,</span> <span class="token string">"Alan Kosovsky"</span><span class="token punctuation">,</span> <span class="token string">"Washington"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            ForumUser user2 <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token class-name">ForumUser</span><span class="token punctuation">(</span><span class="token string">"ethanreard"</span><span class="token punctuation">,</span> <span class="token string">"Ethan Reard"</span><span class="token punctuation">,</span> <span class="token string">"Miami"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            ForumUser user3 <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token class-name">ForumUser</span><span class="token punctuation">(</span><span class="token string">"eRiK"</span><span class="token punctuation">,</span> <span class="token string">"Erik Hull"</span><span class="token punctuation">,</span> <span class="token string">"Key West"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            ForumUser user4 <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token class-name">ForumUser</span><span class="token punctuation">(</span><span class="token string">"booth"</span><span class="token punctuation">,</span> <span class="token string">"Mya Booth"</span><span class="token punctuation">,</span> <span class="token string">"Washington"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            ForumUser user5 <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token class-name">ForumUser</span><span class="token punctuation">(</span><span class="token string">"nicole1987"</span><span class="token punctuation">,</span> <span class="token string">"Nicole Lee"</span><span class="token punctuation">,</span> <span class="token string">"Orlando"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            ForumUser user6 <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token class-name">ForumUser</span><span class="token punctuation">(</span><span class="token string">"nobody"</span><span class="token punctuation">,</span> <span class="token string">"Briana Williams"</span><span class="token punctuation">,</span> <span class="token string">"Miami"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            ForumUser user7 <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token class-name">ForumUser</span><span class="token punctuation">(</span><span class="token string">"bigmac"</span><span class="token punctuation">,</span> <span class="token string">"Robert Macdonald"</span><span class="token punctuation">,</span> <span class="token string">"Washington"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            ForumUser user8 <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token class-name">ForumUser</span><span class="token punctuation">(</span><span class="token string">"thebigone"</span><span class="token punctuation">,</span> <span class="token string">"Clay Small"</span><span class="token punctuation">,</span> <span class="token string">"Orlando"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            ForumUser user9 <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token class-name">ForumUser</span><span class="token punctuation">(</span><span class="token string">"user121212"</span><span class="token punctuation">,</span> <span class="token string">"Marisa Frank"</span><span class="token punctuation">,</span> <span class="token string">"Washington"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            ForumUser user10 <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token class-name">ForumUser</span><span class="token punctuation">(</span><span class="token string">"lawyer"</span><span class="token punctuation">,</span> <span class="token string">"Lexie John"</span><span class="token punctuation">,</span> <span class="token string">"Miami"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token comment" spellcheck="true">//When</span>
            <span class="token comment" spellcheck="true">//Create relations for user1</span>
            user1<span class="token punctuation">.</span><span class="token function">addFriend</span><span class="token punctuation">(</span>user3<span class="token punctuation">)</span><span class="token punctuation">;</span>
            user1<span class="token punctuation">.</span><span class="token function">addFriend</span><span class="token punctuation">(</span>user7<span class="token punctuation">)</span><span class="token punctuation">;</span>
            user1<span class="token punctuation">.</span><span class="token function">addFriend</span><span class="token punctuation">(</span>user10<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment" spellcheck="true">//Create relations for user3</span>
            user3<span class="token punctuation">.</span><span class="token function">addFriend</span><span class="token punctuation">(</span>user1<span class="token punctuation">)</span><span class="token punctuation">;</span>
            user3<span class="token punctuation">.</span><span class="token function">addFriend</span><span class="token punctuation">(</span>user7<span class="token punctuation">)</span><span class="token punctuation">;</span>
            user3<span class="token punctuation">.</span><span class="token function">addFriend</span><span class="token punctuation">(</span>user2<span class="token punctuation">)</span><span class="token punctuation">;</span>
            user3<span class="token punctuation">.</span><span class="token function">addFriend</span><span class="token punctuation">(</span>user9<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment" spellcheck="true">//Create relations for user7</span>
            user7<span class="token punctuation">.</span><span class="token function">addFriend</span><span class="token punctuation">(</span>user1<span class="token punctuation">)</span><span class="token punctuation">;</span>
            user7<span class="token punctuation">.</span><span class="token function">addFriend</span><span class="token punctuation">(</span>user3<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment" spellcheck="true">//Create relations for user10</span>
            user10<span class="token punctuation">.</span><span class="token function">addFriend</span><span class="token punctuation">(</span>user1<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment" spellcheck="true">//Create relations for user2</span>
            user2<span class="token punctuation">.</span><span class="token function">addFriend</span><span class="token punctuation">(</span>user3<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment" spellcheck="true">//Create relations for user9</span>
            user9<span class="token punctuation">.</span><span class="token function">addFriend</span><span class="token punctuation">(</span>user3<span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token comment" spellcheck="true">//Then</span>
            <span class="token comment" spellcheck="true">//user1 has 3 friends with following locations:</span>
            <span class="token comment" spellcheck="true">//   user3:  "Key West"</span>
            <span class="token comment" spellcheck="true">//   user7:  "Washington"</span>
            <span class="token comment" spellcheck="true">//   user10: "Miami"</span>
            Assert<span class="token punctuation">.</span><span class="token function">assertEquals</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> user1<span class="token punctuation">.</span><span class="token function">getLocationsOfFriends</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            Assert<span class="token punctuation">.</span><span class="token function">assertTrue</span><span class="token punctuation">(</span>user1<span class="token punctuation">.</span><span class="token function">getLocationsOfFriends</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span><span class="token string">"Key West"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            Assert<span class="token punctuation">.</span><span class="token function">assertTrue</span><span class="token punctuation">(</span>user1<span class="token punctuation">.</span><span class="token function">getLocationsOfFriends</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span><span class="token string">"Washington"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            Assert<span class="token punctuation">.</span><span class="token function">assertTrue</span><span class="token punctuation">(</span>user1<span class="token punctuation">.</span><span class="token function">getLocationsOfFriends</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span><span class="token string">"Miami"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            Assert<span class="token punctuation">.</span><span class="token function">assertFalse</span><span class="token punctuation">(</span>user1<span class="token punctuation">.</span><span class="token function">getLocationsOfFriends</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span><span class="token string">"Orlando"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code><div class="toolbar"></div></pre>
<p>W teście tworzymy dziesięciu przykładowych użytkowników. Tworzymy również relacje pomiędzy użytkownikami.</p>
<p>Jak widzisz, przygotowanie danych testowych nie jest zbyt eleganckie - jest to długi strumień "sekwencyjnie" ułożonych poleceń. Zgodzisz się, że nie chcielibyśmy zaśmiecać takim kodem katalogu <i>src/main/java</i>? :)</p>
<p>Spójrz na kod testu - sprawdzamy w nim listę lokalizacji znajomych użytkownika <code class=" language-java">user1</code>. Jego znajomymi są <code class=" language-java">user3</code>, <code class=" language-java">user7</code> oraz <code class=" language-java">user10</code>. Ich lokalizacje to odpowiednio: <i>Key West</i>, <i>Washington</i> oraz <i>Miami</i>. Test sprawdza wpierw czy lista lokalizacji zawiera dokładnie trzy elementy, a następnie weryfikuje istnienie w liście wynikowej konkretnych lokalizacji.</p>
<h4>Przykład mapy wymagającej spłaszczenia</h4>
<p>Tworzenie listy lokalizacji znajomych były stosunkowo proste. A co gdybyśmy chcieli uzyskać listę lokalizacji "znajomych znajomych"?</p>
<p>Spójrz na poniższy graf:</p><a class="img-modal-group" href="./Moduł_ 7. Stream, czyli funkcyjna iteracja po kolekcjach_files/java-7_10.png"><img src="./Moduł_ 7. Stream, czyli funkcyjna iteracja po kolekcjach_files/java-7_10.png" style="width: 100%"></a>
<p>Strumień obiektów uruchomiony dla właściwości <code class=" language-java">friends</code> jest strumieniem obiektów typu <code class=" language-java">ForumUser</code>, z których każdy również posiada swoją właściwość <code class=" language-java">friends</code>, zwracającą kolejną listę obiektów typu <code class=" language-java">ForumUser</code>. Aby móc przeiterować po lokalizacjach tych ostatnich użytkowników, musimy nieco "spłaszczyć" strumień. Możemy to zrealizować przy pomocy operacji <code class=" language-java"><span class="token function">flatMap</span><span class="token punctuation">(</span>Function mapper<span class="token punctuation">)</span></code>, gdzie <code class=" language-java">mapper</code> jest wyrażeniem lambda lub referencją do metody dokonującej spłaszczenia, która powinna zwracać zmodyfikowany strumień. Metodę <code class=" language-java"><span class="token function">flatMap</span><span class="token punctuation">(</span>Function mapper<span class="token punctuation">)</span></code> możemy wywoływać wielokrotnie, jeżeli wymaga tego od nas stopień "zagnieżdżenia" właściwego strumienia, po którym chcemy "iterować".</p>
<p>Co oznacza "spłaszczanie" strumieni <code class=" language-java">Stream</code>? Otóż, kiedy np. "iterujemy" strumieniem po kolekcjach, możemy natknąć się na konieczność wykorzystania obiektów, które zwrócą… inne kolekcje :) Mimo wszystko, jak dobrze wiesz, <code class=" language-java">Stream</code> działa na strumieniu pojedynczych obiektów, więc nie możemy tak po prostu przekazać mu całej kolekcji otrzymanej w poprzednim kroku (a w zasadzie możemy ale będzie widziana jako "jeden obiekt" - kolekcję, a nie o to nam chodziło).</p>
<p>Rozwiązaniem problemu jest wykorzystanie metody <code class=" language-java"><span class="token function">flatMap</span><span class="token punctuation">(</span>Function mapper<span class="token punctuation">)</span></code>, która zwraca obiekty z "kolekcji wewnętrznej" i "przenosi je" do głównego strumienia. Metoda <code class=" language-java">flatMap</code> zadba o to, aby znajdujący się po niej krok otrzymał wartości w formie pojedynczych obiektów, a nie w formie "obiektu zbiorczego", czyli całej kolekcji. Dzięki temu wynikowy <code class=" language-java">Stream</code> otrzyma takie dane, jakich się spodziewamy.</p>
<p>Na czym polega różnica między metodami <code class=" language-java"><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> a <code class=" language-java"><span class="token function">flatMap</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code>? Wygląda to następująco - metoda <code class=" language-java"><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> dla każdego elementu kolekcji na której operujemy zwróci inny (nadal pojedynczy) element, już w zmodyfikowanej formie (czyli dokonuje transformacji 1 : 1), natomiast metoda <code class=" language-java"><span class="token function">flatMap</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> <b>dla każdej kolekcji</b> znajdującej się wewnątrz obiektu wejściowego (po których "iteruje"), zwróci każdy z jej elementów z osobna do strumienia będącego kolejnym krokiem - tak, jak zostało to przedstawione na grafice poniżej (czyli dokonuje transformacji 1 : N).</p><a class="img-modal-group" href="./Moduł_ 7. Stream, czyli funkcyjna iteracja po kolekcjach_files/java-7_11.png"><img src="./Moduł_ 7. Stream, czyli funkcyjna iteracja po kolekcjach_files/java-7_11.png" style="width: 100%"></a>
<p>Dopisz do klasy <code class=" language-java">ForumUser</code> w pakiecie <code class=" language-java">com<span class="token punctuation">.</span>kodilla<span class="token punctuation">.</span>stream<span class="token punctuation">.</span>forum</code> w katalogu <i>src/main/java</i> następującą metodę <code class=" language-java"><span class="token function">getLocationsOfFriendsOfFriends</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code>:</p>
<pre class="line-numbers language-java code-toolbar"><code class=" language-java"><span class="token keyword keyword-public">public</span> Set<span class="token operator">&lt;</span>String<span class="token operator">&gt;</span> <span class="token function">getLocationsOfFriendsOfFriends</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-return">return</span> friends<span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">flatMap</span><span class="token punctuation">(</span>user <span class="token operator">-</span><span class="token operator">&gt;</span> user<span class="token punctuation">.</span><span class="token function">getFriends</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span>user <span class="token operator">-</span><span class="token operator">&gt;</span> user <span class="token operator">!=</span> <span class="token keyword keyword-this">this</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>ForumUser<span class="token operator">:</span><span class="token operator">:</span>getLocation<span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">collect</span><span class="token punctuation">(</span>Collectors<span class="token punctuation">.</span><span class="token function">toSet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code><div class="toolbar"></div></pre>
<p>Poniżej krótka analiza działania tej metody:</p>
<ul>
	<li>W linii nr 2 tworzony jest i uruchamiany strumień na kolekcji <code class=" language-java">friends<span class="token punctuation">.</span></code></li>
	<li>W linii nr 3 dokonujemy spłaszczenia strumienia - dla każdego przyjaciela (<code class=" language-java">user</code>) pobieramy jego listę przyjaciół (<code class=" language-java">user<span class="token punctuation">.</span><span class="token function">getFriends</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code>) i ją przekazujemy do dalszego przetwarzania w postaci nowego strumienia <code class=" language-java">Stream</code>. Od tego momentu pracujemy nie na liście przyjaciół, lecz na liście "przyjaciół przyjaciół".</li>
	<li>W linii nr 4 wykluczamy ze zbioru wynikowego odwołania do "samego siebie" - wiadomo, że my też jesteśmy przyjacielem naszych przyjaciół, jednak interesują nas ich lokalizacje, a nie nasza własna.</li>
	<li>W linii nr 5 transformujemy strumień tak, że zamiast obiektów <code class=" language-java">ForumUser</code>, dalej będą już przez niego przepływały jedynie obiekty <code class=" language-java">String</code> będące lokalizacjami użytkowników (pobieramy je przy pomocy metody <code class=" language-java">ForumUser<span class="token operator">:</span><span class="token operator">:</span>getLocation</code>).</li>
	<li>W linii nr 6 dokonujemy złożenia strumienia wynikowego w kolekcję typu <code class=" language-java">Set</code> zawierającą listę lokalizacji "przyjaciół przyjaciół".</li>
</ul>
<p>Jak zapewne pamiętasz z modułu o kolekcjach, kolekcja <code class=" language-java">Set</code> działa w ten sposób, że nie wstawia duplikatów obiektów. Dany obiekt może istnieć w kolekcji <code class=" language-java">Set</code> co najwyżej jeden raz.</p>
<p>Dopisz teraz w zestawie testów <code class=" language-java">ForumUsertestSuite</code> w pakiecie <code class=" language-java">com<span class="token punctuation">.</span>kodilla<span class="token punctuation">.</span>stream<span class="token punctuation">.</span>forum</code> w katalogu <i>src/test/java</i> drugi test jednostkowy o nazwie <code class=" language-java"><span class="token function">testGetLocationsOfFriendsOfFriends</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code>:</p>
<pre class="line-numbers language-java code-toolbar"><code class=" language-java"><span class="token annotation punctuation">@Test</span>
<span class="token keyword keyword-public">public</span> <span class="token keyword keyword-void">void</span> <span class="token function">testGetLocationsOfFriendsOfFriends</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment" spellcheck="true">//Given</span>
        <span class="token comment" spellcheck="true">//Create users</span>
        ForumUser user1 <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token class-name">ForumUser</span><span class="token punctuation">(</span><span class="token string">"alan01"</span><span class="token punctuation">,</span> <span class="token string">"Alan Kosovsky"</span><span class="token punctuation">,</span> <span class="token string">"Washington"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        ForumUser user2 <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token class-name">ForumUser</span><span class="token punctuation">(</span><span class="token string">"ethanreard"</span><span class="token punctuation">,</span> <span class="token string">"Ethan Reard"</span><span class="token punctuation">,</span> <span class="token string">"Miami"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        ForumUser user3 <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token class-name">ForumUser</span><span class="token punctuation">(</span><span class="token string">"eRiK"</span><span class="token punctuation">,</span> <span class="token string">"Erik Hull"</span><span class="token punctuation">,</span> <span class="token string">"Key West"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        ForumUser user4 <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token class-name">ForumUser</span><span class="token punctuation">(</span><span class="token string">"booth"</span><span class="token punctuation">,</span> <span class="token string">"Mya Booth"</span><span class="token punctuation">,</span> <span class="token string">"Washington"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        ForumUser user5 <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token class-name">ForumUser</span><span class="token punctuation">(</span><span class="token string">"nicole1987"</span><span class="token punctuation">,</span> <span class="token string">"Nicole Lee"</span><span class="token punctuation">,</span> <span class="token string">"Orlando"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        ForumUser user6 <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token class-name">ForumUser</span><span class="token punctuation">(</span><span class="token string">"nobody"</span><span class="token punctuation">,</span> <span class="token string">"Briana Williams"</span><span class="token punctuation">,</span> <span class="token string">"Miami"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        ForumUser user7 <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token class-name">ForumUser</span><span class="token punctuation">(</span><span class="token string">"bigmac"</span><span class="token punctuation">,</span> <span class="token string">"Robert Macdonald"</span><span class="token punctuation">,</span> <span class="token string">"Washington"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        ForumUser user8 <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token class-name">ForumUser</span><span class="token punctuation">(</span><span class="token string">"thebigone"</span><span class="token punctuation">,</span> <span class="token string">"Clay Small"</span><span class="token punctuation">,</span> <span class="token string">"Orlando"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        ForumUser user9 <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token class-name">ForumUser</span><span class="token punctuation">(</span><span class="token string">"user121212"</span><span class="token punctuation">,</span> <span class="token string">"Marisa Frank"</span><span class="token punctuation">,</span> <span class="token string">"Washington"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        ForumUser user10 <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token class-name">ForumUser</span><span class="token punctuation">(</span><span class="token string">"lawyer"</span><span class="token punctuation">,</span> <span class="token string">"Lexie John"</span><span class="token punctuation">,</span> <span class="token string">"Miami"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment" spellcheck="true">//When</span>
        <span class="token comment" spellcheck="true">//Create relations for user1</span>
        user1<span class="token punctuation">.</span><span class="token function">addFriend</span><span class="token punctuation">(</span>user3<span class="token punctuation">)</span><span class="token punctuation">;</span>
        user1<span class="token punctuation">.</span><span class="token function">addFriend</span><span class="token punctuation">(</span>user7<span class="token punctuation">)</span><span class="token punctuation">;</span>
        user1<span class="token punctuation">.</span><span class="token function">addFriend</span><span class="token punctuation">(</span>user10<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment" spellcheck="true">//Create relations for user3</span>
        user3<span class="token punctuation">.</span><span class="token function">addFriend</span><span class="token punctuation">(</span>user1<span class="token punctuation">)</span><span class="token punctuation">;</span>
        user3<span class="token punctuation">.</span><span class="token function">addFriend</span><span class="token punctuation">(</span>user7<span class="token punctuation">)</span><span class="token punctuation">;</span>
        user3<span class="token punctuation">.</span><span class="token function">addFriend</span><span class="token punctuation">(</span>user2<span class="token punctuation">)</span><span class="token punctuation">;</span>
        user3<span class="token punctuation">.</span><span class="token function">addFriend</span><span class="token punctuation">(</span>user9<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment" spellcheck="true">//Create relations for user7</span>
        user7<span class="token punctuation">.</span><span class="token function">addFriend</span><span class="token punctuation">(</span>user1<span class="token punctuation">)</span><span class="token punctuation">;</span>
        user7<span class="token punctuation">.</span><span class="token function">addFriend</span><span class="token punctuation">(</span>user3<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment" spellcheck="true">//Create relations for user10</span>
        user10<span class="token punctuation">.</span><span class="token function">addFriend</span><span class="token punctuation">(</span>user1<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment" spellcheck="true">//Create relations for user2</span>
        user2<span class="token punctuation">.</span><span class="token function">addFriend</span><span class="token punctuation">(</span>user3<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment" spellcheck="true">//Create relations for user9</span>
        user9<span class="token punctuation">.</span><span class="token function">addFriend</span><span class="token punctuation">(</span>user3<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment" spellcheck="true">//Then</span>
        <span class="token comment" spellcheck="true">//user1 has 3 friends with following friends and their locations:</span>
        <span class="token comment" spellcheck="true">//   user3:  user1: - should be skipped ("this" in context of user1)</span>
        <span class="token comment" spellcheck="true">//           user7: "Washington"</span>
        <span class="token comment" spellcheck="true">//           user2: "Miami"</span>
        <span class="token comment" spellcheck="true">//           user9: "Washington" - duplicated, should be skipped</span>
        <span class="token comment" spellcheck="true">//   user7:  user1: - should be skipped ("this" in context of user1)</span>
        <span class="token comment" spellcheck="true">//           user3: "Key West"</span>
        <span class="token comment" spellcheck="true">//   user10: user1: - should be skipped ("this" in context of user1)</span>
        Assert<span class="token punctuation">.</span><span class="token function">assertEquals</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> user1<span class="token punctuation">.</span><span class="token function">getLocationsOfFriendsOfFriends</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        Assert<span class="token punctuation">.</span><span class="token function">assertTrue</span><span class="token punctuation">(</span>user1<span class="token punctuation">.</span><span class="token function">getLocationsOfFriendsOfFriends</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span><span class="token string">"Key West"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        Assert<span class="token punctuation">.</span><span class="token function">assertTrue</span><span class="token punctuation">(</span>user1<span class="token punctuation">.</span><span class="token function">getLocationsOfFriendsOfFriends</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span><span class="token string">"Washington"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        Assert<span class="token punctuation">.</span><span class="token function">assertTrue</span><span class="token punctuation">(</span>user1<span class="token punctuation">.</span><span class="token function">getLocationsOfFriendsOfFriends</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span><span class="token string">"Miami"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        Assert<span class="token punctuation">.</span><span class="token function">assertFalse</span><span class="token punctuation">(</span>user1<span class="token punctuation">.</span><span class="token function">getLocationsOfFriendsOfFriends</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span><span class="token string">"Orlando"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code><div class="toolbar"></div></pre>
<p>Powyższy test sprawdza czy lista lokalizacji "przyjaciół przyjaciół" zawiera dokładnie trzy lokalizacje. Sprawdza również czy konkretne - oczekiwane lokalizacje - rzeczywiście występują w kolekcji wynikowej.</p>
<h3 id="74-poznanie-flatmap-i-reduce-typ-bigdecimal">Typ BigDecimal</h3>
<p>Nim przejdziemy do operacji <code class=" language-java"><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> strumieni, poznajmy nowy typ danych - typ <code class=" language-java">BigDecimal</code>. Przyda nam się za chwilę przy dalszym omawianiu <code class=" language-java">Stream</code>.</p>
<h4>Sprecyzowanie problemu - dokładność obliczeń</h4>
<p>Podczas obliczeń z typami zmiennoprzecinkowymi, takimi jak na przykład <code class=" language-java"><span class="token keyword keyword-double">double</span></code>, często spotykamy się z problemem niedokładności obliczeń. Aby zrozumieć sedno problemu, przygotujmy przykład klasy reprezentującej fakturę. Na fakturze będą się znajdowały pozycje, składające się z produktu (posiada określoną nazwę i cenę) oraz zakupionej ilości.</p>
<p>Zacznijmy od produktu - stwórz w katalogu <i>src/main/java</i> pakiet <code class=" language-java">com<span class="token punctuation">.</span>kodilla<span class="token punctuation">.</span>stream<span class="token punctuation">.</span>invoice<span class="token punctuation">.</span>simple</code>, a w nim klasę <code class=" language-java">SimpleProduct</code> (aby ją stworzyć utwórz pustą klasę z polami i wygeneruj konstruktor, gettery i metodę <code class=" language-java"><span class="token function">equals</span><span class="token punctuation">(</span>Object o<span class="token punctuation">)</span></code> sprawdzającą tylko nazwę produktu w celu wykrycia duplikatów):</p>
<pre class="line-numbers language-java code-toolbar"><code class=" language-java"><span class="token keyword keyword-package">package</span> com<span class="token punctuation">.</span>kodilla<span class="token punctuation">.</span>stream<span class="token punctuation">.</span>invoice<span class="token punctuation">.</span>simple<span class="token punctuation">;</span>

<span class="token keyword keyword-public">public</span> <span class="token keyword keyword-final">final</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">SimpleProduct</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-private">private</span> <span class="token keyword keyword-final">final</span> String productName<span class="token punctuation">;</span>
    <span class="token keyword keyword-private">private</span> <span class="token keyword keyword-final">final</span> <span class="token keyword keyword-double">double</span> productPrice<span class="token punctuation">;</span>

    <span class="token keyword keyword-public">public</span> <span class="token function">SimpleProduct</span><span class="token punctuation">(</span><span class="token keyword keyword-final">final</span> String productName<span class="token punctuation">,</span> <span class="token keyword keyword-final">final</span> <span class="token keyword keyword-double">double</span> productPrice<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword keyword-this">this</span><span class="token punctuation">.</span>productName <span class="token operator">=</span> productName<span class="token punctuation">;</span>
            <span class="token keyword keyword-this">this</span><span class="token punctuation">.</span>productPrice <span class="token operator">=</span> productPrice<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword keyword-public">public</span> String <span class="token function">getProductName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword keyword-return">return</span> productName<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-double">double</span> <span class="token function">getProductPrice</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword keyword-return">return</span> productPrice<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-boolean">boolean</span> <span class="token function">equals</span><span class="token punctuation">(</span>Object o<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span><span class="token keyword keyword-this">this</span> <span class="token operator">==</span> o<span class="token punctuation">)</span> <span class="token keyword keyword-return">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
            <span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token punctuation">(</span>o <span class="token keyword keyword-instanceof">instanceof</span> <span class="token class-name">SimpleProduct</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword keyword-return">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
            SimpleProduct that <span class="token operator">=</span> <span class="token punctuation">(</span>SimpleProduct<span class="token punctuation">)</span> o<span class="token punctuation">;</span>
            <span class="token keyword keyword-return">return</span> productName<span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>that<span class="token punctuation">.</span>productName<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code><div class="toolbar"></div></pre>
<p>Następnie w tym samym pakiecie stwórz klasę reprezentującą pozycję faktury o nazwie SimpleItem (stwórz pustą klasę z polami i wygeneruj konstruktor i gettery, metodę getValue() dopisz ręcznie):</p>
<pre class="line-numbers language-java code-toolbar"><code class=" language-java"><span class="token keyword keyword-package">package</span> com<span class="token punctuation">.</span>kodilla<span class="token punctuation">.</span>stream<span class="token punctuation">.</span>invoice<span class="token punctuation">.</span>simple<span class="token punctuation">;</span>

<span class="token keyword keyword-public">public</span> <span class="token keyword keyword-final">final</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">SimpleItem</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-private">private</span> <span class="token keyword keyword-final">final</span> SimpleProduct product<span class="token punctuation">;</span>
    <span class="token keyword keyword-private">private</span> <span class="token keyword keyword-final">final</span> <span class="token keyword keyword-double">double</span> quantity<span class="token punctuation">;</span>

    <span class="token keyword keyword-public">public</span> <span class="token function">SimpleItem</span><span class="token punctuation">(</span><span class="token keyword keyword-final">final</span> SimpleProduct product<span class="token punctuation">,</span> <span class="token keyword keyword-final">final</span> <span class="token keyword keyword-double">double</span> quantity<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword keyword-this">this</span><span class="token punctuation">.</span>product <span class="token operator">=</span> product<span class="token punctuation">;</span>
            <span class="token keyword keyword-this">this</span><span class="token punctuation">.</span>quantity <span class="token operator">=</span> quantity<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword keyword-public">public</span> SimpleProduct <span class="token function">getProduct</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword keyword-return">return</span> product<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-double">double</span> <span class="token function">getQuantity</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword keyword-return">return</span> quantity<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-double">double</span> <span class="token function">getValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword keyword-return">return</span> product<span class="token punctuation">.</span><span class="token function">getProductPrice</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> quantity<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code><div class="toolbar"></div></pre>
<p>Zauważ, że w powyższej klasie pojawiła się metoda <code class=" language-java"><span class="token function">getValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> obliczająca wartość pozycji na fakturze. Znajduje się w niej operacja mnożenia, która za chwilę przysporzy nam nieco problemów, obrazujących ogólny problem z typami zmiennoprzecinkowymi.</p>
<p>Jako ostatnią utwórz klasę (w tym samym pakiecie <code class=" language-java">com<span class="token punctuation">.</span>kodilla<span class="token punctuation">.</span>stream<span class="token punctuation">.</span>invoice<span class="token punctuation">.</span>simple</code>) reprezentującą fakturę o nazwie <code class=" language-java">SimpleInvoice</code>:</p>
<pre class="line-numbers language-java code-toolbar"><code class=" language-java"><span class="token keyword keyword-package">package</span> com<span class="token punctuation">.</span>kodilla<span class="token punctuation">.</span>stream<span class="token punctuation">.</span>invoice<span class="token punctuation">.</span>simple<span class="token punctuation">;</span>

<span class="token keyword keyword-import">import</span> java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>ArrayList<span class="token punctuation">;</span>
<span class="token keyword keyword-import">import</span> java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>List<span class="token punctuation">;</span>
<span class="token keyword keyword-import">import</span> java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>stream<span class="token punctuation">.</span>Collectors<span class="token punctuation">;</span>

<span class="token keyword keyword-public">public</span> <span class="token keyword keyword-final">final</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">SimpleInvoice</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-private">private</span> <span class="token keyword keyword-final">final</span> List<span class="token operator">&lt;</span>SimpleItem<span class="token operator">&gt;</span> items <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token class-name">ArrayList</span><span class="token operator">&lt;</span><span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-void">void</span> <span class="token function">addItem</span><span class="token punctuation">(</span>SimpleItem item<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            items<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-boolean">boolean</span> <span class="token function">removeItem</span><span class="token punctuation">(</span>SimpleItem item<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword keyword-return">return</span> items<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-double">double</span> <span class="token function">getValueToPay</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword keyword-return">return</span> items<span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                    <span class="token punctuation">.</span><span class="token function">collect</span><span class="token punctuation">(</span>Collectors<span class="token punctuation">.</span><span class="token function">summingDouble</span><span class="token punctuation">(</span>SimpleItem<span class="token operator">:</span><span class="token operator">:</span>getValue<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code><div class="toolbar"></div></pre>
<p>Zwróć uwagę na metodę <code class=" language-java"><span class="token function">getValueToPay</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> - użyliśmy w niej nowego rodzaju kolektora: <code class=" language-java">Collectors<span class="token punctuation">.</span><span class="token function">summingDouble</span><span class="token punctuation">(</span>ToDoubleFunction mapper<span class="token punctuation">)</span></code>, gdzie <code class=" language-java">mapper</code> jest funkcją zwracającą wartości typu <code class=" language-java"><span class="token keyword keyword-double">double</span></code> do zsumowania, a sam kolektor oblicza sumę obiektów w strumieniu i zwraca wartość typu <code class=" language-java"><span class="token keyword keyword-double">double</span></code>.</p>
<p>Napiszemy teraz test sprawdzający poprawność działania naszej klasy reprezentującej fakturę. W tym celu utwórz w katalogu <i>src/test/java</i> pakiet <code class=" language-java">com<span class="token punctuation">.</span>kodilla<span class="token punctuation">.</span>stream<span class="token punctuation">.</span>invoice<span class="token punctuation">.</span>simple</code>, a w nim zestaw testów o nazwie <code class=" language-java">SimpleInvoiceTestSuite</code>. Utwórz również test <code class=" language-java"><span class="token function">testGetValueToPay</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code>:</p>
<pre class="line-numbers language-java code-toolbar"><code class=" language-java"><span class="token keyword keyword-package">package</span> com<span class="token punctuation">.</span>kodilla<span class="token punctuation">.</span>stream<span class="token punctuation">.</span>invoice<span class="token punctuation">.</span>simple<span class="token punctuation">;</span>

<span class="token keyword keyword-import">import</span> org<span class="token punctuation">.</span>junit<span class="token punctuation">.</span>Assert<span class="token punctuation">;</span>
<span class="token keyword keyword-import">import</span> org<span class="token punctuation">.</span>junit<span class="token punctuation">.</span>Test<span class="token punctuation">;</span>

<span class="token keyword keyword-public">public</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">SimpleInvoiceTestSuite</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-void">void</span> <span class="token function">testGetValueToPay</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
           <span class="token comment" spellcheck="true">//Given</span>
            SimpleInvoice invoice <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token class-name">SimpleInvoice</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
           <span class="token comment" spellcheck="true">//When</span>
            invoice<span class="token punctuation">.</span><span class="token function">addItem</span><span class="token punctuation">(</span><span class="token keyword keyword-new">new</span> <span class="token class-name">SimpleItem</span><span class="token punctuation">(</span><span class="token keyword keyword-new">new</span> <span class="token class-name">SimpleProduct</span><span class="token punctuation">(</span><span class="token string">"Product 1"</span><span class="token punctuation">,</span> <span class="token number">17.28</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">2.0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            invoice<span class="token punctuation">.</span><span class="token function">addItem</span><span class="token punctuation">(</span><span class="token keyword keyword-new">new</span> <span class="token class-name">SimpleItem</span><span class="token punctuation">(</span><span class="token keyword keyword-new">new</span> <span class="token class-name">SimpleProduct</span><span class="token punctuation">(</span><span class="token string">"Product 2"</span><span class="token punctuation">,</span> <span class="token number">11.99</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">3.5</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            invoice<span class="token punctuation">.</span><span class="token function">addItem</span><span class="token punctuation">(</span><span class="token keyword keyword-new">new</span> <span class="token class-name">SimpleItem</span><span class="token punctuation">(</span><span class="token keyword keyword-new">new</span> <span class="token class-name">SimpleProduct</span><span class="token punctuation">(</span><span class="token string">"Product 3"</span><span class="token punctuation">,</span>  <span class="token number">6.49</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">5.0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
           <span class="token comment" spellcheck="true">//Then</span>
        Assert<span class="token punctuation">.</span><span class="token function">assertEquals</span><span class="token punctuation">(</span><span class="token number">108.975</span><span class="token punctuation">,</span> invoice<span class="token punctuation">.</span><span class="token function">getValueToPay</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code><div class="toolbar"></div></pre>
<p>Faktura przedstawiona w teście wygląda następująco:</p>
<table class="table table-bordered">
    <thead>
      <tr>
        <th>Produkt</th>
        <th>Cena</th>
        <th>Ilość</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td>Produkt 1</td>
        <td>17,28</td>
        <td>2.0</td>
      </tr>
      <tr>
        <td>Produkt 2</td>
        <td>11,99</td>
        <td>3.5</td>
      </tr>
      <tr>
        <td>Produkt 3</td>
        <td>6,49</td>
        <td>5.0</td>
      </tr>
    </tbody>
  </table>

<p>Wartość do zapłaty powinna wynosić 17,28 * 2,0 + 11,99 * 3,5 + 6,49 * 5,0, czyli łącznie 108,975. Oczywiście pojawia się pytanie jak zaokrąglić tę wartość do pełnych groszy - będzie to zależało od tego czy jest to sprzedaż detaliczna, czy też np. operacja bankowa lub np. sprzedaż hurtowa paliw płynnych, jednak nie skupiajmy się teraz nad tym. Wystarczy, że wiemy iż oczekiwana wartość faktury to 108,975.</p>
<p>Wyjaśnienia może wymagać jeszcze nieco inne - trzyparametrowe wywołanie metody <code class=" language-java"><span class="token function">assertEquals</span><span class="token punctuation">(</span><span class="token keyword keyword-double">double</span> expected<span class="token punctuation">,</span> <span class="token keyword keyword-double">double</span> actual<span class="token punctuation">,</span> <span class="token keyword keyword-double">double</span> delta<span class="token punctuation">)</span></code>. Dla asercji operujących na liczbach zmiennoprzecinkowych podaje się również trzeci parametr <code class=" language-java">delta</code> określający dopuszczalny błąd, czyli maksymalną różnicę pomiędzy oczekiwanym wynikiem (parametr <code class=" language-java">expected</code>) a wartością aktualną (parametr <code class=" language-java">actual</code>).</p>
<p>Po uruchomieniu testu otrzymujemy następujący rezultat:</p><a class="img-modal-group" href="./Moduł_ 7. Stream, czyli funkcyjna iteracja po kolekcjach_files/java-7_12.png"><img src="./Moduł_ 7. Stream, czyli funkcyjna iteracja po kolekcjach_files/java-7_12.png" style="width: 100%"></a>
<p>Wartością oczekiwaną było: 108,975.</p>
<p>Wartość aktualna wynosi: 108,97500000000001</p>
<p>Z tego typu problemami zawsze będziemy mieli do czynienia podczas pracy z typami zmiennoprzecinkowymi, na których wykonywane są operacje mnożenia i dzielenia. Wyjaśnia to również po co dodano argument <code class=" language-java">delta</code> do metody <code class=" language-java"><span class="token function">assertEquals</span><span class="token punctuation">(</span><span class="token keyword keyword-double">double</span> expected<span class="token punctuation">,</span> <span class="token keyword keyword-double">double</span> actual<span class="token punctuation">,</span> <span class="token keyword keyword-double">double</span> delta<span class="token punctuation">)</span></code> dla liczb zmiennoprzecinkowych.</p>
<p>Aby nasz kod nadal się kompilował (i testy wykonywały się poprawnie) zmień argument <code class=" language-java">delta</code> asercji na wartość 0,001:</p>
<pre class="line-numbers language-java code-toolbar"><code class=" language-java">Assert<span class="token punctuation">.</span><span class="token function">assertEquals</span><span class="token punctuation">(</span><span class="token number">108.975</span><span class="token punctuation">,</span> invoice<span class="token punctuation">.</span><span class="token function">getValueToPay</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">0.001</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code><div class="toolbar"></div></pre>
<h4>Sprecyzowanie problemu - wielkie liczby</h4>
<p>Osobną kategorię problemów sprawia praca z bardzo dużymi liczbami. Aby to zobrazować, stwórz w katalogu <i>src/main/java</i> pakiet <b>com.kodilla.stream.sand</b>, a w nim interfejs <code class=" language-java">SandStorage</code>:</p>
<pre class="line-numbers language-java code-toolbar"><code class=" language-java"><span class="token keyword keyword-package">package</span> com<span class="token punctuation">.</span>kodilla<span class="token punctuation">.</span>stream<span class="token punctuation">.</span>sand<span class="token punctuation">;</span>

<span class="token keyword keyword-public">public</span> <span class="token keyword keyword-interface">interface</span> <span class="token class-name">SandStorage</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-long">long</span> <span class="token function">getSandBeansQuantity</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code><div class="toolbar"></div></pre>

<p>Interfejs ten zawiera jedną metodę <code class=" language-java"><span class="token function">getSandBeansQuantity</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> zwracającą informację o ilości ziaren piasku.</p>

<p>Stwórz teraz w tym samym pakiecie klasę reprezentującą kontynent europejski o nazwie <code class=" language-java">Europe</code>, implementującą interfejs <code class=" language-java">SandStorage</code>:</p>

<pre class="line-numbers language-java code-toolbar"><code class=" language-java"><span class="token keyword keyword-package">package</span> com<span class="token punctuation">.</span>kodilla<span class="token punctuation">.</span>stream<span class="token punctuation">.</span>sand<span class="token punctuation">;</span>

<span class="token keyword keyword-public">public</span> <span class="token keyword keyword-final">final</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">Europe</span> <span class="token keyword keyword-implements">implements</span> <span class="token class-name">SandStorage</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-long">long</span> <span class="token function">getSandBeansQuantity</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword keyword-return">return</span> 12345678901234567890L<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code><div class="toolbar"></div></pre>

<p>Klasa ta implementuje metodę <code class=" language-java"><span class="token function">getSandBeansQuantity</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code>, która ma zwrócić informację o ilości ziaren piasku w Europie. W linii nr 6 próbujemy zwrócić tę informację. Nie, nie sprawdzaj w Wikipedii - liczba jest zmyślona :)</p>

<div class="bc-note alert-info">
    <h4 class="alert-heading text-center">Zapisywanie stałych liczbowych typu <code class=" language-java"><span class="token keyword keyword-long">long</span></code></h4>
    <p>Aby odróżnić stałe liczbowe typu <code class=" language-java"><span class="token keyword keyword-long">long</span></code> od stałych typu <code class=" language-java"><span class="token keyword keyword-int">int</span></code> stosujemy w ich zapisie literę "<code class=" language-java">L</code>" na końcu liczby. Na przykład:</p>
    <ul>
    	<li>1016 - oznacza stałą typu <code class=" language-java"><span class="token keyword keyword-int">int</span></code> o wartości 1016</li>
    	<li>1016L - oznacza stałą typu <code class=" language-java"><span class="token keyword keyword-long">long</span></code> o wartości 1016</li>
    </ul>
</div>

<p>Gdy spróbujesz napisać u siebie ten kod, kompilator zgłosi błąd (a wcześniej już nawet samo środowisko <b>IntelliJ</b>):</p><a class="img-modal-group" href="./Moduł_ 7. Stream, czyli funkcyjna iteracja po kolekcjach_files/java-7_13.png"><img src="./Moduł_ 7. Stream, czyli funkcyjna iteracja po kolekcjach_files/java-7_13.png" style="width: 100%"></a>
<p>Niestety - "największy" typ liczbowy jaki poznaliśmy dotychczas, czyli <code class=" language-java"><span class="token keyword keyword-long">long</span></code> nie wystarcza do zapisania tak dużej liczby.</p>
<h4>Rozwiązanie - typ <code class=" language-java">BigDecimal</code></h4>
<p>Twórcy Javy oczywiście dostrzegli ten problem i w bibliotece <code class=" language-java">java<span class="token punctuation">.</span>math</code> udostępnili typy danych pozwalające na operowanie na dużych liczbach oraz z wymaganą precyzją: typ <code class=" language-java">BigInteger</code> dla liczb całkowitych oraz <code class=" language-java">BigDecimal</code> dla liczb zmiennoprzecinkowych.</p>
<p>Przybliżymy teraz typ <code class=" language-java">BigDecimal</code> (<code class=" language-java">BigInteger</code> działa analogicznie, tyle że bez metod specyficznych dla liczb ułamkowych). Zmodyfikuj interfejs <code class=" language-java">SandStorage</code> w pakiecie <code class=" language-java">com<span class="token punctuation">.</span>kodilla<span class="token punctuation">.</span>stream<span class="token punctuation">.</span>sand</code> w katalogu <i>src/main/java</i> tak, aby jego metoda zwracała wartości typu <code class=" language-java">BigDecimal<span class="token operator">:</span></code></p>
<pre class="line-numbers language-java code-toolbar"><code class=" language-java"><span class="token keyword keyword-package">package</span> com<span class="token punctuation">.</span>kodilla<span class="token punctuation">.</span>stream<span class="token punctuation">.</span>sand<span class="token punctuation">;</span>

<span class="token keyword keyword-import">import</span> java<span class="token punctuation">.</span>math<span class="token punctuation">.</span>BigDecimal<span class="token punctuation">;</span>

<span class="token keyword keyword-public">public</span> <span class="token keyword keyword-interface">interface</span> <span class="token class-name">SandStorage</span> <span class="token punctuation">{</span>
    BigDecimal <span class="token function">getSandBeansQuantity</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code><div class="toolbar"></div></pre>
<p>Klasę <code class=" language-java">Europe</code> w tym samym pakiecie zmodyfikuj następująco:</p>
<pre class="line-numbers language-java code-toolbar"><code class=" language-java"><span class="token keyword keyword-package">package</span> com<span class="token punctuation">.</span>kodilla<span class="token punctuation">.</span>stream<span class="token punctuation">.</span>sand<span class="token punctuation">;</span>

<span class="token keyword keyword-import">import</span> java<span class="token punctuation">.</span>math<span class="token punctuation">.</span>BigDecimal<span class="token punctuation">;</span>

<span class="token keyword keyword-public">public</span> <span class="token keyword keyword-final">final</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">Europe</span> <span class="token keyword keyword-implements">implements</span> <span class="token class-name">SandStorage</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword keyword-public">public</span> BigDecimal <span class="token function">getSandBeansQuantity</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            BigDecimal sandQuantity <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token class-name">BigDecimal</span><span class="token punctuation">(</span><span class="token string">"12345678901234567890"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword keyword-return">return</span> sandQuantity<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code><div class="toolbar"></div></pre>

<div class="bc-note alert-info">
    <h4 class="alert-heading text-center">Wyjaśnienie</h4>
    <p>Liczbę, której używamy w konstruktorze typu <code class=" language-java">BigDecimal</code> podajemy w postaci tekstu. Jest to zwykły napis otoczony cudzysłowami ("), wobec czego nie umieszczamy na końcu liczby litery "<code class=" language-java">L</code>", która zarezerwowana jest dla stałych liczbowych typu <code class=" language-java"><span class="token keyword keyword-long">long</span></code>.</p>
</div>

<p>Inicjalizacja zmiennej typu <code class=" language-java">BigDecimal</code> poprzez tekst reprezentujący dużą liczbę to tylko jeden z możliwych sposobów. Zmienne typu <code class=" language-java">BigDecimal</code> możemy również tworzyć poprzez użycie w konstruktorze następujących obiektów:</p>
<ul>
	<li>zmiennej typu <code class=" language-java">BigInteger</code>,</li>
	<li>zmiennych typu <code class=" language-java"><span class="token keyword keyword-double">double</span></code> lub <code class=" language-java"><span class="token keyword keyword-int">int</span></code> (gdy liczby początkowe wstrzykiwane przez konstruktor są wystarczająco małe).</li>
</ul>
<p>Klasa <code class=" language-java">BigDecimal</code> udostępnia kilka przydatnych metod:</p>
<ul>
	<li><code class=" language-java"><span class="token function">add</span><span class="token punctuation">(</span>BigDecimal</code> <code class=" language-java">augend<span class="token punctuation">)</span></code> - zwraca obiekt <code class=" language-java">BigDecimal</code> zawierający sumę liczby zapisanej w obiekcie, którego metodę wywołujemy oraz innej liczby typu <code class=" language-java">BigDecimal</code> podanej jako argument <code class=" language-java">augend</code></li>
	<li><code class=" language-java"><span class="token function">divide</span><span class="token punctuation">(</span>BigDecimal dividor<span class="token punctuation">)</span></code> - zwraca obiekt <code class=" language-java">BigDecimal</code>, zawierający wynik dzielenia liczby zapisane w obiekcie, którego metodę wywołujemy przez liczbą typu <code class=" language-java">BigDecimal</code> podaną jako argument <code class=" language-java">dividor</code></li>
	<li><code class=" language-java"><span class="token function">multiply</span><span class="token punctuation">(</span>BigDecimal multiplicand<span class="token punctuation">)</span></code> - zwraca obiekt typu <code class=" language-java">BigDecimal</code> zawierający liczbę stanowiącą wynik mnożenia liczby zapisanej w obiekcie, którego metodę wywołujemy przez liczbę typu <code class=" language-java">BigDecimal</code> podaną jako argument <code class=" language-java">multiplicand</code></li>
	<li><code class=" language-java"><span class="token function">pow</span><span class="token punctuation">(</span><span class="token keyword keyword-int">int</span> n<span class="token punctuation">)</span></code> - zwraca obiekt typu <code class=" language-java">BigDecimal</code> zawierający liczbę będącą wynikiem podniesienia liczby zapisanej w obiekcie, którego metodę wywołujemy, do potęgi <code class=" language-java">n</code></li>
	<li><code class=" language-java"><span class="token function">subtract</span><span class="token punctuation">(</span>BigDecimal subtrahend<span class="token punctuation">)</span></code> - zwraca obiekt <code class=" language-java">BigDecimal</code> zawierający liczbę będącą wynikiem odejmowania liczby <code class=" language-java">BigDecimal</code> podanej jako argument <code class=" language-java">subtrahend</code> od liczby zapisanej w obiekcie, którego metodę wywołujemy</li>
	<li><code class=" language-java"><span class="token function">setScale</span><span class="token punctuation">(</span><span class="token keyword keyword-int">int</span> newScale<span class="token punctuation">,</span> <span class="token keyword keyword-int">int</span> roundingMode<span class="token punctuation">)</span></code> - ustawia precyzję liczby do <code class=" language-java">newScale</code> miejsc po przecinku, ustawia sposób zaokrąglania na <code class=" language-java">roundingMode</code></li>
	<li><code class=" language-java"><span class="token function">scale</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> - zwraca informację o tym jaka jest ustawiona precyzja dla liczby (ilość miejsc po przecinku)</li>
</ul>
<p>Najpopularniejsze wartości dla <code class=" language-java">roundingMode</code>, to:</p>
<ul>
	<li><code class=" language-java">BigDecimal<span class="token punctuation">.</span>ROUND_CEILING</code> - tak zwany "sufit", czyli liczba zaokrąglana jest zawsze "w górę" do takiej ilości miejsc po przecinku jaka wynika z ustawienia <code class=" language-java"><span class="token function">scale</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code>.</li>
	<li><code class=" language-java">BigDecimal<span class="token punctuation">.</span>ROUND_FLOOR</code> - tak zwana "podłoga", czyli liczba zaokrąglana jest zawsze "w dół" do ilości miejsc po przecinku wynikającej z ustawienia <code class=" language-java"><span class="token function">scale</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code>.</li>
	<li><code class=" language-java">BigDecimal<span class="token punctuation">.</span>ROUND_HALF_DOWN</code> - zaokrągla do najbliższego "sąsiada" zgodnego z ustawieniem <code class=" language-java"><span class="token function">scale</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code>, a w przypadku dwóch tak samo odległych sąsiadów zaokrągla w stronę zera.</li>
	<li><code class=" language-java">BigDecimal<span class="token punctuation">.</span>ROUND_HALF_EVEN</code> - zaokrągla do najbliższego "sąsiada" wynikającego z ustawienia <code class=" language-java"><span class="token function">scale</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code>, a w przypadku dwóch tak samo odległych sąsiadów zaokrągla do najbliższego parzystego - metoda ta często jest używana w bankowości, ponieważ statystycznie co druga "piątka na końcu" zaokrąglana jest w górę, a co druga w dół.</li>
	<li><code class=" language-java">BigDecimal<span class="token punctuation">.</span>ROUND_HALF_UP</code> - zaokrągla do najbliższego "sąsiada" wynikającego z ustawienia <code class=" language-java"><span class="token function">scale</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code>, a w przypadku dwóch tak samo odległych sąsiadów zaokrągla w stronę "od zera".</li>
</ul>
<p>Typ <code class=" language-java">BigDecimal</code> udostępnia również stałe reprezentujące konkretne wartości - z niektórych z nich będziemy korzystali w metodach <code class=" language-java">Stream</code>:</p>
<ul>
	<li><code class=" language-java">BigDecimal<span class="token punctuation">.</span>ZERO</code> - reprezentuje wartość zero typu <code class=" language-java">BigDecimal</code></li>
	<li><code class=" language-java">BigDecimal<span class="token punctuation">.</span>ONE</code> - reprezentuje wartość jeden typu <code class=" language-java">BigDecimal</code></li>
</ul>
<p>Aby przetestować typ <code class=" language-java">BigDecimal</code> w działaniu dopiszemy jeszcze dwa "kontynenty" w pakiecie <code class=" language-java">com<span class="token punctuation">.</span>kodilla<span class="token punctuation">.</span>stream<span class="token punctuation">.</span>sand</code> w katalogu <i>src/main/java</i>: <code class=" language-java">Africa</code> oraz <code class=" language-java">Asia</code>. W tym celu utwórz dwie nowe klasy:</p>
<pre class="line-numbers language-java code-toolbar"><code class=" language-java"><span class="token keyword keyword-package">package</span> com<span class="token punctuation">.</span>kodilla<span class="token punctuation">.</span>stream<span class="token punctuation">.</span>sand<span class="token punctuation">;</span>

<span class="token keyword keyword-import">import</span> java<span class="token punctuation">.</span>math<span class="token punctuation">.</span>BigDecimal<span class="token punctuation">;</span>

<span class="token keyword keyword-public">public</span> <span class="token keyword keyword-final">final</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">Africa</span> <span class="token keyword keyword-implements">implements</span> <span class="token class-name">SandStorage</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword keyword-public">public</span> BigDecimal <span class="token function">getSandBeansQuantity</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            BigDecimal sandQuantity <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token class-name">BigDecimal</span><span class="token punctuation">(</span><span class="token string">"99999999901234567890"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword keyword-return">return</span> sandQuantity<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code><div class="toolbar"></div></pre>
<pre class="line-numbers language-java code-toolbar"><code class=" language-java"><span class="token keyword keyword-package">package</span> com<span class="token punctuation">.</span>kodilla<span class="token punctuation">.</span>stream<span class="token punctuation">.</span>sand<span class="token punctuation">;</span>

<span class="token keyword keyword-import">import</span> java<span class="token punctuation">.</span>math<span class="token punctuation">.</span>BigDecimal<span class="token punctuation">;</span>

<span class="token keyword keyword-public">public</span> <span class="token keyword keyword-final">final</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">Asia</span> <span class="token keyword keyword-implements">implements</span> <span class="token class-name">SandStorage</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword keyword-public">public</span> BigDecimal <span class="token function">getSandBeansQuantity</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            BigDecimal sandQuantity <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token class-name">BigDecimal</span><span class="token punctuation">(</span><span class="token string">"98765432101234567890"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword keyword-return">return</span> sandQuantity<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code><div class="toolbar"></div></pre>
<p>Stworzymy teraz test sprawdzający działanie interfejsu <code class=" language-java">SandStorage</code> oraz klas reprezentujących kontynenty. W katalogu <i>src/test/java</i> utwórz pakiet <code class=" language-java">com<span class="token punctuation">.</span>kodilla<span class="token punctuation">.</span>stream<span class="token punctuation">.</span>sand</code>, a w nim zestaw testów <code class=" language-java">SandStorageTestSuite</code>, zawierający test <code class=" language-java"><span class="token function">testGetSandBeansQuantity</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code>:</p>
<pre class="line-numbers language-java code-toolbar"><code class=" language-java"><span class="token keyword keyword-package">package</span> com<span class="token punctuation">.</span>kodilla<span class="token punctuation">.</span>stream<span class="token punctuation">.</span>sand<span class="token punctuation">;</span>

<span class="token keyword keyword-import">import</span> org<span class="token punctuation">.</span>junit<span class="token punctuation">.</span>Assert<span class="token punctuation">;</span>
<span class="token keyword keyword-import">import</span> org<span class="token punctuation">.</span>junit<span class="token punctuation">.</span>Test<span class="token punctuation">;</span>
<span class="token keyword keyword-import">import</span> java<span class="token punctuation">.</span>math<span class="token punctuation">.</span>BigDecimal<span class="token punctuation">;</span>
<span class="token keyword keyword-import">import</span> java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>ArrayList<span class="token punctuation">;</span>
<span class="token keyword keyword-import">import</span> java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>List<span class="token punctuation">;</span>

<span class="token keyword keyword-public">public</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">SandStorageTestSuite</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-void">void</span> <span class="token function">testGetSandBeansQuantity</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment" spellcheck="true">//Given</span>
            List<span class="token operator">&lt;</span>SandStorage<span class="token operator">&gt;</span> continents <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token class-name">ArrayList</span><span class="token operator">&lt;</span><span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            continents<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword keyword-new">new</span> <span class="token class-name">Europe</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            continents<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword keyword-new">new</span> <span class="token class-name">Asia</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            continents<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword keyword-new">new</span> <span class="token class-name">Africa</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token comment" spellcheck="true">//When</span>
            BigDecimal totalSand <span class="token operator">=</span> BigDecimal<span class="token punctuation">.</span>ZERO<span class="token punctuation">;</span>
            <span class="token keyword keyword-for">for</span><span class="token punctuation">(</span>SandStorage continent <span class="token operator">:</span> continents<span class="token punctuation">)</span><span class="token punctuation">{</span>
            totalSand <span class="token operator">=</span> totalSand<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>continent<span class="token punctuation">.</span><span class="token function">getSandBeansQuantity</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>

            <span class="token comment" spellcheck="true">//Then</span>
            BigDecimal expectedSand <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token class-name">BigDecimal</span><span class="token punctuation">(</span><span class="token string">"211111110903703703670"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            Assert<span class="token punctuation">.</span><span class="token function">assertEquals</span><span class="token punctuation">(</span>expectedSand<span class="token punctuation">,</span> totalSand<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code><div class="toolbar"></div></pre>
<p>Test tworzy kolekcję kontynentów (tu: obiektów klas implementujących interfejs <code class=" language-java">SandStorage</code>). Następnie tworzona jest zmienna <code class=" language-java">totalSand</code> typu <code class=" language-java">BigDecimal</code>. Zmienna ta inicjowana jest wartością <code class=" language-java">BigDecimal<span class="token punctuation">.</span>ZERO</code>. Moglibyśmy również napisać:</p>
<pre class="line-numbers language-java code-toolbar"><code class=" language-java">BigDecimal totalSand <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token class-name">BigDecimal</span><span class="token punctuation">(</span><span class="token string">"0"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code><div class="toolbar"></div></pre>
<p>Użycie stałej statycznej <code class=" language-java">BigDecimal<span class="token punctuation">.</span>ZERO</code> zwraca obiekt typu <code class=" language-java">BigDecimal</code> zainicjowany wartością zero. Każde kolejne przypisanie do zmiennej <code class=" language-java">totalSand</code> i tak tworzy nowy obiekt, możemy więc pozostawić taki właśnie zapis (jest to działanie prawie identyczne jak typu <code class=" language-java">String</code>, który również jest niemutowalny).</p>
<p>W kolejnym kroku przy użyciu pętli <code class=" language-java"><span class="token keyword keyword-for">for</span><span class="token operator">-</span>each</code> obliczana jest suma ilości ziaren piasku na wszystkich kontynentach w kolekcji.</p>
<p>Na końcu wartość obliczonej sumy porównywana jest z wartością oczekiwaną, obliczoną wcześniej "ręcznie" przez autora kodu.</p>
<h3 id="74-poznanie-flatmap-i-reduce-operacja-terminalna-reduce">Operacja terminalna reduce()</h3>
<p>Mówiąc o kolektorach <code class=" language-java">Stream</code> wspominaliśmy już kilkukrotnie, że nie zawsze muszą one tworzyć wynikowy zbiór danych (np. kolekcję). Często będziemy mieli potrzebę, aby dokonać pewnych obliczeń na całej kolekcji i zwrócić pojedynczy wynik tych obliczeń (np. sumę elementów, wartość średnią itd.). Możemy do tego wykorzystać tak zwane kolektory skalarne (zwracające pojedynczą wartość). Przykładem takiego kolektora jest operacja <code class=" language-java"><span class="token function">reduce</span><span class="token punctuation">(</span> identity<span class="token punctuation">,</span> BinaryOperator accumulator<span class="token punctuation">)</span></code>.</p>
<p>Operacja ta otrzymuje dwa parametry:</p>
<ul>
	<li>wartość początkową (<code class=" language-java">identity</code>)</li>
	<li>dwuargumentową funkcję <code class=" language-java">accumulator</code> obliczającą wartość końcową, której pierwszy argument stanowi dotychczas obliczona wartość pośrednia, a drugi bieżąca wartość obiektu ze strumienia</li>
</ul>
<p>Wszystko powinno się wyjaśnić po spojrzeniu na przykład. Stwórz drugi test o nazwie <code class=" language-java"><span class="token function">testGetSandBeansQuantityWithReduce</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> wewnątrz zbioru testów <code class=" language-java">SandStorageTestSuite</code> w pakiecie <code class=" language-java">com<span class="token punctuation">.</span>kodilla<span class="token punctuation">.</span>stream<span class="token punctuation">.</span>sand</code> w katalogu <i>src/test/java</i>:</p>
<pre class="line-numbers language-java code-toolbar"><code class=" language-java"><span class="token annotation punctuation">@Test</span>
<span class="token keyword keyword-public">public</span> <span class="token keyword keyword-void">void</span> <span class="token function">testGetSandBeansQuantityWithReduce</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment" spellcheck="true">//Given</span>
    List<span class="token operator">&lt;</span>SandStorage<span class="token operator">&gt;</span> continents <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token class-name">ArrayList</span><span class="token operator">&lt;</span><span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    continents<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword keyword-new">new</span> <span class="token class-name">Europe</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    continents<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword keyword-new">new</span> <span class="token class-name">Asia</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    continents<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword keyword-new">new</span> <span class="token class-name">Africa</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment" spellcheck="true">//When</span>
    BigDecimal totalSand <span class="token operator">=</span> continents<span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>SandStorage<span class="token operator">:</span><span class="token operator">:</span>getSandBeansQuantity<span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span>BigDecimal<span class="token punctuation">.</span>ZERO<span class="token punctuation">,</span> <span class="token punctuation">(</span>sum<span class="token punctuation">,</span> current<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> sum <span class="token operator">=</span> sum<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>current<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment" spellcheck="true">//Then</span>
    BigDecimal expectedSand <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token class-name">BigDecimal</span><span class="token punctuation">(</span><span class="token string">"211111110903703703670"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    Assert<span class="token punctuation">.</span><span class="token function">assertEquals</span><span class="token punctuation">(</span>expectedSand<span class="token punctuation">,</span> totalSand<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code><div class="toolbar"></div></pre>
<p>Zmieniliśmy w nim sposób obliczania sumy ilości ziaren piasku (linie od 10 do 12). Przeanalizujmy go:</p>
<ul>
	<li>W linii nr 10 uruchamiamy strumień na kolekcji <code class=" language-java">continents</code>, wynik jego działania przypiszemy do zmiennej <code class=" language-java">totalSand</code> typu <code class=" language-java">BigDecimal</code></li>
	<li>Linia nr 11 zmienia obiekty w strumieniu z klas reprezentujących kontynenty na liczby typu <code class=" language-java">BigDecimal</code> odpowiadające ilościom ziaren piasku na poszczególnych kontynentach</li>
	<li>W linii nr 12 wywołujemy kolektor skalarny <code class=" language-java"><span class="token function">reduce</span><span class="token punctuation">(</span> identity<span class="token punctuation">,</span> BinaryOperator accumulator<span class="token punctuation">)</span></code>, który jako wartość początkową otrzymuje <code class=" language-java">BigDecimal<span class="token punctuation">.</span>ZERO</code>, a następnie dla każdej liczby w kolekcji wykonuje wyrażenie lambda <code class=" language-java"><span class="token punctuation">(</span>sum<span class="token punctuation">,</span> current<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> sum <span class="token operator">=</span> sum<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>current<span class="token punctuation">)</span></code>, gdzie <code class=" language-java">sum</code> jest wynikiem pośrednim uzyskanym dla poprzedniego obiektu w kolekcji (na początku przy pierwszym elemencie jest to <code class=" language-java">BigDecimal<span class="token punctuation">.</span>ZERO</code>, czyli wartość początkowa <code class=" language-java">identity</code>). Wyrażenie lambda przypisuje do zmiennej <code class=" language-java">sum</code> nową wartość będącą sumą dotychczasowych obliczeń i wartości <code class=" language-java">current</code>, reprezentującej bieżący obiekt w strumieniu. Po dokonaniu obliczenia - wartość ta będzie przekazana do "następnego przebiegu" kolektora jako nowa wartość pośrednia. Na końcu - po zakończeniu działania kolektora - obliczona suma jest zwracana do zmiennej <code class=" language-java">totalSand</code>.</li>
</ul>
<p>Operacja <code class=" language-java"><span class="token function">reduce</span><span class="token punctuation">(</span> identity<span class="token punctuation">,</span> BinaryOperator accumulator<span class="token punctuation">)</span></code> jest bardzo elastyczna. Argument <code class=" language-java">accumulator</code> może być wyrażeniem lambda lub referencją do dwuargumentowej metody dowolnej klasy.</p>
                        </div>
                    </div>
                                        <div class="card-block task-card">
                        <h3 id="74-poznanie-flatmap-i-reduce-zadanie-obliczamy-ilosc-ludzi-na-swiecie">Zadanie: <span class="task-title">obliczamy ilość ludzi na świecie</span></h3>
                        <div class="task-content">
                            <p>Zadanie ma na celu przećwiczenie operacji <code class=" language-java"><span class="token function">flatMap</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> oraz <code class=" language-java"><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> wraz z użyciem typu <code class=" language-java">BigDecimal</code>.</p>
<p>Aby zrealizować to zadanie, będzie nam potrzebne zbudowanie struktury danych (kolekcji) reprezentującej świat. Jej elementem składowym będzie lista kontynentów. Każdy kontynent będzie posiadał listę krajów, a każdy kraj metodę zwracającą ilość zamieszkujących go ludzi.</p>
<p>Oczywiście nie musisz wprowadzać wszystkich danych. Ponadto dane mogą być zmyślone. Wystarczy kilka kontynentów i po kilka krajów w ramach kontynentu.</p>
<p>Aby zrealizować zadanie:</p>
<ol>
	<li>W katalogu <i>src/main/java</i> utwórz pakiet <code class=" language-java">com<span class="token punctuation">.</span>kodilla<span class="token punctuation">.</span>stream<span class="token punctuation">.</span>world</code></li>
	<li>W utworzonym pakiecie utwórz klasy <code class=" language-java">Country<span class="token punctuation">,</span> Continent</code> oraz <code class=" language-java">World</code>. Klasa <code class=" language-java">Country</code> ma udostępniać metodę <code class=" language-java"><span class="token function">getPeopleQuantity</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> zwracającą liczbę typu <code class=" language-java">BigDecimal</code>. Klasa <code class=" language-java">Continent</code> powinna zawierać kolekcję krajów leżących na tym kontynencie. Klasa <code class=" language-java">World</code> powinna zawierać kolekcję kontynentów</li>
	<li>W klasie <code class=" language-java">World</code> napisz metodę <code class=" language-java"><span class="token function">getPeopleQuantity</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> zwracającą liczbę typu <code class=" language-java">BigDecimal</code>, która używając <code class=" language-java"><span class="token function">flatMap</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> oraz <code class=" language-java"><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> obliczy sumę ludności wszystkich krajów na wszystkich kontynentach.</li>
	<li>W katalogu <i>src/test/java</i> stwórz pakiet <code class=" language-java">com<span class="token punctuation">.</span>kodilla<span class="token punctuation">.</span>stream<span class="token punctuation">.</span>world</code>, a w nim zestaw testów <code class=" language-java">WorldTestSuite</code></li>
	<li>Napisz test <code class=" language-java"><span class="token function">testGetPeopleQuantity</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code>, który przetestuje czy metoda <code class=" language-java"><span class="token function">getPeopleQuantity</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> klasy <code class=" language-java">World</code> działa prawidłowo</li>
	<li>Utworzony kod prześlij do repozytorium <code class=" language-java">GitHub</code></li>
</ol>
<p>Link do repozytorium wklej poniżej i wyślij do mentora.</p>
                        </div>
                    </div>
                                        <div class="card-block submodule-footer clearfix ">
                                                <div class="clearfix">
                                                                                <a href="https://kodilla.com/pl/bootcamp-task/146/249434" target="_blank" class="btn btn-info-outline">Podgląd zadania</a>
                            <form target="_blank" class="form-inline project-link-form">
                                <div class="form-group">
                                    <input type="text" name="link" class="form-control" value="">
                                </div>
                                <button type="submit" class="btn  btn-success-outline ">Wyslij link <i class="fa fa-check"></i></button>
                            </form>
                                                                                                    </div>
                    </div>
                </section>
                                    
                <section id="submodule-340" class="card submodule " data-bootcamp-user-submodule-id="249435">
                <!-- klasy dla section: completed current comments -->
                    <div class="card-block submodule-header clearfix">
                        <i class="fa fa-check-circle-o fa-2x"></i>
                        <i class="fa fa-play-circle-o fa-2x"></i>
                        <i class="fa fa-exclamation-circle fa-2x"></i>
                        <i class="fa fa-send-o fa-2x"></i>
                        <h2 class="bootcamp-submodule-name">7.5. <span>Wzbogacenie wiedzy o IntStream</span></h2>
                                            </div>
                    <div class="card-block">
                        <div class="submodule-content">
                            <p>Oprócz klasy <code class=" language-java">Stream</code> istnieją również wyspecjalizowane klasy <code class=" language-java">IntStream</code>, <code class=" language-java">LongStream</code> oraz <code class=" language-java">DoubleStream</code>, służące do przetwarzania strumieni składających się z obiektów o typach prymitywnych <code class=" language-java"><span class="token keyword keyword-int">int</span></code>, <code class=" language-java"><span class="token keyword keyword-long">long</span></code> oraz <code class=" language-java"><span class="token keyword keyword-double">double</span></code>.</p>
<p>Te strumienie posiadają kilka przydatnych metod:</p>
<ul>
	<li><code class=" language-java"><span class="token function">sum</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> — oblicza sumę wszystkich elementów w strumieniu</li>
	<li><code class=" language-java"><span class="token function">average</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> — oblicza wartość średnią wszystkich elementów w strumieniu</li>
	<li><code class=" language-java"><span class="token function">min</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> — zwraca wartość najmniejszego elementu w strumieniu</li>
	<li><code class=" language-java"><span class="token function">max</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> — zwraca wartość największego elementu w strumieniu</li>
</ul>
<p>Powyższe metody są operacjami terminalnymi. Są to kolektory skalarne (zwracające pojedynczą wartość), które kończą działanie strumienia.</p>
<p>Ponadto, strumienie dla prymitywnych typów całkowitych, czyli <code class=" language-java">IntStream</code> oraz <code class=" language-java">LongStream<span class="token punctuation">,</span></code> udostępniają bardzo ciekawą operacje:</p>
<ul>
	<li><code class=" language-java"><span class="token function">range</span><span class="token punctuation">(</span><span class="token keyword keyword-int">int</span> startInclusive<span class="token punctuation">,</span> <span class="token keyword keyword-int">int</span> endExclusive<span class="token punctuation">)</span></code> — tworzy strumień składający się z liczb typu <code class=" language-java"><span class="token keyword keyword-int">int</span></code> lub <code class=" language-java"><span class="token keyword keyword-long">long</span></code> o wartościach od <code class=" language-java">startInclusive</code> do <code class=" language-java">endExclusive<span class="token operator">-</span><span class="token number">1</span></code></li>
	<li><code class=" language-java"><span class="token function">rangeClosed</span><span class="token punctuation">(</span><span class="token keyword keyword-int">int</span> startInclusive<span class="token punctuation">,</span> <span class="token keyword keyword-int">int</span> endInclusive<span class="token punctuation">)</span></code> — tworzy strumień składający się z liczb typu <code class=" language-java"><span class="token keyword keyword-int">int</span></code> lub <code class=" language-java"><span class="token keyword keyword-long">long</span></code> o wartościach od <code class=" language-java">startInclusive</code> do <code class=" language-java">endInclusive</code></li>
</ul>
<p>Powyższe dwie metody możemy wykorzystać do zbudowania "funkcyjnej pętli <code class=" language-java"><span class="token keyword keyword-for">for</span></code>". Aby zrealizować przykład, wykorzystamy stworzone wcześniej klasy <code class=" language-java">Book</code> oraz <code class=" language-java">BookDirectory</code> w pakiecie <code class=" language-java">com<span class="token punctuation">.</span>kodilla<span class="token punctuation">.</span>stream<span class="token punctuation">.</span>book</code> w katalogu <i>src/main/java</i>.</p>
<p>Dla przypomnienia, poniżej klasa <code class=" language-java">BookDirectory</code>:</p>
<pre class="line-numbers language-java code-toolbar"><code class=" language-java"><span class="token keyword keyword-package">package</span> com<span class="token punctuation">.</span>kodilla<span class="token punctuation">.</span>stream<span class="token punctuation">.</span>book<span class="token punctuation">;</span>

<span class="token keyword keyword-import">import</span> java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>ArrayList<span class="token punctuation">;</span>
<span class="token keyword keyword-import">import</span> java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>List<span class="token punctuation">;</span>

<span class="token keyword keyword-public">public</span> <span class="token keyword keyword-final">final</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">BookDirectory</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-private">private</span> <span class="token keyword keyword-final">final</span> List<span class="token operator">&lt;</span>Book<span class="token operator">&gt;</span> theBookList <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token class-name">ArrayList</span><span class="token operator">&lt;</span><span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-public">public</span> <span class="token function">BookDirectory</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            theBookList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword keyword-new">new</span> <span class="token class-name">Book</span><span class="token punctuation">(</span><span class="token string">"Dylan Murphy"</span><span class="token punctuation">,</span> <span class="token string">"Wolf of the mountain"</span><span class="token punctuation">,</span>
                   <span class="token number">2003</span><span class="token punctuation">,</span> <span class="token string">"0001"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            theBookList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword keyword-new">new</span> <span class="token class-name">Book</span><span class="token punctuation">(</span><span class="token string">"Phoebe Pearson"</span><span class="token punctuation">,</span> <span class="token string">"Slaves of dreams"</span><span class="token punctuation">,</span>
                   <span class="token number">2012</span><span class="token punctuation">,</span> <span class="token string">"0002"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            theBookList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword keyword-new">new</span> <span class="token class-name">Book</span><span class="token punctuation">(</span><span class="token string">"Morgan Walsh"</span><span class="token punctuation">,</span> <span class="token string">"Obliteration of heaven"</span><span class="token punctuation">,</span>
                   <span class="token number">2001</span><span class="token punctuation">,</span> <span class="token string">"0003"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            theBookList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword keyword-new">new</span> <span class="token class-name">Book</span><span class="token punctuation">(</span><span class="token string">"Aimee Murphy"</span><span class="token punctuation">,</span> <span class="token string">"Rejecting the night"</span><span class="token punctuation">,</span>
                   <span class="token number">2015</span><span class="token punctuation">,</span> <span class="token string">"0004"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            theBookList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword keyword-new">new</span> <span class="token class-name">Book</span><span class="token punctuation">(</span><span class="token string">"Ryan Talley"</span><span class="token punctuation">,</span> <span class="token string">"Gangsters and kings"</span><span class="token punctuation">,</span>
                   <span class="token number">2007</span><span class="token punctuation">,</span> <span class="token string">"0005"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            theBookList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword keyword-new">new</span> <span class="token class-name">Book</span><span class="token punctuation">(</span><span class="token string">"Madelynn Carson"</span><span class="token punctuation">,</span> <span class="token string">"Unity without duty"</span><span class="token punctuation">,</span>
                   <span class="token number">2007</span><span class="token punctuation">,</span> <span class="token string">"0006"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            theBookList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword keyword-new">new</span> <span class="token class-name">Book</span><span class="token punctuation">(</span><span class="token string">"Giancarlo Guerrero"</span><span class="token punctuation">,</span> <span class="token string">"Enemies of eternity"</span><span class="token punctuation">,</span>
                   <span class="token number">2009</span><span class="token punctuation">,</span> <span class="token string">"0007"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword keyword-public">public</span> List<span class="token operator">&lt;</span>Book<span class="token operator">&gt;</span> <span class="token function">getList</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword keyword-return">return</span> <span class="token keyword keyword-new">new</span> <span class="token class-name">ArrayList</span><span class="token operator">&lt;</span><span class="token operator">&gt;</span><span class="token punctuation">(</span>theBookList<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code><div class="toolbar"></div></pre>
<p>Wykorzystamy tę klasę, aby stworzyć pętlę <code class=" language-java"><span class="token keyword keyword-for">for</span></code> i w tej pętli sprawdzić, ile jest książek wydanych po roku 2007.</p>
<p>W tym celu w katalogu <i>src/test/java</i> utwórz pakiet <code class=" language-java">com<span class="token punctuation">.</span>kodilla<span class="token punctuation">.</span>stream<span class="token punctuation">.</span>book</code>, a w nim zestaw testów <code class=" language-java">BookTestSuite</code>, oraz pierwszy test o nazwie <code class=" language-java"><span class="token function">testGetListUsingFor</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code>:</p>
<pre class="line-numbers language-java code-toolbar"><code class=" language-java"><span class="token keyword keyword-package">package</span> com<span class="token punctuation">.</span>kodilla<span class="token punctuation">.</span>stream<span class="token punctuation">.</span>book<span class="token punctuation">;</span>

<span class="token keyword keyword-import">import</span> org<span class="token punctuation">.</span>junit<span class="token punctuation">.</span>Assert<span class="token punctuation">;</span>
<span class="token keyword keyword-import">import</span> org<span class="token punctuation">.</span>junit<span class="token punctuation">.</span>Test<span class="token punctuation">;</span>
<span class="token keyword keyword-import">import</span> java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>List<span class="token punctuation">;</span>

<span class="token keyword keyword-public">public</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">BookTestSuite</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-void">void</span> <span class="token function">testGetListUsingFor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment" spellcheck="true">//Given</span>
            BookDirectory bookDirectory <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token class-name">BookDirectory</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token comment" spellcheck="true">//When</span>
            List<span class="token operator">&lt;</span>Book<span class="token operator">&gt;</span> books <span class="token operator">=</span> bookDirectory<span class="token punctuation">.</span><span class="token function">getList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token comment" spellcheck="true">//Then</span>
            <span class="token keyword keyword-int">int</span> numberOfBooksPublicatedAfter2007 <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
            <span class="token keyword keyword-for">for</span><span class="token punctuation">(</span>Book book <span class="token operator">:</span> books<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span>book<span class="token punctuation">.</span><span class="token function">getYearOfPublication</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token number">2007</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                  numberOfBooksPublicatedAfter2007<span class="token operator">++</span><span class="token punctuation">;</span>
               <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
            Assert<span class="token punctuation">.</span><span class="token function">assertEquals</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> numberOfBooksPublicatedAfter2007<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code><div class="toolbar"></div></pre>
<p>W wyniku wykonania tego testu z obiektu <code class=" language-java">bookDirectory</code> klasy <code class=" language-java">BookDirectory</code> pobierana jest kolekcja książek przy pomocy metody <code class=" language-java"><span class="token function">getList</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code>.</p>
<p>Następnie, przy pomocy pętli <code class=" language-java"><span class="token keyword keyword-for">for</span></code> iterujemy po kolekcji i zliczamy w zmiennej <code class=" language-java">numberOfBooksPublicatedAfter2007</code> typu <code class=" language-java"><span class="token keyword keyword-int">int</span></code> liczbę książek, które były wydane po 2007 roku.</p>
<p>Na końcu wywołujemy asercję sprawdzającą, czy takich książek było dokładnie trzy. Test wykonuje się poprawnie.</p>
<p>Spróbujmy teraz użyć <code class=" language-java">IntStream</code> wraz z metodą <code class=" language-java"><span class="token function">range</span><span class="token punctuation">(</span><span class="token keyword keyword-int">int</span> startInclusive<span class="token punctuation">,</span> <span class="token keyword keyword-int">int</span> endExclusive<span class="token punctuation">)</span></code> do wykonania pętli w modelu funkcyjnym. Utwórz w zestawie testów <code class=" language-java">BookTestSuite</code> w pakiecie <code class=" language-java">com<span class="token punctuation">.</span>kodilla<span class="token punctuation">.</span>stream<span class="token punctuation">.</span>book</code> <i>src/test/java</i> drugi test o nazwie <code class=" language-java"><span class="token function">testGetListUsingIntStream</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code>:</p>
<pre class="line-numbers language-java code-toolbar"><code class=" language-java"><span class="token annotation punctuation">@Test</span>
<span class="token keyword keyword-public">public</span> <span class="token keyword keyword-void">void</span> <span class="token function">testGetListUsingIntStream</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment" spellcheck="true">//Given</span>
    BookDirectory bookDirectory <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token class-name">BookDirectory</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment" spellcheck="true">//When</span>
    List<span class="token operator">&lt;</span>Book<span class="token operator">&gt;</span> books <span class="token operator">=</span> bookDirectory<span class="token punctuation">.</span><span class="token function">getList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment" spellcheck="true">//Then</span>
    <span class="token keyword keyword-int">int</span> numberOfBooksPublicatedAfter2007 <span class="token operator">=</span> IntStream<span class="token punctuation">.</span><span class="token function">range</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> books<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span>n <span class="token operator">-</span><span class="token operator">&gt;</span> books<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getYearOfPublication</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token number">2007</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>n <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token number">1</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">sum</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    Assert<span class="token punctuation">.</span><span class="token function">assertEquals</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> numberOfBooksPublicatedAfter2007<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code><div class="toolbar"></div></pre>
<p>Zmiany w stosunku do poprzedniego testu widoczne są w liniach od 10 do 13. Przeanalizujmy je:</p>
<ul>
	<li>W linii nr 10 tworzymy i uruchamiamy strumień elementów typu <code class=" language-java"><span class="token keyword keyword-int">int</span></code> o zakresach numerów od <code class=" language-java"><span class="token number">0</span></code> do <code class=" language-java">books<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code>. Wynik działania tego strumienia, po jego zakończeniu, zostanie przypisany do zmiennej <code class=" language-java">numberOfBooksPublicatedAfter2007</code>.</li>
	<li>W linii nr 11 odfiltrowujemy tylko te książki, których rok wydania jest większy od 2007. Realizujemy to przy pomocy wyrażenia lambda, które otrzymuje na wejściu kolejną wartość indeksu <code class=" language-java">n</code>. Do strumienia wyjściowego filtra kierowane są jedynie te <u>numery indeksów (nie książki!)</u>, które odpowiadają książkom wydanym po roku 2007. Sprawdzamy to przy pomocy warunku <code class=" language-java">books<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getYearOfPublication</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token number">2007</span></code>.</li>
	<li>W linii nr 12 na wejściu otrzymujemy strumień liczb typu <code class=" language-java"><span class="token keyword keyword-int">int</span></code>, które są numerami indeksów książek wydanych po 2007 roku w kolekcji <code class=" language-java">books</code>. Każdy taki indeks odpowiada jednej książce do "zliczenia". Dokonujemy więc transformacji strumienia w taki sposób, że do strumienia wyjściowego trafia liczba <code class=" language-java"><span class="token number">1</span></code> w miejsce każdego elementu strumienia do zliczenia</li>
	<li>W linii nr 13 zliczamy liczbę "jedynek" w strumieniu wejściowym. Odpowiada ona liczbie książek wydanych po roku 2007 w kolekcji.</li>
</ul>
<p>Możemy jednak jeszcze bardziej uprościć naszą funkcyjną "pętlę for", wykorzystując do tego celu operację terminalną <code class=" language-java"><span class="token function">count</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> strumienia. Operacja ta jest kolektorem skalarnym i zwraca liczbę typu <code class=" language-java"><span class="token keyword keyword-long">long</span></code>. W przypadku zastosowania metody <code class=" language-java"><span class="token function">count</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span></code> nie musimy mapować indeksów na "jedynki" — chcemy po prostu sprawdzić liczbę indeksów w strumieniu po filtrze.</p>
<p>Zwróć uwagę, że musimy również zmienić typ zmiennej <code class=" language-java">numberOfBooksPublicatedAfter2007</code> na typ <code class=" language-java"><span class="token keyword keyword-long">long</span></code> (co wynika z tego, że kolektor <code class=" language-java"><span class="token function">count</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> zwraca wynik typu <code class=" language-java"><span class="token keyword keyword-long">long</span></code>):</p>
<pre class="line-numbers language-java code-toolbar"><code class=" language-java"><span class="token annotation punctuation">@Test</span>
<span class="token keyword keyword-public">public</span> <span class="token keyword keyword-void">void</span> <span class="token function">testGetListUsingIntStream</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment" spellcheck="true">//Given</span>
        BookDirectory bookDirectory <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token class-name">BookDirectory</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment" spellcheck="true">//When</span>
        List<span class="token operator">&lt;</span>Book<span class="token operator">&gt;</span> books <span class="token operator">=</span> bookDirectory<span class="token punctuation">.</span><span class="token function">getList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment" spellcheck="true">//Then</span>
        <span class="token keyword keyword-long">long</span> numberOfBooksPublicatedAfter2007 <span class="token operator">=</span> IntStream<span class="token punctuation">.</span><span class="token function">range</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> books<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span>n <span class="token operator">-</span><span class="token operator">&gt;</span> books<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getYearOfPublication</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token number">2007</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">count</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        Assert<span class="token punctuation">.</span><span class="token function">assertEquals</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> numberOfBooksPublicatedAfter2007<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code><div class="toolbar"></div></pre>

                        </div>
                    </div>
                                        <div class="card-block task-card">
                        <h3 id="75-wzbogacenie-wiedzy-o-intstream-zadanie-obliczamy-srednia-funkcyjnie">Zadanie: <span class="task-title">obliczamy średnią, funkcyjnie :)</span></h3>
                        <div class="task-content">
                            <p>Pamiętasz zadanie z submodułu dotyczącego pętli <code class=" language-java"><span class="token keyword keyword-for">for</span></code>? Aż się prosi, aby spróbować je zrealizować przy pomocy “funkcyjnej pętli <code class=" language-java"><span class="token keyword keyword-for">for</span></code>”, czyli przy pomocy metody <code class=" language-java"><span class="token function">range</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> interfejsu <code class=" language-java">IntStream</code>.</p>
<p>Zadanie polega na obliczeniu średniej z liczb typu <code class=" language-java"><span class="token keyword keyword-int">int</span></code> zapisanych w 20 elementowej tablicy. Użyj do tego dwóch pętli kolejno po sobie - pierwsza pętla powinna wyświetlić wszystkie liczby z tablicy, a druga obliczyć średnią.</p>
<p>Aby zrealizować zadanie:</p>
<ol>
	<li>W katalogu <i>src/main/java</i> utwórz pakiet <code class=" language-java">com<span class="token punctuation">.</span>kodilla<span class="token punctuation">.</span>stream<span class="token punctuation">.</span>array</code>, a w nim interfejs <code class=" language-java">ArrayOperations</code> z jedną metodą statyczną - <code class=" language-java"><span class="token function">getAverage</span><span class="token punctuation">(</span><span class="token keyword keyword-int">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> numbers<span class="token punctuation">)</span></code>.</li>
	<li>Metoda <code class=" language-java"><span class="token function">getAverage</span><span class="token punctuation">(</span><span class="token keyword keyword-int">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> numbers<span class="token punctuation">)</span></code> powinna: <br>
	- przy pomocy strumienia <code class=" language-java">IntStream</code> oraz metody <code class=" language-java"><span class="token function">range</span><span class="token punctuation">(</span><span class="token keyword keyword-int">int</span> startInclusive<span class="token punctuation">,</span> <span class="token keyword keyword-int">int</span> endExclusive<span class="token punctuation">)</span></code> wyświetlić kolejne elementy tablicy, a następnie:<br>
    - przy pomocy drugiego strumienia <code class=" language-java">IntStream</code> oraz metody <code class=" language-java"><span class="token function">range</span><span class="token punctuation">(</span><span class="token keyword keyword-int">int</span> startInclusive<span class="token punctuation">,</span> <span class="token keyword keyword-int">int</span> endExclusive<span class="token punctuation">)</span></code>, a także kolektora <code class=" language-java"><span class="token function">average</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> obliczyć średnią. Na końcu metoda powinna zwracać średnią jako wynik typu double. <br>
	</li><li>W katalogu <i>src/test/java</i> utwórz pakiet <code class=" language-java">com<span class="token punctuation">.</span>kodilla<span class="token punctuation">.</span>stream<span class="token punctuation">.</span>array</code> z jednym zestawem testów <code class=" language-java">ArrayOperationsTestSuite</code> oraz jednym testem <code class=" language-java"><span class="token function">testGetAverage</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code>.</li>
	<li>Test powinien przygotować tablicę z przykładowymi wartościami typu <code class=" language-java"><span class="token keyword keyword-int">int</span></code> i wywołać metodę <code class=" language-java"><span class="token function">getAverage</span><span class="token punctuation">(</span><span class="token keyword keyword-int">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> numbers<span class="token punctuation">)</span></code> interfejsu <code class=" language-java">ArrayOperations</code>.</li>
	<li>Przy pomocy asercji sprawdź, czy obliczona średnia jest poprawna.</li>
	<li>Kod programu prześlij do repozytorium <code class=" language-java">GitHub</code></li>
</ol>
<p>Link do repozytorium wklej poniżej i prześlij do mentora.</p>
                        </div>
                    </div>
                                        <div class="card-block submodule-footer clearfix ">
                                                <div class="clearfix">
                                                                                <a href="https://kodilla.com/pl/bootcamp-task/146/249435" target="_blank" class="btn btn-info-outline">Podgląd zadania</a>
                            <form target="_blank" class="form-inline project-link-form">
                                <div class="form-group">
                                    <input type="text" name="link" class="form-control" value="">
                                </div>
                                <button type="submit" class="btn  btn-success-outline ">Wyslij link <i class="fa fa-check"></i></button>
                            </form>
                                                                                                    </div>
                    </div>
                </section>
                                    
                <section id="submodule-341" class="card submodule " data-bootcamp-user-submodule-id="249436">
                <!-- klasy dla section: completed current comments -->
                    <div class="card-block submodule-header clearfix">
                        <i class="fa fa-check-circle-o fa-2x"></i>
                        <i class="fa fa-play-circle-o fa-2x"></i>
                        <i class="fa fa-exclamation-circle fa-2x"></i>
                        <i class="fa fa-send-o fa-2x"></i>
                        <h2 class="bootcamp-submodule-name">7.6. <span>Wykorzystanie Stream na różnych kolekcjach</span></h2>
                                            </div>
                    <div class="card-block">
                        <div class="submodule-content">
                            <p>Nadszedł wreszcie czas na to, aby trochę poćwiczyć :) Na początek stworzymy sobie strukturę danych, która będzie bazą do naszych ćwiczeń. Ogólnie możemy sobie nasze dane wyobrazić jako tablice. W tablicach będą listy, a w ramach list będą zadania.</p>
<p>Możesz sobie wyobrazić, że jedna tablica to jeden projekt. Przykładowe listy w projekcie: lista zadań do wykonania, lista zadań w trakcie wykonywania, lista zadań ukończonych. Same zadania natomiast będą posiadały nazwę, przypisaną osobę, termin wykonania.</p>
<h3 id="76-wykorzystanie-stream-na-roznych-kolekcjach-przygotowanie-hierarchii-klas">Przygotowanie hierarchii klas</h3>
<p>Przystąpmy więc do pracy. W katalogu <i>src/main/java</i> utwórz pakiet <code class=" language-java">com<span class="token punctuation">.</span>kodilla<span class="token punctuation">.</span>stream<span class="token punctuation">.</span>portfolio</code>, a w nim klasę <code class=" language-java">User</code>:</p>

<pre class="line-numbers language-java code-toolbar"><code class=" language-java"><span class="token keyword keyword-package">package</span> com<span class="token punctuation">.</span>kodilla<span class="token punctuation">.</span>stream<span class="token punctuation">.</span>portfolio<span class="token punctuation">;</span>

<span class="token keyword keyword-public">public</span> <span class="token keyword keyword-final">final</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">User</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-private">private</span> <span class="token keyword keyword-final">final</span> String username<span class="token punctuation">;</span>
    <span class="token keyword keyword-private">private</span> <span class="token keyword keyword-final">final</span> String realName<span class="token punctuation">;</span>

    <span class="token keyword keyword-public">public</span> <span class="token function">User</span><span class="token punctuation">(</span><span class="token keyword keyword-final">final</span> String username<span class="token punctuation">,</span> <span class="token keyword keyword-final">final</span> String realName<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword keyword-this">this</span><span class="token punctuation">.</span>username <span class="token operator">=</span> username<span class="token punctuation">;</span>
            <span class="token keyword keyword-this">this</span><span class="token punctuation">.</span>realName <span class="token operator">=</span> realName<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword keyword-public">public</span> String <span class="token function">getUsername</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword keyword-return">return</span> username<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword keyword-public">public</span> String <span class="token function">getRealName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword keyword-return">return</span> realName<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword keyword-public">public</span> String <span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword keyword-return">return</span> <span class="token string">"User{"</span> <span class="token operator">+</span>
                <span class="token string">"username='"</span> <span class="token operator">+</span> username <span class="token operator">+</span> <span class="token string">'\''</span> <span class="token operator">+</span>
                <span class="token string">'}'</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-boolean">boolean</span> <span class="token function">equals</span><span class="token punctuation">(</span>Object o<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span><span class="token keyword keyword-this">this</span> <span class="token operator">==</span> o<span class="token punctuation">)</span> <span class="token keyword keyword-return">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
            <span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token punctuation">(</span>o <span class="token keyword keyword-instanceof">instanceof</span> <span class="token class-name">User</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword keyword-return">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
            User user <span class="token operator">=</span> <span class="token punctuation">(</span>User<span class="token punctuation">)</span> o<span class="token punctuation">;</span>
            <span class="token keyword keyword-return">return</span> username<span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>user<span class="token punctuation">.</span>username<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code><div class="toolbar"></div></pre>

<p>Powyższą klasę możesz przygotować poprzez stworzenie pustej klasy i deklaracji pól <code class=" language-java">username</code> oraz <code class=" language-java">realName</code>, następnie wygeneruj konstruktor (argumenty oznacz jako <code class=" language-java"><span class="token keyword keyword-final">final</span></code>), wygeneruj gettery oraz metodę <code class=" language-java"><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> w oparciu o pole <code class=" language-java">username</code>, a także metodę <code class=" language-java"><span class="token function">equals</span><span class="token punctuation">(</span>Object o<span class="token punctuation">)</span></code> sprawdzającą równość pola <code class=" language-java">username</code>.</p>
<p>Jako kolejną, zdefiniuj klasę <code class=" language-java">Task</code> w tym samym pakiecie:</p>

<pre class="line-numbers language-java code-toolbar"><code class=" language-java"><span class="token keyword keyword-package">package</span> com<span class="token punctuation">.</span>kodilla<span class="token punctuation">.</span>stream<span class="token punctuation">.</span>portfolio<span class="token punctuation">;</span>

<span class="token keyword keyword-import">import</span> java<span class="token punctuation">.</span>time<span class="token punctuation">.</span>LocalDate<span class="token punctuation">;</span>

<span class="token keyword keyword-public">public</span> <span class="token keyword keyword-final">final</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">Task</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-private">private</span> <span class="token keyword keyword-final">final</span> String title<span class="token punctuation">;</span>
    <span class="token keyword keyword-private">private</span> <span class="token keyword keyword-final">final</span> String description<span class="token punctuation">;</span>
    <span class="token keyword keyword-private">private</span> <span class="token keyword keyword-final">final</span> User assignedUser<span class="token punctuation">;</span>
    <span class="token keyword keyword-private">private</span> <span class="token keyword keyword-final">final</span> User creator<span class="token punctuation">;</span>
    <span class="token keyword keyword-private">private</span> <span class="token keyword keyword-final">final</span> LocalDate created<span class="token punctuation">;</span>
    <span class="token keyword keyword-private">private</span> <span class="token keyword keyword-final">final</span> LocalDate deadline<span class="token punctuation">;</span>

    <span class="token keyword keyword-public">public</span> <span class="token function">Task</span><span class="token punctuation">(</span><span class="token keyword keyword-final">final</span> String title<span class="token punctuation">,</span> <span class="token keyword keyword-final">final</span> String description<span class="token punctuation">,</span>
               <span class="token keyword keyword-final">final</span> User assignedUser<span class="token punctuation">,</span> <span class="token keyword keyword-final">final</span> User creator<span class="token punctuation">,</span>
               <span class="token keyword keyword-final">final</span> LocalDate created<span class="token punctuation">,</span> <span class="token keyword keyword-final">final</span> LocalDate deadline<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword keyword-this">this</span><span class="token punctuation">.</span>title <span class="token operator">=</span> title<span class="token punctuation">;</span>
            <span class="token keyword keyword-this">this</span><span class="token punctuation">.</span>description <span class="token operator">=</span> description<span class="token punctuation">;</span>
            <span class="token keyword keyword-this">this</span><span class="token punctuation">.</span>assignedUser <span class="token operator">=</span> assignedUser<span class="token punctuation">;</span>
            <span class="token keyword keyword-this">this</span><span class="token punctuation">.</span>creator <span class="token operator">=</span> creator<span class="token punctuation">;</span>
            <span class="token keyword keyword-this">this</span><span class="token punctuation">.</span>created <span class="token operator">=</span> created<span class="token punctuation">;</span>
            <span class="token keyword keyword-this">this</span><span class="token punctuation">.</span>deadline <span class="token operator">=</span> deadline<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword keyword-public">public</span> String <span class="token function">getTitle</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword keyword-return">return</span> title<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword keyword-public">public</span> String <span class="token function">getDescription</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword keyword-return">return</span> description<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword keyword-public">public</span> User <span class="token function">getAssignedUser</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword keyword-return">return</span> assignedUser<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword keyword-public">public</span> User <span class="token function">getCreator</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword keyword-return">return</span> creator<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword keyword-public">public</span> LocalDate <span class="token function">getCreated</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword keyword-return">return</span> created<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword keyword-public">public</span> LocalDate <span class="token function">getDeadline</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword keyword-return">return</span> deadline<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword keyword-public">public</span> String <span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword keyword-return">return</span> <span class="token string">"Task{"</span> <span class="token operator">+</span>
                <span class="token string">"title='"</span> <span class="token operator">+</span> title <span class="token operator">+</span> <span class="token string">'\''</span> <span class="token operator">+</span>
                <span class="token string">", description='"</span> <span class="token operator">+</span> description <span class="token operator">+</span> <span class="token string">'\''</span> <span class="token operator">+</span>
                <span class="token string">", assignedUser="</span> <span class="token operator">+</span> assignedUser <span class="token operator">+</span>
                <span class="token string">", creator="</span> <span class="token operator">+</span> creator <span class="token operator">+</span>
                <span class="token string">", created="</span> <span class="token operator">+</span> created <span class="token operator">+</span>
                <span class="token string">", deadline="</span> <span class="token operator">+</span> deadline <span class="token operator">+</span>
                <span class="token string">'}'</span> <span class="token operator">+</span> <span class="token string">"\n"</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code><div class="toolbar"></div></pre>

<p>Powyższą klasę możesz przygotować poprzez stworzenie pustej klasy z wszystkimi polami, a następnie wygeneruj konstruktor (oznacz wszystkie argumenty jako <code class=" language-java"><span class="token keyword keyword-final">final</span></code>), gettery oraz metodę <code class=" language-java"><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> opartą o wszystkie pola klasy.</p>
<p>Kolejną klasą będzie klasa o nazwie <code class=" language-java">TaskList</code> - również w pakiecie <code class=" language-java">com<span class="token punctuation">.</span>kodilla<span class="token punctuation">.</span>stream<span class="token punctuation">.</span>portfolio</code> w katalogu <i>src/main/java</i>:</p>

<pre class="line-numbers language-java code-toolbar"><code class=" language-java"><span class="token keyword keyword-package">package</span> com<span class="token punctuation">.</span>kodilla<span class="token punctuation">.</span>stream<span class="token punctuation">.</span>portfolio<span class="token punctuation">;</span>

<span class="token keyword keyword-import">import</span> java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>LinkedList<span class="token punctuation">;</span>
<span class="token keyword keyword-import">import</span> java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>List<span class="token punctuation">;</span>

<span class="token keyword keyword-public">public</span> <span class="token keyword keyword-final">final</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">TaskList</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-private">private</span> <span class="token keyword keyword-final">final</span> List<span class="token operator">&lt;</span>Task<span class="token operator">&gt;</span> tasks <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token class-name">LinkedList</span><span class="token operator">&lt;</span><span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-private">private</span> <span class="token keyword keyword-final">final</span> String name<span class="token punctuation">;</span>

    <span class="token keyword keyword-public">public</span> <span class="token function">TaskList</span><span class="token punctuation">(</span><span class="token keyword keyword-final">final</span> String name<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword keyword-this">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-void">void</span> <span class="token function">addTask</span><span class="token punctuation">(</span>Task task<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            tasks<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>task<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-boolean">boolean</span> <span class="token function">removeTask</span><span class="token punctuation">(</span>Task task<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword keyword-return">return</span> tasks<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span>task<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword keyword-public">public</span> List<span class="token operator">&lt;</span>Task<span class="token operator">&gt;</span> <span class="token function">getTasks</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword keyword-return">return</span> <span class="token keyword keyword-new">new</span> <span class="token class-name">LinkedList</span><span class="token operator">&lt;</span><span class="token operator">&gt;</span><span class="token punctuation">(</span>tasks<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword keyword-public">public</span> String <span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword keyword-return">return</span> name<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword keyword-public">public</span> String <span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword keyword-return">return</span> <span class="token string">"TaskList{"</span> <span class="token operator">+</span>
                <span class="token string">"name='"</span> <span class="token operator">+</span> name <span class="token operator">+</span> <span class="token string">'\''</span> <span class="token operator">+</span> <span class="token string">",\n"</span> <span class="token operator">+</span>
                <span class="token string">"tasks=\n"</span> <span class="token operator">+</span> tasks <span class="token operator">+</span> <span class="token string">"\n"</span> <span class="token operator">+</span>
                <span class="token string">'}'</span> <span class="token operator">+</span> <span class="token string">"\n"</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-boolean">boolean</span> <span class="token function">equals</span><span class="token punctuation">(</span>Object o<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span><span class="token keyword keyword-this">this</span> <span class="token operator">==</span> o<span class="token punctuation">)</span> <span class="token keyword keyword-return">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
            <span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token punctuation">(</span>o <span class="token keyword keyword-instanceof">instanceof</span> <span class="token class-name">TaskList</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword keyword-return">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
            TaskList taskList <span class="token operator">=</span> <span class="token punctuation">(</span>TaskList<span class="token punctuation">)</span> o<span class="token punctuation">;</span>
            <span class="token keyword keyword-return">return</span> name<span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>taskList<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code><div class="toolbar"></div></pre>

<p>Aby przygotować powyższą klasę, stwórz pustą klasę i zdefiniuj jej pola. Wygeneruj konstruktor (oznacz atrybuty jako <code class=" language-java"><span class="token keyword keyword-final">final</span></code>), wygeneruj gettery oraz metodę <code class=" language-java"><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> opartą o wszystkie pola klasy. Getter zwracający listę zadań zmodyfikuj tak, aby tworzył nową listę używając konstruktora kopiującego. Wygeneruj metodę <code class=" language-java"><span class="token function">equals</span><span class="token punctuation">(</span>Object o<span class="token punctuation">)</span></code> porównującą nazwy list zadań. Dopisz także metody <code class=" language-java"><span class="token function">addTask</span><span class="token punctuation">(</span>Task task<span class="token punctuation">)</span></code> oraz <code class=" language-java"><span class="token function">removeTask</span><span class="token punctuation">(</span>Task task<span class="token punctuation">)</span></code>.</p>
<p>Kolejną klasą jest klasa <code class=" language-java">Board</code> (w ramach pakietu <code class=" language-java">com<span class="token punctuation">.</span>kodilla<span class="token punctuation">.</span>stream<span class="token punctuation">.</span>portfolio</code> w katalogu <i>src/main/java</i>) - utwórz ją według poniższego:</p>

<pre class="line-numbers language-java code-toolbar"><code class=" language-java"><span class="token keyword keyword-package">package</span> com<span class="token punctuation">.</span>kodilla<span class="token punctuation">.</span>stream<span class="token punctuation">.</span>portfolio<span class="token punctuation">;</span>

<span class="token keyword keyword-import">import</span> java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>ArrayList<span class="token punctuation">;</span>
<span class="token keyword keyword-import">import</span> java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>List<span class="token punctuation">;</span>

<span class="token keyword keyword-public">public</span> <span class="token keyword keyword-final">final</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">Board</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-private">private</span> <span class="token keyword keyword-final">final</span> List<span class="token operator">&lt;</span>TaskList<span class="token operator">&gt;</span> taskLists <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token class-name">ArrayList</span><span class="token operator">&lt;</span><span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-private">private</span> <span class="token keyword keyword-final">final</span> String name<span class="token punctuation">;</span>

    <span class="token keyword keyword-public">public</span> <span class="token function">Board</span><span class="token punctuation">(</span><span class="token keyword keyword-final">final</span> String name<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword keyword-this">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-void">void</span> <span class="token function">addTaskList</span><span class="token punctuation">(</span>TaskList taskList<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            taskLists<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>taskList<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-boolean">boolean</span> <span class="token function">removeTaskList</span><span class="token punctuation">(</span>TaskList taskList<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword keyword-return">return</span> taskLists<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span>taskList<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword keyword-public">public</span> List<span class="token operator">&lt;</span>TaskList<span class="token operator">&gt;</span> <span class="token function">getTaskLists</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword keyword-return">return</span> <span class="token keyword keyword-new">new</span> <span class="token class-name">ArrayList</span><span class="token operator">&lt;</span><span class="token operator">&gt;</span><span class="token punctuation">(</span>taskLists<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword keyword-public">public</span> String <span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword keyword-return">return</span> name<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword keyword-public">public</span> String <span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword keyword-return">return</span> <span class="token string">"Board{"</span> <span class="token operator">+</span> <span class="token string">"\n"</span> <span class="token operator">+</span>
                <span class="token string">"name='"</span> <span class="token operator">+</span> name <span class="token operator">+</span> <span class="token string">'\''</span> <span class="token operator">+</span> <span class="token string">",\n"</span> <span class="token operator">+</span>
                <span class="token string">"taskLists="</span> <span class="token operator">+</span> taskLists <span class="token operator">+</span> <span class="token string">"\n"</span> <span class="token operator">+</span>
                <span class="token string">'}'</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code><div class="toolbar"></div></pre>

<p>Aby przygotować tę klasę, utwórz pustą klasę i zdefiniuj jej pola. Następnie wygeneruj konstruktor (oznacz jego atrybuty jako <code class=" language-java"><span class="token keyword keyword-final">final</span></code>), wygeneruj gettery. Zmodyfikuj getter <code class=" language-java"><span class="token function">getTaskLists</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> pobierający kolekcję list zadań w taki sposób, że zamiast zwracać wprost listę <code class=" language-java">taskLists</code>, utworzy jej kopię (przy pomocy operatora <code class=" language-java"><span class="token keyword keyword-new">new</span></code>) i zwróci tę kopię (czyli inaczej mówiąc: będzie zwracał nową kolekcję utworzoną przy użyciu konstruktora kopiującego <code class=" language-java"><span class="token keyword keyword-new">new</span> <span class="token class-name">ArrayList</span><span class="token operator">&lt;</span><span class="token operator">&gt;</span><span class="token punctuation">(</span>taskLists<span class="token punctuation">)</span></code>). Wygeneruj metodę <code class=" language-java"><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> w oparciu o wszystkie pola klasy oraz dopisz metody <code class=" language-java"><span class="token function">addTaskList</span><span class="token punctuation">(</span>TaskList taskList<span class="token punctuation">)</span></code> i <code class=" language-java"><span class="token function">removeTaskList</span><span class="token punctuation">(</span>TaskList taskList<span class="token punctuation">)</span></code>.</p>
<p>Hierarchia naszych klas została przygotowana. Nadszedł czas na przygotowanie danych testowych.</p>
<h3 id="76-wykorzystanie-stream-na-roznych-kolekcjach-przygotowanie-danych-testowych">Przygotowanie danych testowych</h3>
<p>W katalogu <i>src/test/java</i> utwórz pakiet <code class=" language-java">com<span class="token punctuation">.</span>kodilla<span class="token punctuation">.</span>stream<span class="token punctuation">.</span>portfolio</code>, a w nim zestaw testów <code class=" language-java">BoardTestSuite</code> z przypadkiem testowym <code class=" language-java"><span class="token function">testAddTaskList</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> oraz metodą <code class=" language-java"><span class="token function">prepareTestData</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code>:</p>

<pre class="line-numbers language-java code-toolbar"><code class=" language-java"><span class="token keyword keyword-package">package</span> com<span class="token punctuation">.</span>kodilla<span class="token punctuation">.</span>stream<span class="token punctuation">.</span>portfolio<span class="token punctuation">;</span>

<span class="token keyword keyword-import">import</span> org<span class="token punctuation">.</span>junit<span class="token punctuation">.</span>Assert<span class="token punctuation">;</span>
<span class="token keyword keyword-import">import</span> org<span class="token punctuation">.</span>junit<span class="token punctuation">.</span>Test<span class="token punctuation">;</span>
<span class="token keyword keyword-import">import</span> java<span class="token punctuation">.</span>time<span class="token punctuation">.</span>LocalDate<span class="token punctuation">;</span>

<span class="token keyword keyword-public">public</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">BoardTestSuite</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-public">public</span> Board <span class="token function">prepareTestData</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment" spellcheck="true">//users</span>
            User user1 <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token string">"developer1"</span><span class="token punctuation">,</span> <span class="token string">"John Smith"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            User user2 <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token string">"projectmanager1"</span><span class="token punctuation">,</span> <span class="token string">"Nina White"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            User user3 <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token string">"developer2"</span><span class="token punctuation">,</span> <span class="token string">"Emilia Stephanson"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            User user4 <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token string">"developer3"</span><span class="token punctuation">,</span> <span class="token string">"Konrad Bridge"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment" spellcheck="true">//tasks</span>
            Task task1 <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token class-name">Task</span><span class="token punctuation">(</span><span class="token string">"Microservice for taking temperature"</span><span class="token punctuation">,</span>
                    <span class="token string">"Write and test the microservice taking\n"</span> <span class="token operator">+</span>
                   <span class="token string">"the temperaure from external service"</span><span class="token punctuation">,</span>
                    user1<span class="token punctuation">,</span>
                    user2<span class="token punctuation">,</span>
                    LocalDate<span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">minusDays</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                    LocalDate<span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">plusDays</span><span class="token punctuation">(</span><span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            Task task2 <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token class-name">Task</span><span class="token punctuation">(</span><span class="token string">"HQLs for analysis"</span><span class="token punctuation">,</span>
                    <span class="token string">"Prepare some HQL queries for analysis"</span><span class="token punctuation">,</span>
                    user1<span class="token punctuation">,</span>
                    user2<span class="token punctuation">,</span>
                    LocalDate<span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">minusDays</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                    LocalDate<span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">minusDays</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            Task task3 <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token class-name">Task</span><span class="token punctuation">(</span><span class="token string">"Temperatures entity"</span><span class="token punctuation">,</span>
                    <span class="token string">"Prepare entity for temperatures"</span><span class="token punctuation">,</span>
                    user3<span class="token punctuation">,</span>
                    user2<span class="token punctuation">,</span>
                    LocalDate<span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">minusDays</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                    LocalDate<span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">plusDays</span><span class="token punctuation">(</span><span class="token number">15</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            Task task4 <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token class-name">Task</span><span class="token punctuation">(</span><span class="token string">"Own logger"</span><span class="token punctuation">,</span>
                    <span class="token string">"Refactor company logger to meet our needs"</span><span class="token punctuation">,</span>
                    user3<span class="token punctuation">,</span>
                    user2<span class="token punctuation">,</span>
                    LocalDate<span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">minusDays</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                    LocalDate<span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">plusDays</span><span class="token punctuation">(</span><span class="token number">25</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            Task task5 <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token class-name">Task</span><span class="token punctuation">(</span><span class="token string">"Optimize searching"</span><span class="token punctuation">,</span>
                    <span class="token string">"Archive data searching has to be optimized"</span><span class="token punctuation">,</span>
                    user4<span class="token punctuation">,</span>
                    user2<span class="token punctuation">,</span>
                    LocalDate<span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                    LocalDate<span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">plusDays</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            Task task6 <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token class-name">Task</span><span class="token punctuation">(</span><span class="token string">"Use Streams"</span><span class="token punctuation">,</span>
                    <span class="token string">"use Streams rather than for-loops in predictions"</span><span class="token punctuation">,</span>
                    user4<span class="token punctuation">,</span>
                    user2<span class="token punctuation">,</span>
                    LocalDate<span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">minusDays</span><span class="token punctuation">(</span><span class="token number">15</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                    LocalDate<span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">minusDays</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment" spellcheck="true">//taskLists</span>
            TaskList taskListToDo <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token class-name">TaskList</span><span class="token punctuation">(</span><span class="token string">"To do"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            taskListToDo<span class="token punctuation">.</span><span class="token function">addTask</span><span class="token punctuation">(</span>task1<span class="token punctuation">)</span><span class="token punctuation">;</span>
            taskListToDo<span class="token punctuation">.</span><span class="token function">addTask</span><span class="token punctuation">(</span>task3<span class="token punctuation">)</span><span class="token punctuation">;</span>
            TaskList taskListInProgress <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token class-name">TaskList</span><span class="token punctuation">(</span><span class="token string">"In progress"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            taskListInProgress<span class="token punctuation">.</span><span class="token function">addTask</span><span class="token punctuation">(</span>task5<span class="token punctuation">)</span><span class="token punctuation">;</span>
            taskListInProgress<span class="token punctuation">.</span><span class="token function">addTask</span><span class="token punctuation">(</span>task4<span class="token punctuation">)</span><span class="token punctuation">;</span>
            taskListInProgress<span class="token punctuation">.</span><span class="token function">addTask</span><span class="token punctuation">(</span>task2<span class="token punctuation">)</span><span class="token punctuation">;</span>
            TaskList taskListDone <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token class-name">TaskList</span><span class="token punctuation">(</span><span class="token string">"Done"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            taskListDone<span class="token punctuation">.</span><span class="token function">addTask</span><span class="token punctuation">(</span>task6<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment" spellcheck="true">//board</span>
            Board project <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token class-name">Board</span><span class="token punctuation">(</span><span class="token string">"Project Weather Prediction"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            project<span class="token punctuation">.</span><span class="token function">addTaskList</span><span class="token punctuation">(</span>taskListToDo<span class="token punctuation">)</span><span class="token punctuation">;</span>
            project<span class="token punctuation">.</span><span class="token function">addTaskList</span><span class="token punctuation">(</span>taskListInProgress<span class="token punctuation">)</span><span class="token punctuation">;</span>
            project<span class="token punctuation">.</span><span class="token function">addTaskList</span><span class="token punctuation">(</span>taskListDone<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword keyword-return">return</span> project<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-void">void</span> <span class="token function">testAddTaskList</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment" spellcheck="true">//Given</span>
            Board project <span class="token operator">=</span> <span class="token function">prepareTestData</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment" spellcheck="true">//When</span>

            <span class="token comment" spellcheck="true">//Then</span>
            Assert<span class="token punctuation">.</span><span class="token function">assertEquals</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> project<span class="token punctuation">.</span><span class="token function">getTaskLists</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code><div class="toolbar"></div></pre>

<p>Aby przekonać się czy wszystko jest poprawnie wprowadzone, możesz uruchomić test - sprawdza czy w tablicy <code class=" language-java">project</code> typu <code class=" language-java">Board</code> zostały zdefiniowane trzy listy zadań.</p>
<h3 id="76-wykorzystanie-stream-na-roznych-kolekcjach-przyklady-zastosowania-stream">Przykłady zastosowania Stream</h3>
<p>W oparciu o przygotowane dane testowe zrealizujemy teraz kilka zadań. Wszystkie przykłady będziemy realizowali jako testy tablicy <code class=" language-java">Board</code>.</p>
<h4>Przykład nr 1 - wyszukiwanie zadań użytkownika</h4>
<p>Naszym zadaniem będzie napisanie testu wyszukującego zadania przypisane do użytkownika <i>"developer1</i>" znajdujące się na wszystkich listach zadań.</p>
<p>W zestawie testów <code class=" language-java">BoardTestSuite</code> w pakiecie <code class=" language-java">com<span class="token punctuation">.</span>kodilla<span class="token punctuation">.</span>stream<span class="token punctuation">.</span>portfolio</code> w katalogu <i>src/test/java</i> utwórz przypadek testowy <code class=" language-java"><span class="token function">testAddTaskListFindUsersTasks</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code>:</p>

<pre class="line-numbers language-java code-toolbar"><code class=" language-java"><span class="token annotation punctuation">@Test</span>
<span class="token keyword keyword-public">public</span> <span class="token keyword keyword-void">void</span> <span class="token function">testAddTaskListFindUsersTasks</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment" spellcheck="true">//Given</span>
    Board project <span class="token operator">=</span> <span class="token function">prepareTestData</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment" spellcheck="true">//When</span>
    User user <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token string">"developer1"</span><span class="token punctuation">,</span> <span class="token string">"John Smith"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    List<span class="token operator">&lt;</span>Task<span class="token operator">&gt;</span> tasks <span class="token operator">=</span> project<span class="token punctuation">.</span><span class="token function">getTaskLists</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">flatMap</span><span class="token punctuation">(</span>l <span class="token operator">-</span><span class="token operator">&gt;</span> l<span class="token punctuation">.</span><span class="token function">getTasks</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span>t <span class="token operator">-</span><span class="token operator">&gt;</span> t<span class="token punctuation">.</span><span class="token function">getAssignedUser</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>user<span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">collect</span><span class="token punctuation">(</span><span class="token function">toList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment" spellcheck="true">//Then</span>
    Assert<span class="token punctuation">.</span><span class="token function">assertEquals</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> tasks<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    Assert<span class="token punctuation">.</span><span class="token function">assertEquals</span><span class="token punctuation">(</span>user<span class="token punctuation">,</span> tasks<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getAssignedUser</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    Assert<span class="token punctuation">.</span><span class="token function">assertEquals</span><span class="token punctuation">(</span>user<span class="token punctuation">,</span> tasks<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getAssignedUser</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code><div class="toolbar"></div></pre>

<p>Przeanalizujemy jego kod:</p>
<ul>
	<li>W linii nr 6 tworzymy obiekt klasy <code class=" language-java">User</code>, który będzie posiadał pole <code class=" language-java">username</code> wypełnione tekstem "<i>developer1</i>" - metoda <code class=" language-java"><span class="token function">equals</span><span class="token punctuation">(</span>Object o<span class="token punctuation">)</span></code> porównuje właśnie to pole, więc taki użytkownik testowy jest nam potrzebny, aby go odnaleźć w zadaniach</li>
	<li>W linii nr 7 uruchamiamy strumień na kolekcji <code class=" language-java"><span class="token function">getTaskLists</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> obiektu <code class=" language-java">Board</code>. Wynik działania strumienia, po jego zakończeniu, zostanie przypisany do kolekcji <code class=" language-java">tasks</code>, będącej listą zadań typu <code class=" language-java">Task</code></li>
	<li>W linii nr 8 spłaszczamy strumień - na wejściu mamy strumień list zadań, chcemy uzyskać strumień zadań (a nie list zadań), wobec czego do strumienia wyjściowego przekazujemy listy zadań z poszczególnych list, spłaszczając strumień przy pomocy <code class=" language-java"><span class="token function">flatMap</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></li>
	<li>W linii nr 9 filtrujemy strumień (w strumieniu wejściowym są zadania typu <code class=" language-java">Task</code>) przy pomocy wyrażenia lambda <code class=" language-java">t <span class="token operator">-</span><span class="token operator">&gt;</span> t<span class="token punctuation">.</span><span class="token function">getAssignedUser</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>user<span class="token punctuation">)</span></code>, zwracającego <code class=" language-java"><span class="token boolean">true</span></code> lub <code class=" language-java"><span class="token boolean">false</span></code> w zależności od tego czy użytkownicy są sobie równie (w sensie równości pola <code class=" language-java">username</code> - bo tak sprawdza to metoda <code class=" language-java"><span class="token function">equals</span><span class="token punctuation">(</span>Object o<span class="token punctuation">)</span></code>, klasy <code class=" language-java">User</code>). Do strumienia wyjściowego trafią więc tylko te zadania, które mają przypisanego użytkownika "<i>developer1</i>"</li>
	<li>W linii nr 10 tworzymy kolekcję wynikową przy pomocy kolektora <code class=" language-java"><span class="token function">collect</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code>, kolekcja ta przypisywana jest do zmiennej <code class=" language-java">tasks</code></li>
	<li>Asercja w linii nr 12 sprawdza czy znaleziono dokładnie dwa takie zadania</li>
	<li>Asercje w liniach nr 13 i 14 sprawdzają czy na pewno w obu tych zadaniach przypisanym użytkownikiem jest "<i>developer1</i>".</li>
</ul>
<h4>Przykład nr 2 - wyszukiwanie przeterminowanych zadań</h4>
<p>Do realizacji tego zadania wykorzystamy wiedzę, że przeterminowane zadania mogą być jedynie na listach "<i>ToDo</i>" oraz "<i>InProgress</i>". Będziemy porównywali datę <code class=" language-java"><span class="token function">getDeadline</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> z aktualną datą systemową.</p>
<p>Utwórz w zestawie testów <code class=" language-java">BoardTestSuite</code> w pakiecie <code class=" language-java">com<span class="token punctuation">.</span>kodilla<span class="token punctuation">.</span>stream<span class="token punctuation">.</span>portfolio</code> w katalogu <i>src/test/java</i> przypadek testowy <code class=" language-java"><span class="token function">testAddTaskListFindOutdatedTasks</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code>:</p>

<pre class="line-numbers language-java code-toolbar"><code class=" language-java"><span class="token annotation punctuation">@Test</span>
<span class="token keyword keyword-public">public</span> <span class="token keyword keyword-void">void</span> <span class="token function">testAddTaskListFindOutdatedTasks</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment" spellcheck="true">//Given</span>
    Board project <span class="token operator">=</span> <span class="token function">prepareTestData</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment" spellcheck="true">//When</span>
    List<span class="token operator">&lt;</span>TaskList<span class="token operator">&gt;</span> undoneTasks <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token class-name">ArrayList</span><span class="token operator">&lt;</span><span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    undoneTasks<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword keyword-new">new</span> <span class="token class-name">TaskList</span><span class="token punctuation">(</span><span class="token string">"To do"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    undoneTasks<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword keyword-new">new</span> <span class="token class-name">TaskList</span><span class="token punctuation">(</span><span class="token string">"In progress"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    List<span class="token operator">&lt;</span>Task<span class="token operator">&gt;</span> tasks <span class="token operator">=</span> project<span class="token punctuation">.</span><span class="token function">getTaskLists</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span>undoneTasks<span class="token operator">:</span><span class="token operator">:</span>contains<span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">flatMap</span><span class="token punctuation">(</span>tl <span class="token operator">-</span><span class="token operator">&gt;</span> tl<span class="token punctuation">.</span><span class="token function">getTasks</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span>t <span class="token operator">-</span><span class="token operator">&gt;</span> t<span class="token punctuation">.</span><span class="token function">getDeadline</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">isBefore</span><span class="token punctuation">(</span>LocalDate<span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">collect</span><span class="token punctuation">(</span><span class="token function">toList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment" spellcheck="true">//Then</span>
    Assert<span class="token punctuation">.</span><span class="token function">assertEquals</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> tasks<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    Assert<span class="token punctuation">.</span><span class="token function">assertEquals</span><span class="token punctuation">(</span><span class="token string">"HQLs for analysis"</span><span class="token punctuation">,</span> tasks<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getTitle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code><div class="toolbar"></div></pre>

<p>Dokonajmy analiz powyższego kodu:</p>
<ul>
	<li>W liniach od 7 do 9 tworzymy roboczą listę "list zadań" o nazwie <code class=" language-java">undoneTasks</code> - przypisujemy do niej dwie puste listy zadań o nazwach zgodnych z nazwami list, w których przechowujemy niewykonane zadania. Metoda <code class=" language-java"><span class="token function">equals</span><span class="token punctuation">(</span>Object o<span class="token punctuation">)</span></code> klasy <code class=" language-java">TaskList</code> porównuje właśnie nazwy list aby stwierdzić czy to ta sama lista.</li>
	<li>W linii nr 10 tworzymy i uruchamiamy strumień na kolekcji <code class=" language-java"><span class="token function">getTaskLists</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> klasy <code class=" language-java">Board</code>. Po zakończeniu działania strumienia, jego kolekcja wynikowa zostanie przypisana do zmiennej <code class=" language-java">tasks</code>.</li>
	<li>W linii nr 11 dokonujemy odfiltrowania tylko tych list zadań, które zawierają niewykonane zadania. Wiemy, że są to listy "To Do" oraz "In Progress". Mamy takie listy zapisane w kolekcji <code class=" language-java">undoneTasks</code>. Wskazujemy więc referencję do metody <code class=" language-java">undoneTasks<span class="token operator">:</span><span class="token operator">:</span>contains</code> - jako parametr zostanie przekazana każda kolejna lista zadań zwracana przez metodę <code class=" language-java">getTaskLists</code> klasy <code class=" language-java">Board</code>. Do strumienia wyjściowego trafią jedynie te listy, które zapisane są w roboczej liście <code class=" language-java">undoneTasks</code>.</li>
	<li>W linii nr 12 dokonujemy spłaszczenia strumienia w taki sposób, że do strumienia wyjściowego trafią już konkretne zadania z lista zadań, zamiast obiektów reprezentujących te listy.</li>
	<li>W linii 13 sprawdzamy dla każdego zadania czy jego data pobrana metodą <code class=" language-java"><span class="token function">getDeadline</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> nie jest wcześniejsza niż bieżąca data systemowa. Do tego celu wykorzystujemy metodę <code class=" language-java"><span class="token function">isBefore</span><span class="token punctuation">(</span>LocalDate date<span class="token punctuation">)</span></code> klasy <code class=" language-java">LocalDate</code> - zwraca ona <code class=" language-java"><span class="token boolean">true</span></code> gdy data zapisana w obiekcie, którego metodę wywołujemy jest wcześniejsza niż data zapisana w obiekcie podanym jako argument. Do strumienia wyjściowego trafią jedynie te zadania, których data realizacji upłynęła.</li>
	<li>W linii nr 14 generujemy kolekcję wynikową przy pomocy kolektora <code class=" language-java"><span class="token function">collect</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> - kolekcja ta zawiera przeterminowane zadania i jest wstawiana do zmiennej <code class=" language-java">tasks</code>.</li>
	<li>Asercja w linii nr 17 sprawdza czy znaleziono dokładnie jedno przeterminowane zadanie.</li>
	<li>Asercja w linii nr 18 porównuje, czy znalezione zadanie jest rzeczywiście tym przeterminowanym</li>
</ul>
<h4>Przykład nr 3 - obliczanie ilości zadań wykonywanych co najmniej od 10 dni</h4>
<p>Wykorzystamy tu wiedzę, że zadania wykonywane zapisane są w liście zadań "In Progress". Będziemy porównywali datę <code class=" language-java"><span class="token function">getCreated</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> z bieżącą datą systemową. Utwórz w zestawie testów <code class=" language-java">BoardTestSuite</code> w pakiecie <code class=" language-java">com<span class="token punctuation">.</span>kodilla<span class="token punctuation">.</span>stream<span class="token punctuation">.</span>portfolio</code> w katalogu <i>src/test/java</i> przypadek testowy <code class=" language-java"><span class="token function">testAddTaskListFindLongTasks</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></p>

<pre class="line-numbers language-java code-toolbar"><code class=" language-java"><span class="token annotation punctuation">@Test</span>
<span class="token keyword keyword-public">public</span> <span class="token keyword keyword-void">void</span> <span class="token function">testAddTaskListFindLongTasks</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment" spellcheck="true">//Given</span>
    Board project <span class="token operator">=</span> <span class="token function">prepareTestData</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment" spellcheck="true">//When</span>
    List<span class="token operator">&lt;</span>TaskList<span class="token operator">&gt;</span> inProgressTasks <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token class-name">ArrayList</span><span class="token operator">&lt;</span><span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    inProgressTasks<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword keyword-new">new</span> <span class="token class-name">TaskList</span><span class="token punctuation">(</span><span class="token string">"In progress"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-long">long</span> longTasks <span class="token operator">=</span> project<span class="token punctuation">.</span><span class="token function">getTaskLists</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span>inProgressTasks<span class="token operator">:</span><span class="token operator">:</span>contains<span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">flatMap</span><span class="token punctuation">(</span>tl <span class="token operator">-</span><span class="token operator">&gt;</span> tl<span class="token punctuation">.</span><span class="token function">getTasks</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>t <span class="token operator">-</span><span class="token operator">&gt;</span> t<span class="token punctuation">.</span><span class="token function">getCreated</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span>d <span class="token operator">-</span><span class="token operator">&gt;</span> d<span class="token punctuation">.</span><span class="token function">compareTo</span><span class="token punctuation">(</span>LocalDate<span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">minusDays</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">&lt;=</span> <span class="token number">0</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">count</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment" spellcheck="true">//Then</span>
    Assert<span class="token punctuation">.</span><span class="token function">assertEquals</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> longTasks<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code><div class="toolbar"></div></pre>

<p>Poniżej przedstawiono analizę kodu:</p>
<ul>
	<li>W liniach nr 7 i 8 tworzona jest robocza lista <code class=" language-java">inProgressTasks</code>, zawierająca listy zadań, które są w trakcie realizacji (tu: jedna lista o nazwie "In Progress").</li>
	<li>W linii 9 uruchamiany jest strumień na kolekcji <code class=" language-java"><span class="token function">getTaskLists</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> klasy <code class=" language-java">Board</code>. Wynik jego realizacji będzie po wykonaniu przypisany do skalarnej zmiennej <code class=" language-java">longTasks</code> typu <code class=" language-java"><span class="token keyword keyword-long">long</span></code>.</li>
	<li>W linii nr 10 odfiltrowywana jest lista zawierająca zadania w trakcie realizacji.</li>
	<li>W linii nr 11 dokonujemy spłaszczenia strumienia - z list zadań przechodzimy na konkretne zadania zawarte w listach.</li>
	<li>W linii nr 12 wykonujemy transformację strumienia - z wejściowego strumienia zadań, przekształcamy go w strumień dat typu <code class=" language-java">LocalDate</code> mówiących o tym, kiedy zadanie zostało utworzone.</li>
	<li>W linii nr 13 wykorzystujemy metodę <code class=" language-java"><span class="token function">compareTo</span><span class="token punctuation">(</span>LocalDate date<span class="token punctuation">)</span></code> klasy <code class=" language-java">LocalDate<span class="token punctuation">,</span></code> aby sprawdzić czy różnica pomiędzy datą utworzenia zadania, a bieżącą datą systemową (pomniejszoną o 10 dni przy pomocy metody <code class=" language-java"><span class="token function">minusDays</span><span class="token punctuation">(</span><span class="token keyword keyword-long">long</span> days<span class="token punctuation">)</span></code> jest mniejsza od zera, równa zeru lub większa od zera (metoda <code class=" language-java"><span class="token function">compareTo</span><span class="token punctuation">(</span>LocalDate date<span class="token punctuation">)</span></code> zwraca wartości: -1 gdy data jest mniejsza, 0 gdy daty są równelub 1 gdy data jest większa). Do strumienia wyjściowego trafią tylko te daty, które są starsze (lub równe) niż 10 dni wcześniej - przed bieżącą datą.</li>
	<li>W linii nr 14 zliczamy ilość elementów w strumieniu przy pomocy kolektora skalarnego <code class=" language-java"><span class="token function">count</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code>, który zwraca ilość elementów w strumieniu.</li>
	<li>Asercja w linii nr 17 sprawdza czy znaleziono dokładnie dwa takie zadania</li>
</ul>
                        </div>
                    </div>
                                        <div class="card-block task-card">
                        <h3 id="76-wykorzystanie-stream-na-roznych-kolekcjach-zadanie-srednia-ilosc-dni-realizacji-zadania">Zadanie: <span class="task-title">średnia ilość dni realizacji zadania</span></h3>
                        <div class="task-content">
                            <p>Celem zadania jest obliczenie średniej ilości dni, jaka upłynęła od zlecenia wykonania zadania do dnia bieżącego w liście zadań, które są aktualnie w trakcie realizacji. Do jego wykonania można użyć dwóch strumieni - jeden aby obliczyć sumę, a drugi aby obliczyć ilość elementów. Lub wersja trudna (z gwiazdką :) ) - należy wykorzystać kolektor skalarny <code class=" language-java"><span class="token function">average</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code>.</p>
<p>Aby zrealizować zadanie:</p>
<ol>
	<li>Stwórz nowy przypadek testowy <code class=" language-java"><span class="token function">testAddTaskListAverageWorkingOnTask</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></li>
	<li>Utwórz wymagane zmienne pomocnicze, a następnie uruchom strumień na kolekcji <code class=" language-java">getTaskLists</code> klasy <code class=" language-java">Board</code></li>
	<li>Napisz sekwencję funkcji obliczającą średni czas wykonywania zadania z listy “In Progress”</li>
	<li>Napisz asercje sprawdzające otrzymany wynik</li>
	<li>Prześlij kod do repozytorium <code class=" language-java">GitHub</code></li>
</ol>
<p>Link do repozytorium wklej poniżej i wyślij do mentora.</p>
                        </div>
                    </div>
                                        <div class="card-block submodule-footer clearfix ">
                                                <div class="clearfix">
                                                                                <a href="https://kodilla.com/pl/bootcamp-task/146/249436" target="_blank" class="btn btn-info-outline">Podgląd zadania</a>
                            <form target="_blank" class="form-inline project-link-form">
                                <div class="form-group">
                                    <input type="text" name="link" class="form-control" value="">
                                </div>
                                <button type="submit" class="btn  btn-success-outline ">Wyslij link <i class="fa fa-check"></i></button>
                            </form>
                                                                                                    </div>
                    </div>
                </section>
                                    
                <section id="submodule-466" class="card submodule " data-bootcamp-user-submodule-id="249437">
                <!-- klasy dla section: completed current comments -->
                    <div class="card-block submodule-header clearfix">
                        <i class="fa fa-check-circle-o fa-2x"></i>
                        <i class="fa fa-play-circle-o fa-2x"></i>
                        <i class="fa fa-exclamation-circle fa-2x"></i>
                        <i class="fa fa-send-o fa-2x"></i>
                        <h2 class="bootcamp-submodule-name">7.7. <span>Dodatkowy projekt do portfolio</span></h2>
                                            </div>
                    <div class="card-block">
                        <div class="submodule-content">
                            <p>Poniżej znajdziesz zadanie, w ramach którego wykonasz projekt od początku do końca. </p>

<p>Jest to jedno z zadań dodatkowych z zakresu Programu Pierwsza Praca. Dzięki niemu będziesz mieć dodatkowy projekt w swoim portfolio.</p>

<p>Nie musisz ukończyć tego zadania w tym tygodniu, ale postaraj się wykonać je w ciągu trzech tygodni i nie zostawiaj go na ostatnią chwilę. Warto na bieżąco stosować zdobywaną wiedzę, aby utrwalać i lepiej rozumieć zagadnienia których się uczysz.</p>

                        </div>
                    </div>
                                        <div class="card-block task-card">
                        <h3 id="77-dodatkowy-projekt-do-portfolio-zadanie-gra-w-papier-kamien-nozyce">Zadanie: <span class="task-title">Gra w papier, kamień, nożyce</span></h3>
                        <div class="task-content">
                            <p>Zapewne znasz zasady tej gry, ale na wszelki wypadek je przypomnimy:</p>

<h4>Zasady gry</h4>
<ul>
	<li>jest to gra dla dwóch graczy, </li>

	<li>runda gry polega na <em>równoczesnym*</em> zagraniu przez obu graczy jednego z ruchów, tj. kamienia, papieru lub nożyc, </li>

	<li>remis następuje w przypadku zagrania tego samego ruchu przez obu graczy, </li>

	<li>
		zwycięstwo następuje w przypadku wykonania ruchu bijącego przeciwnika, wedle schematu:

		<ul>
			<li>kamień <em>zgniata</em> nożyce, </li>

			<li>nożyce <em>tną </em>papier, </li>

			<li>papier <em>przykrywa</em> kamień, </li>

			<li>po zakończeniu rundy rozpoczyna się kolejną, aż do osiągnięcia ustalonej liczby wygranych rund przez jednego z graczy. </li>
		</ul>
	</li>
</ul>

<p><strong>*</strong> w naszym przypadku zagranie nie będzie równoczesne, ponieważ człowiek będzie jako pierwszy wybierał swój ruch. </p>

<a href="./Moduł_ 7. Stream, czyli funkcyjna iteracja po kolekcjach_files/kodilla-bootcamp-13-11-2017-1510580910-7168.png" class="img-modal-group"><img src="./Moduł_ 7. Stream, czyli funkcyjna iteracja po kolekcjach_files/kodilla-bootcamp-13-11-2017-1510580910-7168.png" alt=""></a>

<h4>Obsługa gry</h4>
<p>Twoim zadaniem jest napisanie tej gry w Javie. Ma ona być obsługiwana za pomocą klawiatury:</p>

<ul>
	<li>w momencie uruchomienia programu, użytkownik powinien zostać zapytany o imię oraz liczbę wygranych rund po których następuje zwycięstwo, </li>

	<li>
		następnie powinna zostać wyświetlona informacja dot. klawiszy służących do obsługi gry:

		<ul>
			<li>klawisz <strong>1</strong> - zagranie "kamień",</li>

			<li>klawisz <strong>2</strong> - zagranie "papier",</li>

			<li>klawisz <strong>3</strong> - zagranie "nożyce",</li>

			<li>klawisz <strong>x</strong> - zakończenie gry, poprzedzone pytaniem "Czy na pewno zakończyć grę?",</li>

			<li>klawisz <strong>n</strong> - uruchomienie gry od nowa, poprzedzone pytaniem "Czy na pewno zakończyć aktualną grę?",</li>
		</ul>
	</li>

	<li>
		po tej informacji rozpoczyna się pierwsza runda, czyli:

		<ul>
			<li>wyświetlony jest komunikat z prośbą o wykonanie ruchu, </li>

			<li>po wciśnięciu klawisza 1-3 zostaje wylosowany ruch komputera, </li>

			<li>wyświetla się komunikat o wykonanych ruchach graczy, wyniku rundy i bieżącym wyniku gry (liczby wygranych rund), </li>

			<li>rozpoczyna się kolejna runda, </li>
		</ul>
	</li>

	<li>po osiągnięciu podanej na początku liczby wygranych przez któregoś z graczy (użytkownika lub komputer), wyświetla się komunikat podsumowujący grę (wynik i kto wygrał) oraz wybór pomiędzy zakończeniem gry (klawisz <strong>x</strong>) i rozpoczęciem nowej gry (klawisz <strong>n</strong>). </li>
</ul>

<h4>Jak się do tego zabrać?</h4>

<p>Utwórz sobie w projekcie <strong>kodilla-course</strong> nowy moduł (typu <strong>Gradle -&gt; Java</strong>) o nazwie <strong>kodilla-rps</strong> (<em>rps</em> to skrót od <em>rock-paper-scissors</em>). Utwórz w nim strukturę katalogów <em>src/main/java</em> oraz <em>src/test/java</em>. Stwórz pakiet <strong>com.kodilla.rps</strong>, a w nim klasę <code class=" language-java">RpsRunner</code> zawierającą metodę <code class=" language-java"><span class="token function">main</span><span class="token punctuation">(</span>String<span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span></code>.</p>

<p>Do odczytu danych z klawiatury możesz skorzystać z klasy <code class=" language-java">Scanner</code>, której dokumentację możesz znaleźć <a href="https://docs.oracle.com/javase/8/docs/api/java/util/Scanner.html" target="_blank">tutaj</a>.</p>

<p>Do wykonania programu użyj pętli <code class=" language-java"><span class="token keyword keyword-while">while</span><span class="token punctuation">(</span><span class="token operator">!</span>end<span class="token punctuation">)</span></code>, gdzie zmienna <code class=" language-java"><span class="token keyword keyword-boolean">boolean</span></code> <code class=" language-java">end</code> inicjalnie ustawiona będzie na wartość <code class=" language-java"><span class="token boolean">false</span></code>. </p>

<p>Pamiętaj aby zastosować podejście obiektowe - gra powinna być obiektem posiadającym metody oraz właściwości.</p>

<h4>Opcjonalne rozszerzenia zadania - tylko dla chętnych</h4>

<p>Jeśli masz ochotę rozwinąć nieco to zadanie, mamy dla Ciebie parę pomysłów. </p>

<p>Po pierwsze, nigdzie nie napisaliśmy, że Twój program ma grać uczciwie. Przy idealnie losowej grze są równe szanse na remis, wygraną i przegraną. Zmień kod programu tak, aby szanse na remis i przegraną komputera wynosiły po 25%, a szanse na wygraną - 50%. </p>

<p>Drugą opcją na rozszerzenie gry jest dodanie większej ilości możliwych ruchów - np. jaszczurkę i Spocka. Wtedy oprócz standardowych zasad dochodzą kolejne: </p>

<ul>
	<li>kamień <em>zgniata</em> jaszczurkę, </li>

	<li>jaszczurka <em>zatruwa</em> Spocka,</li>

	<li>Spock <em>łamie</em> nożyce,</li>

	<li>nożyce <em>ranią</em> jaszczurkę, </li>

	<li>jaszczurka <em>zjada</em> papier,</li>

	<li>papier <em>udowadnia błąd</em> Spocka,</li>

	<li>Spock <em>kruszy</em> kamień. </li>
</ul>

<a href="./Moduł_ 7. Stream, czyli funkcyjna iteracja po kolekcjach_files/kodilla-bootcamp-13-11-2017-1510580912-5039.png" class="img-modal-group"><img src="./Moduł_ 7. Stream, czyli funkcyjna iteracja po kolekcjach_files/kodilla-bootcamp-13-11-2017-1510580912-5039.png" alt=""></a>

<p>Możesz wybrać jeden z tych pomysłów, lub znaleźć własny. Im bardziej oryginalny projekt będziesz mieć w swoim portfolio, tym lepiej!</p>

                        </div>
                    </div>
                                        <div class="card-block submodule-footer clearfix ">
                                                <div class="clearfix">
                                                                                <a href="https://kodilla.com/pl/bootcamp-task/146/249437" target="_blank" class="btn btn-info-outline">Podgląd zadania</a>
                            <form target="_blank" class="form-inline project-link-form">
                                <div class="form-group">
                                    <input type="text" name="link" class="form-control" value="">
                                </div>
                                <button type="submit" class="btn  btn-success-outline ">Wyslij link <i class="fa fa-check"></i></button>
                            </form>
                                                                                                    </div>
                    </div>
                </section>
                            </main>
        </div>
    </section>
</main>

<script type="text/x-translation" data-translation-name="SentBootcampLinkReviewFormMessage">Wysłano link do zatwierdzenia</script>
    <div id="alerts">
    <div class="alert alert-danger" role="alert" style="display: none;">
        <i class="fa fa-exclamation" aria-hidden="true"></i>
        <button type="button" class="close" data-hide="alert" aria-label="Zamknij">
            <span aria-hidden="true">×</span>
            <span class="sr-only">Zamknij</span>
        </button>
        <ul>
                </ul>
    </div>
    <div class="alert alert-success" role="alert" style="display: none;">
        <i class="fa fa-check" aria-hidden="true"></i>
        <button type="button" class="close" data-hide="alert" aria-label="Zamknij">
            <span aria-hidden="true">×</span>
            <span class="sr-only">Zamknij</span>
        </button>
        <ul>
                </ul>
    </div>
    <div class="alert alert-warning" role="alert" style="display: none;">
        <i class="fa fa-warning" aria-hidden="true"></i>
        <button type="button" class="close" data-hide="alert" aria-label="Zamknij">
            <span aria-hidden="true">×</span>
            <span class="sr-only">Zamknij</span>
        </button>
        <ul>
                </ul>
    </div>
    <div class="alert alert-info" role="alert" style="display: none;">
        <i class="fa fa-info" aria-hidden="true"></i>
        <button type="button" class="close" data-hide="alert" aria-label="Zamknij">
            <span aria-hidden="true">×</span>
            <span class="sr-only">Zamknij</span>
        </button>
        <ul>
                        </ul>
    </div>
</div>    <div class="modal fade informator-modal" id="informator" tabindex="-1" role="dialog" aria-labelledby="informatorModalLabel" aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <img src="./Moduł_ 7. Stream, czyli funkcyjna iteracja po kolekcjach_files/logo-menu.png" alt="Logo Kodilla" class="brand-logo">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <i class="fa fa-times" aria-hidden="true"></i>
                </button>
            </div>
            <div class="modal-body content-container">
                <h3>Zamów szczegółowy informator</h3>
                <h3 data-role="modal-informator-message" class="display-none">Informator został wysłany na podany adres email.</h3>
                <h4>Zostaw email i wyślemy Ci go</h4>
                <form class="row js-ajax-form" data-view-class="InformatorForm" action="https://kodilla.com/pl/download-guide" method="post">
                    <input type="hidden" name="ga-pobieranie-informatora-z-modala" value="wypelnienie">
                    <input type="hidden" name="tags[0]" value="informator">
                                        <div class="user-data-container">
                        <input type="text" class="form-control" name="firstname" placeholder="Imię">
                        <input type="text" class="form-control" name="surname" placeholder="Nazwisko">
                    </div>
                    <div class="user-data-container">
                        <input type="email" class="form-control" name="email" placeholder="Email" required="">
                        <input type="text" class="form-control" name="phone" placeholder="Numer telefonu">
                    </div>
                    <div class="terms-box">
                        <label>
                            <input data-custom-message="Prosimy o zaakceptowanie regulaminu" type="checkbox" class="form-control input-checkbox" required="">
                            <span>Akceptuję <a target="_blank" href="https://kodilla.com/pl/terms">regulamin</a>  i nie wnoszę zastrzeżeń</span>
                        </label>
                    </div>
                    <div class="personal-terms-box">
                        <label>
                            <input data-custom-message="Jeśli chcesz otrzymać dostęp do materiałów, konieczna jest akceptacja obydwu zgód" type="checkbox" class="form-control input-checkbox" required="">
                            <span>Chcę otrzymywać newsletter, informacje o promocjach i produktach dostępnych w Kodilla.
                                <span class="details-button" data-action="show-details" data-identifier="personal-terms-details-informator">Czytaj więcej</span>
                                <span class="display-none" data-identifier="personal-terms-details-informator">Wyrażam zgodę na otrzymywanie informacji handlowych od Kodilla na podany przeze mnie adres e-mail. Zgoda jest dobrowolna, jednakże niezbędna do otrzymywania informacji o produktach, promocjach i o tym, co u nas słychać. Administratorem danych jest Codemy S.A. z siedzibą we Wrocławiu, ul. Racławicka 13. Mam prawo cofnąć zgodę w każdym czasie, jednak wtedy nie będę otrzymywać informacji. Dane mogą być przetwarzane pomimo cofnięcia zgody wyłącznie w takim zakresie i celu, w jakim ich przetwarzanie jest niezbędne do ustalenia, dochodzenia lub obrony roszczeń Administratora w związku z udzieloną zgodą. Mam prawo dostępu do danych, sprostowania, usunięcia, ograniczenia przetwarzania, prawo wniesienia sprzeciwu, skargi do organu nadzorczego i przeniesienia danych. Szczegółowe informacje znajdują się na stronie kodilla.com, zakładka "Polityka Prywatności".</span>
                            </span>
                        </label>
                    </div>
                    <div class="">
                        <button type="submit" class="btn btn-primary">
                            Pobierz Informator
                            <i data-role="loading-icon" class="fa fa-spinner fa-spin fa-1x fa-fw display-none"></i>
                        </button>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <p>Pobranie informatora do niczego nie zobowiązuje</p>
            </div>
        </div>
    </div>
</div>
<footer class="site-footer">
                <section class="footer-lower">
            <nav class="container">
                <a class="navbar-img" href="https://kodilla.com/pl">
                    <svg id="kodilla-logo" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 168 29.553" width="168" height="30">
                        <defs>
                            <style>
                                .footer-logo-fill {
                                    fill: #fff;
                                }
                            </style>
                        </defs>
                        <g id="Group_1" data-name="Group 1" transform="translate(23.59)">
                            <path id="KODILLA_copy_5_1_" class="footer-logo-fill" d="M78.058,0a14.758,14.758,0,1,0,.075,0Zm0,23.739a8.939,8.939,0,0,1-8.944-8.907V14.8c0-4.957,4.584-.708,8.907-.708,4.919,0,9.019-4.211,9.019.708a8.978,8.978,0,0,1-8.981,8.944Z" transform="translate(-63.3)"></path>
                            <ellipse id="eye_copy_4_1_" class="footer-logo-fill" cx="3.876" cy="3.876" rx="3.876" ry="3.876" transform="translate(9.462 13.2) rotate(-28.436)"></ellipse>
                        </g>
                        <path id="Path_1" data-name="Path 1" class="footer-logo-fill" d="M0,29.819V.9H6.671V13.347L17.255.9h7.491L13.938,13.794,25.491,29.819h-7.6l-8.2-11.665-3.019,3.13v8.5H0Z" transform="translate(0 -0.565)"></path>
                        <path id="Path_2" data-name="Path 2" class="footer-logo-fill" d="M151.4,29.819V.9h10.807a15.515,15.515,0,0,1,6.261,1.155,12.966,12.966,0,0,1,4.509,3.093A12.918,12.918,0,0,1,175.7,9.732a17.245,17.245,0,0,1,.932,5.59,16.821,16.821,0,0,1-1.006,5.963,12.227,12.227,0,0,1-2.907,4.547,13.484,13.484,0,0,1-4.547,2.944,15.964,15.964,0,0,1-5.925,1.043Zm18.41-14.5a11.274,11.274,0,0,0-.522-3.466,7.723,7.723,0,0,0-1.491-2.72,6.616,6.616,0,0,0-2.385-1.752,8.055,8.055,0,0,0-3.205-.6h-4.1v17.18h4.1a7.985,7.985,0,0,0,3.242-.634,6.8,6.8,0,0,0,2.385-1.826,8.286,8.286,0,0,0,1.453-2.72A11.634,11.634,0,0,0,169.81,15.322Z" transform="translate(-94.978 -0.565)"></path>
                        <path id="Path_3" data-name="Path 3" class="footer-logo-fill" d="M228.3,29.819V.9h6.671V29.819Z" transform="translate(-143.219 -0.565)"></path>
                        <path id="Path_4" data-name="Path 4" class="footer-logo-fill" d="M259.9,29.819V.9h6.671V23.968h14.012v5.851Z" transform="translate(-163.043 -0.565)"></path>
                        <path id="Path_5" data-name="Path 5" class="footer-logo-fill" d="M327.371,23.931V.9H320.7V29.819h18.522l2.124-5.851H327.371Z" transform="translate(-201.185 -0.565)"></path>
                        <path id="Path_6" data-name="Path 6" class="footer-logo-fill" d="M388.547.9h6.037L405.13,29.819h-6.857l-2.236-6.484h-9.019l-2.2,6.484H378Zm6.373,17.851L391.528,8.54l-3.466,10.211Z" transform="translate(-237.13 -0.565)"></path>
                    </svg>
                </a>
                <ul class="nav">
                    <li>
                        <a href="https://kodilla.com/pl/terms">Regulamin</a>
                    </li>
                    <li>
                        <a href="https://kodilla.com/pl/privacy-policy">Polityka prywatności</a>
                    </li>
                    <li class="nav-item nav-item-last">© 2018 Kodilla</li>
                </ul>
            </nav>
        </section>
    </footer>

    <!-- Google Tag Manager (noscript) -->
    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-KN2WWBH" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <!-- End Google Tag Manager (noscript) -->

    <script src="./Moduł_ 7. Stream, czyli funkcyjna iteracja po kolekcjach_files/jquery-2.1.4.min.js.pobrane"></script>
<script src="./Moduł_ 7. Stream, czyli funkcyjna iteracja po kolekcjach_files/js.cookie-2.1.0.min.js.pobrane"></script>
<script src="./Moduł_ 7. Stream, czyli funkcyjna iteracja po kolekcjach_files/jquery-dateFormat.min.js.pobrane"></script>
<script src="./Moduł_ 7. Stream, czyli funkcyjna iteracja po kolekcjach_files/bootstrap.min.js.pobrane"></script>
<script src="./Moduł_ 7. Stream, czyli funkcyjna iteracja po kolekcjach_files/informator-modal.js.pobrane"></script>
<script src="./Moduł_ 7. Stream, czyli funkcyjna iteracja po kolekcjach_files/fb.js.pobrane"></script>
<script>
    if (document.querySelector('main.editor')) {
        document.querySelector('body').classList.add('editor');
    }
</script>

<!-- ActiveCampaign -->
<script type="text/javascript">
    // Set to false if opt-in required
    var trackByDefault = true;

    function acEnableTracking() {
        var expiration = new Date(new Date().getTime() + 1000 * 60 * 60 * 24 * 30);
        document.cookie = "ac_enable_tracking=1; expires= " + expiration + "; path=/";
        acTrackVisit();
    }

    function acTrackVisit() {
        var trackcmp_email = 't_socha@wp.pl';
        var trackcmp = document.createElement("script");
        trackcmp.async = true;
        trackcmp.type = 'text/javascript';
        trackcmp.src = '//trackcmp.net/visit?actid=649095895&e='+encodeURIComponent(trackcmp_email)+'&r='+encodeURIComponent(document.referrer)+'&u='+encodeURIComponent(window.location.href);
        var trackcmp_s = document.getElementsByTagName("script");
        if (trackcmp_s.length) {
            trackcmp_s[0].parentNode.appendChild(trackcmp);
        } else {
            var trackcmp_h = document.getElementsByTagName("head");
            trackcmp_h.length && trackcmp_h[0].appendChild(trackcmp);
        }
    }

    if (trackByDefault || /(^|; )ac_enable_tracking=([^;]+)/.test(document.cookie)) {
        acEnableTracking();
    }
</script>

        <script src="./Moduł_ 7. Stream, czyli funkcyjna iteracja po kolekcjach_files/underscore-min.js.pobrane"></script>
<script src="./Moduł_ 7. Stream, czyli funkcyjna iteracja po kolekcjach_files/backbone-min.js.pobrane"></script>
<script src="./Moduł_ 7. Stream, czyli funkcyjna iteracja po kolekcjach_files/backbone-relational.min.js.pobrane"></script>
<script src="./Moduł_ 7. Stream, czyli funkcyjna iteracja po kolekcjach_files/backbone-super.min.js.pobrane"></script>
<script src="./Moduł_ 7. Stream, czyli funkcyjna iteracja po kolekcjach_files/handlebars-v4.0.5.min.js.pobrane"></script>
<script src="./Moduł_ 7. Stream, czyli funkcyjna iteracja po kolekcjach_files/handlebars-ifCond.js.pobrane"></script>
<script src="./Moduł_ 7. Stream, czyli funkcyjna iteracja po kolekcjach_files/application.js.pobrane"></script>
<script src="./Moduł_ 7. Stream, czyli funkcyjna iteracja po kolekcjach_files/main.js.pobrane"></script>
<script src="./Moduł_ 7. Stream, czyli funkcyjna iteracja po kolekcjach_files/tracking-activities.js.pobrane"></script>
<script src="./Moduł_ 7. Stream, czyli funkcyjna iteracja po kolekcjach_files/notifications.js.pobrane"></script>
<script src="./Moduł_ 7. Stream, czyli funkcyjna iteracja po kolekcjach_files/settings.js.pobrane"></script>
<script src="./Moduł_ 7. Stream, czyli funkcyjna iteracja po kolekcjach_files/delete-account.js.pobrane"></script>
<script type="text/x-translation" data-translation-name="checkAccountDeleteCalculationMessage">Wynik jest nieprawidłowy</script>
<script src="./Moduł_ 7. Stream, czyli funkcyjna iteracja po kolekcjach_files/forms.js.pobrane"></script>
<script src="./Moduł_ 7. Stream, czyli funkcyjna iteracja po kolekcjach_files/alerts.js.pobrane"></script>
<script src="./Moduł_ 7. Stream, czyli funkcyjna iteracja po kolekcjach_files/inpage-alerts.js.pobrane"></script>
<script src="./Moduł_ 7. Stream, czyli funkcyjna iteracja po kolekcjach_files/collections.js.pobrane"></script>
<script src="./Moduł_ 7. Stream, czyli funkcyjna iteracja po kolekcjach_files/models.js.pobrane"></script>
<script src="./Moduł_ 7. Stream, czyli funkcyjna iteracja po kolekcjach_files/knowledge-base.js.pobrane"></script>
<script src="./Moduł_ 7. Stream, czyli funkcyjna iteracja po kolekcjach_files/learning-program.js.pobrane"></script>

    <script src="./Moduł_ 7. Stream, czyli funkcyjna iteracja po kolekcjach_files/tether.min.js.pobrane"></script>
    <script src="./Moduł_ 7. Stream, czyli funkcyjna iteracja po kolekcjach_files/prism.min.js.pobrane"></script>

    <script src="./Moduł_ 7. Stream, czyli funkcyjna iteracja po kolekcjach_files/bootcamp.js.pobrane"></script>
    <script src="./Moduł_ 7. Stream, czyli funkcyjna iteracja po kolekcjach_files/jquery.seourl.min.js.pobrane"></script>
    <script src="./Moduł_ 7. Stream, czyli funkcyjna iteracja po kolekcjach_files/perfect-scrollbar.jquery.min.js.pobrane"></script>
    <script src="./Moduł_ 7. Stream, czyli funkcyjna iteracja po kolekcjach_files/jquery.fancybox.min.js.pobrane"></script>
    <script type="text/javascript">
        $(document).ready(function() {
            $("a.img-modal-group").fancybox();
        });
    </script>

                    <div class="modal fade" tabindex="-1" role="dialog" id="call-us-modal">
    <div class="modal-dialog modal-dialog-callus" role="document">
        <div class="modal-content call-modal">
            <div id="call-us-step1">
                <h2>Umów się na rozmowę z doradcą Kodilli</h2>
                <p>Krok <span>1/2:</span> Podaj numer telefonu</p>
                <form action="https://kodilla.com/pl/call-us/step1" method="post" id="call-us-form1">
                    <input type="tel" name="phone" id="call-us-input-phone" placeholder="737690577">
                    <button class="btn btn-success" id="call-us-submit-phone">Zarezerwuj rozmowę</button>
                </form>
                <p id="call-us-counter-holder" style="display: none;">Dzisiaj już  <span id="call-counter" data-url="https://kodilla.com/pl/call-us/counter">-</span> <span id="call-us-counter-text" data-one=" osoba zamówiła rozmowę z nami." data-few=" osoby zamówiły rozmowę z nami." data-more=" osób zamówiło rozmowę z nami."></span></p>
                <div class="data-protection">
                    <p>Twój numer telefonu nie będzie wykorzystywany w celach marketingowych ani przekazany dalej. Tylko oddzwonimy. Dane są przetwarzane zgodnie z <a href="https://kodilla.com/pl/polityka-prywatnosci">Polityką Prywatności</a>.</p>
                </div>
            </div>

            <div id="call-us-step2" style="display: none;">
                <h2>Wybierz dogodny termin i godzinę na rozmowę z doradcą</h2>
                <p>Krok <span>2/2:</span>
                </p><form action="https://kodilla.com/pl/call-us/step2" method="post" id="call-us-form2">
                    <div class="select-date">
                        <select name="date" id="call-us-input-date">
                        </select>
                        <select name="time" id="call-us-input-time">
                        </select>
                    </div>
                    <button class="btn btn-success" id="call-us-submit-call">Oddzwońcie do mnie!</button>
                </form>
            </div>

            <div id="call-us-step3" style="display: none;">
                <div class="thanks">
                    <i class="fa fa-check-circle" aria-hidden="true"></i>
                    <h2>Dziękujemy za zamowienie rozmowy! Do usłyszenia w wybranym terminie!</h2>
                </div>
            </div>
        </div>
    </div>
</div>



        <script src="./Moduł_ 7. Stream, czyli funkcyjna iteracja po kolekcjach_files/widget.js.pobrane"></script>
    <script type="text/javascript">
        window.fcSettings = {
            token: '99d7ec3c-0f50-4c9a-9f5e-b741bd6a1aa7',
            host: 'https://wchat.freshchat.com',
            locale: 'pl',
            tags: ["logged_in","bc_user","status_aktywny","jdp","jdp_2018-10","ppp","jdp_2018-10_aktywny_ppp"],
            faqTags: {
                tags: ["support"],
                filterType: 'category'
            },
            config: {
                content: {"placeholders":{"search_field":"Przeszukaj FAQ","reply_field":"Odpowiedz","csat_reply":"Wpisz swoj\u0105 odpowied\u017a"},"actions":{"csat_yes":"Tak","csat_no":"Nie","push_notify_yes":"Tak","push_notify_no":"Nie","tab_faq":"FAQ","tab_chat":"CHAT","csat_submit":"Wy\u015blij"},"headers":{"chat":"Napisz do nas","chat_help":"Witaj! W czy mo\u017cemy Ci pom\u00f3c?!","faq":"Baza wiedzy","faq_help":"Przegl\u0105daj FAQ","faq_not_available":"Brak artyku\u0142\u00f3w","faq_search_not_available":"Brak artyku\u0142\u00f3w dla frazy {{query}}","faq_useful":"Jak oceniasz przydatno\u015b\u0107?","faq_thankyou":"Dzi\u0119kujemy za Twoj\u0105 opini\u0119!","faq_message_us":"Napisz do nas!","push_notification":"Nie przegap \u017cadnej odpowiedzi! Zezwalasz na powiadomienia?","csat_question":"Czy uzyska\u0142e\u015b potrzebn\u0105 pomoc?","csat_yes_question":"Jak oceniasz nasze wsparcie?","csat_no_question":"Co mogliby\u015bmy ulepszy\u0107?","csat_thankyou":"Dzi\u0119kujemy Ci za informacje!","csat_rate_here":"Oce\u0144","channel_response":{"offline":"Aktualnie jeste\u015bmy nieobecni","online":{"minutes":{"one":"Odpowiadamy w mniej ni\u017c minut\u0119","more":"Odpowiadamy w mniej ni\u017c {{time}} minut(y)"},"hours":{"one":"Odpowiadamy w mniej ni\u017c godzin\u0119","more":"Odpowiadamy w mniej ni\u017c {{time}} godzin(y)"}}}}}
            }
        };
                    window.fcSettings.lastName = 'Socha';
            window.fcSettings.firstName = 'Tymoteusz';
            window.fcSettings.email = 't_socha@wp.pl';
            window.fcSettings.externalId = 't_socha@wp.pl';
                document.getElementsByTagName('body')[0].classList.add('freshchat-enabled');
        window.fcWidget.init( window.fcSettings );
        window.fcWidget.on('widget:closed', function (){
            $('body').addClass('notification-content--visible');
        });
    </script><div id="fc_frame" class="fc-widget-normal"><iframe id="fc_widget" name="fc_widget" title="Chat" frameborder="0" src="./Moduł_ 7. Stream, czyli funkcyjna iteracja po kolekcjach_files/saved_resource.html"></iframe></div>
    <div data-role="notifications-wrapper" class="notifications-wrapper"></div>



<script type="text/javascript" id="">!function(b,e,f,g,a,c,d){b.fbq||(a=b.fbq=function(){a.callMethod?a.callMethod.apply(a,arguments):a.queue.push(arguments)},b._fbq||(b._fbq=a),a.push=a,a.loaded=!0,a.version="2.0",a.queue=[],c=e.createElement(f),c.async=!0,c.src=g,d=e.getElementsByTagName(f)[0],d.parentNode.insertBefore(c,d))}(window,document,"script","https://connect.facebook.net/en_US/fbevents.js");fbq("init","389137334769464");fbq("track","PageView");</script>
<noscript><img height="1" width="1" style="display:none" src="https://www.facebook.com/tr?id=389137334769464&amp;ev=PageView&amp;noscript=1"></noscript>

<div id="fc_push_frame"><iframe id="fc_push" src="./Moduł_ 7. Stream, czyli funkcyjna iteracja po kolekcjach_files/index.html" frameborder="0"></iframe></div></body></html>