<!DOCTYPE html>
<!-- saved from url=(0050)https://kodilla.com/pl/bootcamp-module/146/86/3774 -->
<html lang="pl" class=""><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
        
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <meta name="csrf-token" content="M0sQld5c537zrF0RflAzRGLMn13qr7lUhyqLgg3k">

        <link rel="apple-touch-icon" type="image/png" sizes="60x60" href="https://kodilla.com/static/img/icons/apple-touch-icon-60x60.png?00000">
        <link rel="apple-touch-icon" type="image/png" sizes="76x76" href="https://kodilla.com/static/img/icons/apple-touch-icon-76x76.png?00000">
        <link rel="apple-touch-icon" type="image/png" sizes="120x120" href="https://kodilla.com/static/img/icons/apple-touch-icon-120x120.png?00000">
        <link rel="apple-touch-icon" type="image/png" sizes="152x152" href="https://kodilla.com/static/img/icons/apple-touch-icon-152x152.png?00000">
        <link rel="icon" type="image/png" sizes="32x32" href="https://kodilla.com/static/img/icons/favicon-32x32.png?00000">
        <link rel="icon" type="image/png" sizes="96x96" href="https://kodilla.com/static/img/icons/favicon-96x96.png?00000">
        <link rel="icon" type="image/png" sizes="16x16" href="https://kodilla.com/static/img/icons/favicon-16x16.png?00000">

        
        <link rel="canonical" href="https://kodilla.com/pl/bootcamp-module/146/86/3774">
        <title>    Moduł: 15. Wzorce projektowe cz. 1
</title>
                        <meta name="robots" content="noindex, follow">
        
        <link href="./Moduł_ 15. Wzorce projektowe cz. 1_files/bootstrap.min.css" rel="stylesheet">
        <link href="./Moduł_ 15. Wzorce projektowe cz. 1_files/font-awesome.min.css" rel="stylesheet">
        <link href="./Moduł_ 15. Wzorce projektowe cz. 1_files/main-3ee90aa85c.css" rel="stylesheet" type="text/css">

                
    <link href="./Moduł_ 15. Wzorce projektowe cz. 1_files/prism.min.css" rel="stylesheet">

    <link href="./Moduł_ 15. Wzorce projektowe cz. 1_files/bootcamp-ffa4181f24.css" rel="stylesheet" type="text/css">
    <link rel="stylesheet" href="./Moduł_ 15. Wzorce projektowe cz. 1_files/perfect-scrollbar.css">
    <link rel="stylesheet" href="./Moduł_ 15. Wzorce projektowe cz. 1_files/jquery.fancybox.min.css" type="text/css" media="screen">
        <script type="text/javascript" async="" src="./Moduł_ 15. Wzorce projektowe cz. 1_files/js"></script><script type="text/javascript" async="" src="./Moduł_ 15. Wzorce projektowe cz. 1_files/analytics.js.pobrane"></script><script type="text/javascript" async="" src="./Moduł_ 15. Wzorce projektowe cz. 1_files/analytics.js.pobrane"></script><script id="facebook-jssdk" src="./Moduł_ 15. Wzorce projektowe cz. 1_files/sdk.js.pobrane"></script><script async="" src="./Moduł_ 15. Wzorce projektowe cz. 1_files/gtm.js.pobrane"></script><script async="" src="./Moduł_ 15. Wzorce projektowe cz. 1_files/fbevents.js.pobrane"></script><script>
            window.environment = 'production';
            window.loggedIn = true;
            window.domain = 'https://kodilla.com';
                        window.fbAppId = 1449248938627896;
            window.chatService = 'FreshChat';
            window.useMessenger = window.chatService === 'Messenger';
            window.locale = 'pl';
            window.lang = 'pl';

            window.serverUTC       = 1548785004000;
            window.serverOffset    = 60;
            window.userDate        = new Date();
            window.userUTC         = userDate.getTime();
            window.userOffset      = userDate.getTimezoneOffset() * (-1);
            window.userClockDiff   = userUTC - serverUTC;
            window.diffRounded     = Math.round( userClockDiff / ( 1000 * 60 * 15 ) );
            window.isDifferentZone = ( userOffset - serverOffset !== 0 ) ? 1 : 0;
            window.hasWrongTime    = ( diffRounded !== 0 ) ? 1 : 0;
            window.dateTooltipText = 'Data i godzina są podane dla Twojej strefy czasowej GMT. <br>W razie wątpliwości napisz: <u>support@kodilla.com</u>.';
            window.wrongHourNotice = 'Godzina na Twoim urządzeniu r&oacute;żni się od godziny obowiązującej w strefie czasowej wybranej w ustawieniach Twojego urządzenia.';

            var moment = undefined,
            momentReady = function( method, method2, count ){
                var c = ( count ) ? count : 0;

                if      ( isDifferentZone && moment !== undefined ){
                    if      ( method ) { method(); }
                    else    { return false; }
                }
                else if ( isDifferentZone && moment === undefined ) {
                    if ( c < 20 ) {
                        c++;
                        setTimeout( function() { momentReady( method, method2, c ); }
                            , 300 );
                    } else {
                        if      ( method2 === true && method )  { method(); }
                        else if ( method2 !== true && method2 ) { method2(); }
                    }
                }
                else {
                    if      ( method2 === true && method )  { method(); }
                    else if ( method2 !== true && method2 ) { method2(); }
                    else    { return false; }
                }
            };

            if ( window.isDifferentZone && moment === undefined ) {
                var script = document.createElement("script");
                script.type = "text/javascript";
                script.src = '/static/js/libs/moment.timezone.locales.min.js?v=2.22.2';
                document.getElementsByTagName("head")[0].appendChild(script);
            }
        </script>

        <!-- Facebook Pixel Code -->
        <script>
            !function(f,b,e,v,n,t,s)
            {if(f.fbq)return;n=f.fbq=function(){n.callMethod?
                n.callMethod.apply(n,arguments):n.queue.push(arguments)};
                if(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';
                n.queue=[];t=b.createElement(e);t.async=!0;
                t.src=v;s=b.getElementsByTagName(e)[0];
                s.parentNode.insertBefore(t,s)}(window, document,'script',
                'https://connect.facebook.net/en_US/fbevents.js');
            fbq('init', 389137334769464 );
            fbq('track', 'PageView');
        </script>
        <!-- End Facebook Pixel Code -->

        <!-- Google Tag Manager -->
        <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
            })(window,document,'script','dataLayer','GTM-KN2WWBH');</script>
        <!-- End Google Tag Manager -->
<script async="" type="text/javascript" src="./Moduł_ 15. Wzorce projektowe cz. 1_files/visit"></script><link href="./Moduł_ 15. Wzorce projektowe cz. 1_files/widget.css" rel="stylesheet"><style type="text/css">.fancybox-margin{margin-right:15px;}</style><style type="text/css">.fb_hidden{position:absolute;top:-10000px;z-index:10001}.fb_reposition{overflow:hidden;position:relative}.fb_invisible{display:none}.fb_reset{background:none;border:0;border-spacing:0;color:#000;cursor:auto;direction:ltr;font-family:"lucida grande", tahoma, verdana, arial, sans-serif;font-size:11px;font-style:normal;font-variant:normal;font-weight:normal;letter-spacing:normal;line-height:1;margin:0;overflow:visible;padding:0;text-align:left;text-decoration:none;text-indent:0;text-shadow:none;text-transform:none;visibility:visible;white-space:normal;word-spacing:normal}.fb_reset>div{overflow:hidden}@keyframes fb_transform{from{opacity:0;transform:scale(.95)}to{opacity:1;transform:scale(1)}}.fb_animate{animation:fb_transform .3s forwards}
.fb_dialog{background:rgba(82, 82, 82, .7);position:absolute;top:-10000px;z-index:10001}.fb_dialog_advanced{border-radius:8px;padding:10px}.fb_dialog_content{background:#fff;color:#373737}.fb_dialog_close_icon{background:url(https://static.xx.fbcdn.net/rsrc.php/v3/yq/r/IE9JII6Z1Ys.png) no-repeat scroll 0 0 transparent;cursor:pointer;display:block;height:15px;position:absolute;right:18px;top:17px;width:15px}.fb_dialog_mobile .fb_dialog_close_icon{left:5px;right:auto;top:5px}.fb_dialog_padding{background-color:transparent;position:absolute;width:1px;z-index:-1}.fb_dialog_close_icon:hover{background:url(https://static.xx.fbcdn.net/rsrc.php/v3/yq/r/IE9JII6Z1Ys.png) no-repeat scroll 0 -15px transparent}.fb_dialog_close_icon:active{background:url(https://static.xx.fbcdn.net/rsrc.php/v3/yq/r/IE9JII6Z1Ys.png) no-repeat scroll 0 -30px transparent}.fb_dialog_iframe{line-height:0}.fb_dialog_content .dialog_title{background:#6d84b4;border:1px solid #365899;color:#fff;font-size:14px;font-weight:bold;margin:0}.fb_dialog_content .dialog_title>span{background:url(https://static.xx.fbcdn.net/rsrc.php/v3/yd/r/Cou7n-nqK52.gif) no-repeat 5px 50%;float:left;padding:5px 0 7px 26px}body.fb_hidden{height:100%;left:0;margin:0;overflow:visible;position:absolute;top:-10000px;transform:none;width:100%}.fb_dialog.fb_dialog_mobile.loading{background:url(https://static.xx.fbcdn.net/rsrc.php/v3/ya/r/3rhSv5V8j3o.gif) white no-repeat 50% 50%;min-height:100%;min-width:100%;overflow:hidden;position:absolute;top:0;z-index:10001}.fb_dialog.fb_dialog_mobile.loading.centered{background:none;height:auto;min-height:initial;min-width:initial;width:auto}.fb_dialog.fb_dialog_mobile.loading.centered #fb_dialog_loader_spinner{width:100%}.fb_dialog.fb_dialog_mobile.loading.centered .fb_dialog_content{background:none}.loading.centered #fb_dialog_loader_close{clear:both;color:#fff;display:block;font-size:18px;padding-top:20px}#fb-root #fb_dialog_ipad_overlay{background:rgba(0, 0, 0, .4);bottom:0;left:0;min-height:100%;position:absolute;right:0;top:0;width:100%;z-index:10000}#fb-root #fb_dialog_ipad_overlay.hidden{display:none}.fb_dialog.fb_dialog_mobile.loading iframe{visibility:hidden}.fb_dialog_mobile .fb_dialog_iframe{position:sticky;top:0}.fb_dialog_content .dialog_header{background:linear-gradient(from(#738aba), to(#2c4987));border-bottom:1px solid;border-color:#1d3c78;box-shadow:white 0 1px 1px -1px inset;color:#fff;font:bold 14px Helvetica, sans-serif;text-overflow:ellipsis;text-shadow:rgba(0, 30, 84, .296875) 0 -1px 0;vertical-align:middle;white-space:nowrap}.fb_dialog_content .dialog_header table{height:43px;width:100%}.fb_dialog_content .dialog_header td.header_left{font-size:12px;padding-left:5px;vertical-align:middle;width:60px}.fb_dialog_content .dialog_header td.header_right{font-size:12px;padding-right:5px;vertical-align:middle;width:60px}.fb_dialog_content .touchable_button{background:linear-gradient(from(#4267B2), to(#2a4887));background-clip:padding-box;border:1px solid #29487d;border-radius:3px;display:inline-block;line-height:18px;margin-top:3px;max-width:85px;padding:4px 12px;position:relative}.fb_dialog_content .dialog_header .touchable_button input{background:none;border:none;color:#fff;font:bold 12px Helvetica, sans-serif;margin:2px -12px;padding:2px 6px 3px 6px;text-shadow:rgba(0, 30, 84, .296875) 0 -1px 0}.fb_dialog_content .dialog_header .header_center{color:#fff;font-size:16px;font-weight:bold;line-height:18px;text-align:center;vertical-align:middle}.fb_dialog_content .dialog_content{background:url(https://static.xx.fbcdn.net/rsrc.php/v3/y9/r/jKEcVPZFk-2.gif) no-repeat 50% 50%;border:1px solid #4a4a4a;border-bottom:0;border-top:0;height:150px}.fb_dialog_content .dialog_footer{background:#f5f6f7;border:1px solid #4a4a4a;border-top-color:#ccc;height:40px}#fb_dialog_loader_close{float:left}.fb_dialog.fb_dialog_mobile .fb_dialog_close_button{text-shadow:rgba(0, 30, 84, .296875) 0 -1px 0}.fb_dialog.fb_dialog_mobile .fb_dialog_close_icon{visibility:hidden}#fb_dialog_loader_spinner{animation:rotateSpinner 1.2s linear infinite;background-color:transparent;background-image:url(https://static.xx.fbcdn.net/rsrc.php/v3/yD/r/t-wz8gw1xG1.png);background-position:50% 50%;background-repeat:no-repeat;height:24px;width:24px}@keyframes rotateSpinner{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}
.fb_iframe_widget{display:inline-block;position:relative}.fb_iframe_widget span{display:inline-block;position:relative;text-align:justify}.fb_iframe_widget iframe{position:absolute}.fb_iframe_widget_fluid_desktop,.fb_iframe_widget_fluid_desktop span,.fb_iframe_widget_fluid_desktop iframe{max-width:100%}.fb_iframe_widget_fluid_desktop iframe{min-width:220px;position:relative}.fb_iframe_widget_lift{z-index:1}.fb_iframe_widget_fluid{display:inline}.fb_iframe_widget_fluid span{width:100%}</style></head>
<body class="wrong-hour chat-enabled chat-freshchat">
<!-- Facebook Pixel Code -->
<noscript><img height="1" width="1" style="display:none" src="https://www.facebook.com/tr?id=389137334769464&ev=PageView&noscript=1"/></noscript>
<!-- End Facebook Pixel Code -->
<script>
    document.getElementsByTagName('body')[0].classList.remove('no-js');
    if ( window.isDifferentZone ) {
        document.querySelector('body').classList.add('time-conversion-applied');
    }
    if ( window.hasWrongTime ) {
        document.querySelector('body').classList.add('wrong-hour');
    }
</script>

    <nav class="navbar-main hidden-sm-down dark navbar" style="">
    <div class="nav-container">
        <div class="navbar-header clearfix">
            <button class="navbar-toggler hidden-md-up pull-right" type="button" data-toggle="collapse" data-target="#collapsingNavbarUpper"><i class="fa fa-bars"></i></button>
        </div>
        <div class="collapse navbar-toggleable-sm container" id="collapsingNavbarUpper">
            <ul class="nav navbar-nav navbar-nav-left">
                                    <li class="nav-item nav-contact">
    <span>Skontaktuj się z nami:</span>
    <a href="mailto:support@kodilla.com">
        <i class="fa fa-envelope-o"></i>
        support@kodilla.com
    </a>
    <span>lub</span>
    <a href="javascript:fcWidget.open();">
        <i class="fa fa-comments"></i>
        porozmawiaj na czacie
    </a>
</li>
                                </ul>
            <ul class="nav navbar-nav pull-right">
                <li class="nav-item">
    <a class="nav-link dropdown-toggle" href="https://kodilla.com/pl/bootcamp-module/146/86/3774#" id="navbarDropdownMenuLink" aria-haspopup="true" aria-expanded="false">
        <img class="img-no-border ico-current-lang" src="./Moduł_ 15. Wzorce projektowe cz. 1_files/ico.globe.svg">Polski
    </a>
    <div class="dropdown-menu-css">
        <div class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
                            <a class="dropdown-item" href="https://kodilla.com/pl"><img src="./Moduł_ 15. Wzorce projektowe cz. 1_files/pl.svg">Polski</a>
                            <a class="dropdown-item" href="https://kodilla.com/en"><img src="./Moduł_ 15. Wzorce projektowe cz. 1_files/en.svg">English</a>
                    </div>
    </div>
</li>
                                <li class="nav-item">
                    <a href="https://kodilla.com/pl/informator" class="nav-link" target="_blank">
        Informator
    </a>
                </li>
                <li class="nav-item hidden-sm-down">
    <a href="https://kodilla.com/pl/account" class="nav-link">Konto</a>
</li>
        <li class="nav-item">
    <a class="analytics-track nav-link nav-link-accent" data-event="account_logout" href="https://kodilla.com/pl/sign-out">Wyloguj</a>
</li>
            </ul>
        </div>
    </div>
</nav>
<nav class="navbar-main light navbar">
    <div class="container clearfix">
        <a class="navbar-brand" href="https://kodilla.com/pl">
            <svg id="kodilla-logo" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 168 29.553" width="168px" height="30px">
                <defs>
                    <style>
                        .navbar-logo-fill {
                            fill: #0dac4b;
                        }
                    </style>
                </defs>
                <g id="Group_1" data-name="Group 1" transform="translate(23.59)">
                    <path id="KODILLA_copy_5_1_" class="navbar-logo-fill" d="M78.058,0a14.758,14.758,0,1,0,.075,0Zm0,23.739a8.939,8.939,0,0,1-8.944-8.907V14.8c0-4.957,4.584-.708,8.907-.708,4.919,0,9.019-4.211,9.019.708a8.978,8.978,0,0,1-8.981,8.944Z" transform="translate(-63.3)"></path>
                    <ellipse id="eye_copy_4_1_" class="navbar-logo-fill" cx="3.876" cy="3.876" rx="3.876" ry="3.876" transform="translate(9.462 13.2) rotate(-28.436)"></ellipse>
                </g>
                <path id="Path_1" data-name="Path 1" class="navbar-logo-fill" d="M0,29.819V.9H6.671V13.347L17.255.9h7.491L13.938,13.794,25.491,29.819h-7.6l-8.2-11.665-3.019,3.13v8.5H0Z" transform="translate(0 -0.565)"></path>
                <path id="Path_2" data-name="Path 2" class="navbar-logo-fill" d="M151.4,29.819V.9h10.807a15.515,15.515,0,0,1,6.261,1.155,12.966,12.966,0,0,1,4.509,3.093A12.918,12.918,0,0,1,175.7,9.732a17.245,17.245,0,0,1,.932,5.59,16.821,16.821,0,0,1-1.006,5.963,12.227,12.227,0,0,1-2.907,4.547,13.484,13.484,0,0,1-4.547,2.944,15.964,15.964,0,0,1-5.925,1.043Zm18.41-14.5a11.274,11.274,0,0,0-.522-3.466,7.723,7.723,0,0,0-1.491-2.72,6.616,6.616,0,0,0-2.385-1.752,8.055,8.055,0,0,0-3.205-.6h-4.1v17.18h4.1a7.985,7.985,0,0,0,3.242-.634,6.8,6.8,0,0,0,2.385-1.826,8.286,8.286,0,0,0,1.453-2.72A11.634,11.634,0,0,0,169.81,15.322Z" transform="translate(-94.978 -0.565)"></path>
                <path id="Path_3" data-name="Path 3" class="navbar-logo-fill" d="M228.3,29.819V.9h6.671V29.819Z" transform="translate(-143.219 -0.565)"></path>
                <path id="Path_4" data-name="Path 4" class="navbar-logo-fill" d="M259.9,29.819V.9h6.671V23.968h14.012v5.851Z" transform="translate(-163.043 -0.565)"></path>
                <path id="Path_5" data-name="Path 5" class="navbar-logo-fill" d="M327.371,23.931V.9H320.7V29.819h18.522l2.124-5.851H327.371Z" transform="translate(-201.185 -0.565)"></path>
                <path id="Path_6" data-name="Path 6" class="navbar-logo-fill" d="M388.547.9h6.037L405.13,29.819h-6.857l-2.236-6.484h-9.019l-2.2,6.484H378Zm6.373,17.851L391.528,8.54l-3.466,10.211Z" transform="translate(-237.13 -0.565)"></path>
            </svg>
        </a>
        <button class="navbar-toggler pull-right collapsed" type="button" data-toggle="collapse" data-target="#navbar-main">
            <i class="fa fa-bars navbar-ico-open"></i>
            <i class="fa fa-times navbar-ico-close"></i>
        </button>
        <ul id="navbar-main" class="nav navbar-nav pull-right collapse">
            <li class="nav-item hidden-sm-down">
    <a class="dropdown-toggle nav-link">
        Szkolenia Bootcamp
    </a>
    <ul class="bootcamp-list">
                    <li class="list-sub list-sub-fe">
            <svg class="menu-svg" xmlns="http://www.w3.org/2000/svg" width="35" height="32" viewBox="0 0 35 32">
                <g fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round" stroke-width=".75">
                    <polyline stroke="#02AC46" points="3.382 24.574 3.382 30.736 33.743 30.736 33.743 .375 3.382 .375 3.382 18.562"></polyline>
                    <path stroke="#02AC46" d="M25.611 15.95L24.921 15.655C23.688 15.113 23.098 14.817 23.098 13.88 23.098 13.191 23.639 12.648 24.527 12.648 25.365 12.648 25.858 12.993 26.399 13.88L28.668 12.401C27.73 10.726 26.399 10.085 24.576 10.085 21.964 10.085 20.288 11.76 20.288 13.879 20.288 16.245 21.718 17.379 23.788 18.315L24.477 18.611C25.759 19.153 26.597 19.548 26.597 20.583 26.597 21.421 25.858 22.062 24.625 22.062 23.146 22.062 22.357 21.322 21.767 20.238L19.4 21.569C20.238 23.244 22.012 24.526 24.723 24.526 27.483 24.526 29.552 23.047 29.552 20.484 29.504 18.119 28.124 17.034 25.611 15.95zM17.823 20.238L17.823 10.282 14.866 10.282 14.866 20.189C14.866 21.668 14.274 22.012 13.289 22.012 12.303 22.012 11.859 21.322 11.416 20.533L9.001 22.012C9.691 23.491 11.07 24.674 13.388 24.674 16 24.575 17.823 23.244 17.823 20.238z"></path>
                    <circle cx="3.382" cy="21.568" r="3.006" stroke="#02AC46"></circle>
                </g>
            </svg>
            <a href="https://kodilla.com/pl/bootcamp/front-end">
                <h4 class="bootcamp-name">Front-end: React</h4>
                <p>Naucz się tworzyć front-end aplikacji w 4 miesiące</p>
                <span class="bootcamp-label">nowość</span>
            </a>
        </li>
                <li class="list-sub">
            <svg class="menu-svg" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 27.61 27.4"><defs><style>.stroke-grey,.cls-2{fill:none;stroke-linecap:round;stroke-linejoin:round;stroke-width:0.75px;}.stroke-grey{stroke:#e0e0e0;}.cls-2{stroke:#02ac46;}</style></defs><title>Front i Web Developer</title><line class="stroke-grey" x1="22.2" y1="3.46" x2="24.01" y2="5.31"></line><line class="stroke-grey" x1="22.2" y1="5.31" x2="24.01" y2="3.46"></line><polyline class="stroke-grey" points="0.96 26.61 0.96 0.79 26.72 0.79 26.72 26.61 0.96 26.61"></polyline><line class="stroke-grey" x1="1.22" y1="7.98" x2="26.72" y2="7.98"></line><rect class="stroke-grey" x="17.72" y="3.49" width="1.8" height="1.8"></rect><line class="stroke-grey" x1="15.03" y1="5.28" x2="13.24" y2="5.28"></line><polyline class="cls-2" points="16.86 20.13 19.8 16.75 16.86 13.37"></polyline><polyline class="cls-2" points="10.51 20.13 7.57 16.75 10.51 13.37"></polyline><line class="cls-2" x1="15.78" y1="10.43" x2="11.67" y2="22.81"></line></svg>
            <a href="https://kodilla.com/pl/bootcamp/webdeveloper?type=wdp">
                <h4 class="bootcamp-name">Web Developer</h4>
                <p>Naucz&nbsp;się tworzyć aplikacje internetowe od&nbsp;podstaw</p>
                <span class="bootcamp-label">FRONT-END i BACK-END</span>
            </a>
        </li>
        <li class="list-sub">
            <svg class="menu-svg" width="32px" height="32px" viewBox="0 0 26 26" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
                <title>menu_java_logo</title>
                <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
                    <g id="menu_java_logo">
                        <g id="svg_1" transform="translate(5.000000, 3.000000)" fill-rule="nonzero">
                            <path d="M10.1499999,0.051000042 C10.6109999,0.576000042 10.7619999,1.32700004 10.6309999,2.00400004 C10.4869999,2.76400004 10.0669999,3.43700004 9.56999987,4.01500004 C9.17299987,4.48200004 8.71599987,4.89400004 8.24099987,5.27700004 C7.68499987,5.72300004 7.14099987,6.20500004 6.79299987,6.83200004 C6.49799987,7.34200004 6.42999987,7.97100004 6.63099987,8.52500004 C6.95899987,9.47700004 7.72699987,10.184 8.14199987,11.082 C7.68099987,10.674 7.22999987,10.252 6.80899987,9.80600004 C6.36699987,9.33500004 5.94999987,8.83400004 5.67499987,8.24600004 C5.48699987,7.83400004 5.40399987,7.35200004 5.54699987,6.91700004 C5.68999987,6.47000004 6.00799987,6.11200004 6.32599987,5.77800004 C7.21499987,4.89000004 8.30899987,4.23700004 9.17699987,3.33400004 C9.65799987,2.83900004 10.0569999,2.24500004 10.1939999,1.56300004 C10.3059999,1.06200004 10.2529999,0.547000042 10.1499999,0.051000042" id="path156_2_" fill="#02AC46"></path>
                            <path d="M10.1499999,0.051000042 C10.6109999,0.576000042 10.7619999,1.32700004 10.6309999,2.00400004 C10.4869999,2.76400004 10.0669999,3.43700004 9.56999987,4.01500004 C9.17299987,4.48200004 8.71599987,4.89400004 8.24099987,5.27700004 C7.68499987,5.72300004 7.14099987,6.20500004 6.79299987,6.83200004 C6.49799987,7.34200004 6.42999987,7.97100004 6.63099987,8.52500004 C6.95899987,9.47700004 7.72699987,10.184 8.14199987,11.082 C7.68099987,10.674 7.22999987,10.252 6.80899987,9.80600004 C6.36699987,9.33500004 5.94999987,8.83400004 5.67499987,8.24600004 C5.48699987,7.83400004 5.40399987,7.35200004 5.54699987,6.91700004 C5.68999987,6.47000004 6.00799987,6.11200004 6.32599987,5.77800004 C7.21499987,4.89000004 8.30899987,4.23700004 9.17699987,3.33400004 C9.65799987,2.83900004 10.0569999,2.24500004 10.1939999,1.56300004 C10.3059999,1.06200004 10.2529999,0.547000042 10.1499999,0.051000042 Z" id="path158_2_" fill="#02AC46"></path>
                            <path d="M9.42299987,5.63900004 C10.3739999,4.93700004 11.4889999,4.49100004 12.6179999,4.16700004 C11.7239999,4.73600004 10.7929999,5.25600004 10.0209999,5.98800004 C9.74199987,6.25800004 9.47599987,6.56700004 9.35399987,6.94500004 C9.26099987,7.22400004 9.29899987,7.53400004 9.41299987,7.79900004 C9.61999987,8.27000004 9.96799987,8.65200004 10.2329999,9.08400004 C10.4589999,9.45200004 10.4979999,9.92300004 10.3249999,10.321 C10.0659999,10.904 9.55599987,11.331 9.02499987,11.67 C8.95699987,11.71 8.89799987,11.783 8.81499987,11.793 C9.16799987,11.473 9.44399987,11.022 9.43199987,10.537 C9.42199987,10.174 9.22099987,9.85500004 8.98699987,9.59500004 C8.50099987,9.01600004 8.09199987,8.28100004 8.17599987,7.50000004 C8.25999987,6.71800004 8.82099987,6.09000004 9.42299987,5.63900004" id="path160_2_" fill="#02AC46"></path>
                            <path d="M9.42299987,5.63900004 C10.3739999,4.93700004 11.4889999,4.49100004 12.6179999,4.16700004 C11.7239999,4.73600004 10.7929999,5.25600004 10.0209999,5.98800004 C9.74199987,6.25800004 9.47599987,6.56700004 9.35399987,6.94500004 C9.26099987,7.22400004 9.29899987,7.53400004 9.41299987,7.79900004 C9.61999987,8.27000004 9.96799987,8.65200004 10.2329999,9.08400004 C10.4589999,9.45200004 10.4979999,9.92300004 10.3249999,10.321 C10.0659999,10.904 9.55599987,11.331 9.02499987,11.67 C8.95699987,11.71 8.89799987,11.783 8.81499987,11.793 C9.16799987,11.473 9.44399987,11.022 9.43199987,10.537 C9.42199987,10.174 9.22099987,9.85500004 8.98699987,9.59500004 C8.50099987,9.01600004 8.09199987,8.28100004 8.17599987,7.50000004 C8.25999987,6.71800004 8.82099987,6.09000004 9.42299987,5.63900004 Z" id="path162_2_" fill="#02AC46"></path>
                            <path class="fill-grey" d="M12.7999999,11.311 C13.0049999,11.061 13.3329999,10.997 13.6329999,10.957 C14.1539999,10.889 14.7069999,11.021 15.0999999,11.379 C15.4249999,11.669 15.6059999,12.12 15.5379999,12.557 C15.4639999,13.063 15.1249999,13.485 14.7429999,13.804 C14.0519999,14.358 13.1969999,14.682 12.3439999,14.898 C12.3939999,14.844 12.4469999,14.795 12.5109999,14.755 C13.1579999,14.406 13.8009999,13.999 14.2779999,13.43 C14.5669999,13.077 14.7939999,12.616 14.6979999,12.15 C14.6009999,11.61 14.0769999,11.217 13.5419999,11.188 C13.2849999,11.164 13.0449999,11.262 12.7999999,11.311" id="path164_2_" fill="#E0E0E0"></path>
                            <path class="fill-grey" d="M12.7999999,11.311 C13.0049999,11.061 13.3329999,10.997 13.6329999,10.957 C14.1539999,10.889 14.7069999,11.021 15.0999999,11.379 C15.4249999,11.669 15.6059999,12.12 15.5379999,12.557 C15.4639999,13.063 15.1249999,13.485 14.7429999,13.804 C14.0519999,14.358 13.1969999,14.682 12.3439999,14.898 C12.3939999,14.844 12.4469999,14.795 12.5109999,14.755 C13.1579999,14.406 13.8009999,13.999 14.2779999,13.43 C14.5669999,13.077 14.7939999,12.616 14.6979999,12.15 C14.6009999,11.61 14.0769999,11.217 13.5419999,11.188 C13.2849999,11.164 13.0449999,11.262 12.7999999,11.311 Z" id="path166_2_" fill="#E0E0E0"></path>
                            <path class="fill-grey" d="M2.93699987,11.757 C3.83899987,11.37 4.82099987,11.119 5.80599987,11.134 C5.23299987,11.301 4.64399987,11.443 4.10399987,11.698 C3.97699987,11.766 3.82999987,11.83 3.75599987,11.963 C3.71599987,12.066 3.82499987,12.134 3.90299987,12.169 C4.23599987,12.307 4.60299987,12.326 4.96299987,12.36 C6.21899987,12.443 7.48099987,12.395 8.73199987,12.316 C9.96699987,12.237 11.1949999,12.07 12.4159999,11.874 C12.1459999,12.001 11.8719999,12.129 11.6209999,12.291 C11.4939999,12.379 11.3369999,12.404 11.1949999,12.438 C9.69299987,12.772 8.15199987,12.876 6.62299987,12.899 C6.02699987,12.904 5.43899987,12.894 4.84999987,12.855 C4.19399987,12.811 3.53099987,12.762 2.88899987,12.59 C2.70099987,12.536 2.50499987,12.477 2.35999987,12.344 C2.28499987,12.285 2.28499987,12.167 2.34899987,12.098 C2.50899987,11.934 2.73599987,11.856 2.93699987,11.757" id="path168_2_" fill="#E0E0E0"></path>
                            <path class="fill-grey" d="M2.93699987,11.757 C3.83899987,11.37 4.82099987,11.119 5.80599987,11.134 C5.23299987,11.301 4.64399987,11.443 4.10399987,11.698 C3.97699987,11.766 3.82999987,11.83 3.75599987,11.963 C3.71599987,12.066 3.82499987,12.134 3.90299987,12.169 C4.23599987,12.307 4.60299987,12.326 4.96299987,12.36 C6.21899987,12.443 7.48099987,12.395 8.73199987,12.316 C9.96699987,12.237 11.1949999,12.07 12.4159999,11.874 C12.1459999,12.001 11.8719999,12.129 11.6209999,12.291 C11.4939999,12.379 11.3369999,12.404 11.1949999,12.438 C9.69299987,12.772 8.15199987,12.876 6.62299987,12.899 C6.02699987,12.904 5.43899987,12.894 4.84999987,12.855 C4.19399987,12.811 3.53099987,12.762 2.88899987,12.59 C2.70099987,12.536 2.50499987,12.477 2.35999987,12.344 C2.28499987,12.285 2.28499987,12.167 2.34899987,12.098 C2.50899987,11.934 2.73599987,11.856 2.93699987,11.757 Z" id="path170_2_" fill="#E0E0E0"></path>
                            <path class="fill-grey" d="M4.09499987,13.853 C4.34999987,13.652 4.65499987,13.539 4.95699987,13.431 C4.85999987,13.549 4.72299987,13.662 4.71299987,13.824 C4.70799987,13.927 4.79099987,14.006 4.87499987,14.054 C5.03699987,14.138 5.21899987,14.167 5.39999987,14.191 C6.33999987,14.289 7.29399987,14.344 8.24499987,14.279 C9.11299987,14.235 9.97699987,14.092 10.8359999,13.941 C11.0709999,14.162 11.3509999,14.314 11.6459999,14.446 C10.6109999,14.75 9.54699987,14.927 8.47699987,15.01 C7.46599987,15.078 6.43999987,15.074 5.43499987,14.912 C5.03799987,14.838 4.62899987,14.754 4.26699987,14.568 C4.11999987,14.489 3.95299987,14.386 3.90899987,14.214 C3.87899987,14.069 3.98699987,13.936 4.09499987,13.853" id="path172_2_" fill="#E0E0E0"></path>
                            <path class="fill-grey" d="M4.09499987,13.853 C4.34999987,13.652 4.65499987,13.539 4.95699987,13.431 C4.85999987,13.549 4.72299987,13.662 4.71299987,13.824 C4.70799987,13.927 4.79099987,14.006 4.87499987,14.054 C5.03699987,14.138 5.21899987,14.167 5.39999987,14.191 C6.33999987,14.289 7.29399987,14.344 8.24499987,14.279 C9.11299987,14.235 9.97699987,14.092 10.8359999,13.941 C11.0709999,14.162 11.3509999,14.314 11.6459999,14.446 C10.6109999,14.75 9.54699987,14.927 8.47699987,15.01 C7.46599987,15.078 6.43999987,15.074 5.43499987,14.912 C5.03799987,14.838 4.62899987,14.754 4.26699987,14.568 C4.11999987,14.489 3.95299987,14.386 3.90899987,14.214 C3.87899987,14.069 3.98699987,13.936 4.09499987,13.853 Z" id="path174_2_" fill="#E0E0E0"></path>
                            <path class="fill-grey" d="M4.66499987,15.992 C4.89199987,15.81 5.17099987,15.717 5.44499987,15.638 C5.35699987,15.722 5.19999987,15.825 5.26799987,15.967 C5.40199987,16.139 5.64599987,16.159 5.84199987,16.203 C6.67099987,16.307 7.50999987,16.375 8.33899987,16.311 C8.96699987,16.272 9.58499987,16.159 10.1979999,16.051 C10.5509999,16.258 10.9209999,16.434 11.2979999,16.59 C10.7189999,16.85 10.0949999,17.018 9.47199987,17.135 C8.42299987,17.322 7.33899987,17.346 6.28299987,17.179 C5.81699987,17.096 5.34299987,16.988 4.91999987,16.757 C4.75799987,16.664 4.58699987,16.556 4.51799987,16.374 C4.46299987,16.232 4.55199987,16.08 4.66499987,15.992" id="path176_2_" fill="#E0E0E0"></path>
                            <path class="fill-grey" d="M4.66499987,15.992 C4.89199987,15.81 5.17099987,15.717 5.44499987,15.638 C5.35699987,15.722 5.19999987,15.825 5.26799987,15.967 C5.40199987,16.139 5.64599987,16.159 5.84199987,16.203 C6.67099987,16.307 7.50999987,16.375 8.33899987,16.311 C8.96699987,16.272 9.58499987,16.159 10.1979999,16.051 C10.5509999,16.258 10.9209999,16.434 11.2979999,16.59 C10.7189999,16.85 10.0949999,17.018 9.47199987,17.135 C8.42299987,17.322 7.33899987,17.346 6.28299987,17.179 C5.81699987,17.096 5.34299987,16.988 4.91999987,16.757 C4.75799987,16.664 4.58699987,16.556 4.51799987,16.374 C4.46299987,16.232 4.55199987,16.08 4.66499987,15.992 Z" id="path178_2_" fill="#E0E0E0"></path>
                            <path class="fill-grey" d="M1.94099987,17.38 C2.39299987,17.228 2.85899987,17.105 3.33499987,17.09 C3.52599987,17.085 3.72299987,17.095 3.88899987,17.194 C3.32099987,17.228 2.75099987,17.37 2.24199987,17.631 C2.12899987,17.694 2.00199987,17.768 1.95699987,17.901 C1.95699987,18.053 2.12899987,18.103 2.24199987,18.151 C2.95399987,18.416 3.71299987,18.499 4.45999987,18.578 C6.68199987,18.764 8.91999987,18.716 11.1429999,18.514 C11.9819999,18.421 12.8259999,18.328 13.6409999,18.097 C13.8999999,18.009 14.1949999,17.921 14.3659999,17.69 C14.4699999,17.553 14.4009999,17.381 14.2989999,17.263 C14.4649999,17.357 14.6989999,17.474 14.6659999,17.7 C14.6029999,17.935 14.3609999,18.058 14.1659999,18.171 C13.5379999,18.49 12.8459999,18.652 12.1589999,18.795 C10.1619999,19.187 8.11599987,19.276 6.08499987,19.217 C4.55399987,19.162 3.02199987,19.016 1.51199987,18.755 C1.24299987,18.692 0.938999866,18.638 0.740999866,18.426 C0.613999866,18.279 0.725999866,18.073 0.848999866,17.965 C1.15699987,17.68 1.55299987,17.523 1.94099987,17.38" id="path180_2_" fill="#E0E0E0"></path>
                            <path class="fill-grey" d="M1.94099987,17.38 C2.39299987,17.228 2.85899987,17.105 3.33499987,17.09 C3.52599987,17.085 3.72299987,17.095 3.88899987,17.194 C3.32099987,17.228 2.75099987,17.37 2.24199987,17.631 C2.12899987,17.694 2.00199987,17.768 1.95699987,17.901 C1.95699987,18.053 2.12899987,18.103 2.24199987,18.151 C2.95399987,18.416 3.71299987,18.499 4.45999987,18.578 C6.68199987,18.764 8.91999987,18.716 11.1429999,18.514 C11.9819999,18.421 12.8259999,18.328 13.6409999,18.097 C13.8999999,18.009 14.1949999,17.921 14.3659999,17.69 C14.4699999,17.553 14.4009999,17.381 14.2989999,17.263 C14.4649999,17.357 14.6989999,17.474 14.6659999,17.7 C14.6029999,17.935 14.3609999,18.058 14.1659999,18.171 C13.5379999,18.49 12.8459999,18.652 12.1589999,18.795 C10.1619999,19.187 8.11599987,19.276 6.08499987,19.217 C4.55399987,19.162 3.02199987,19.016 1.51199987,18.755 C1.24299987,18.692 0.938999866,18.638 0.740999866,18.426 C0.613999866,18.279 0.725999866,18.073 0.848999866,17.965 C1.15699987,17.68 1.55299987,17.523 1.94099987,17.38 Z" id="path182_2_" fill="#E0E0E0"></path>
                            <path class="fill-grey" d="M14.1699999,19.058 C14.6639999,18.886 15.1939999,18.704 15.5629999,18.312 C15.4999999,18.739 15.1309999,19.033 14.7689999,19.225 C14.0729999,19.588 13.2909999,19.755 12.5159999,19.892 C10.8779999,20.152 9.21399987,20.216 7.54999987,20.187 C6.41699987,20.152 5.27399987,20.108 4.16099987,19.873 C3.89399987,19.799 3.60999987,19.75 3.37999987,19.593 C4.37099987,19.76 5.37699987,19.829 6.38299987,19.868 C8.03599987,19.917 9.69499987,19.853 11.3379999,19.647 C12.2899999,19.514 13.2469999,19.353 14.1699999,19.058" id="path184_2_" fill="#E0E0E0"></path>
                            <path class="fill-grey" d="M14.1699999,19.058 C14.6639999,18.886 15.1939999,18.704 15.5629999,18.312 C15.4999999,18.739 15.1309999,19.033 14.7689999,19.225 C14.0729999,19.588 13.2909999,19.755 12.5159999,19.892 C10.8779999,20.152 9.21399987,20.216 7.54999987,20.187 C6.41699987,20.152 5.27399987,20.108 4.16099987,19.873 C3.89399987,19.799 3.60999987,19.75 3.37999987,19.593 C4.37099987,19.76 5.37699987,19.829 6.38299987,19.868 C8.03599987,19.917 9.69499987,19.853 11.3379999,19.647 C12.2899999,19.514 13.2469999,19.353 14.1699999,19.058 Z" id="path186_2_" fill="#E0E0E0"></path>
                        </g>
                        <path class="stroke-grey" d="M25.725,21.8309333 L25.725,4.16906671 C25.725,2.01884874 23.9812191,0.275 21.8310955,0.275 L4.16890446,0.275 C2.01878088,0.275 0.275,2.01884874 0.275,4.16906671 L0.275,21.8309333 C0.275,23.9818034 2.01842105,25.725 4.16890446,25.725 L21.8310955,25.725 C23.9815789,25.725 25.725,23.9818034 25.725,21.8309333 Z" id="svg_2" stroke="#E0E0E0" stroke-width="0.55"></path>
                    </g>
                </g>
            </svg>
            <a href="https://kodilla.com/pl/bootcamp/java?type=jdp">
                <h4 class="bootcamp-name">Java Developer</h4>
                <p>Poznaj najpopularniejszy na&nbsp;świecie język programowania od&nbsp;zera</p>
            </a>
        </li>
    </ul>
</li>

                        <li class="nav-item hidden-sm-down">
    <a class="dropdown-toggle nav-link">
        Strefa kursanta
    </a>
    <ul>
                    <li><a href="https://kodilla.com/pl/bootcamp-dashboard/146" class="nav-link">Bootcamp Java Plus 2018-10</a></li>
                    <li><a class="nav-link" href="https://kodilla.com/pl/kursy">Samodzielne kursy</a></li>
                    <li><a class="nav-link" href="https://chat.kodilla.com/" target="_blank">Komunikator</a></li>
                    <li><a class="nav-link" href="https://kodilla.com/pl/projects">Moje projekty</a></li>
    </ul>
</li>
                            <li class="nav-item hidden-sm-down">
    <a class="dropdown-toggle nav-link">
        O nas
    </a>
    <ul class="about-us">
        <li><a href="https://kodilla.com/pl/mentors" class="nav-link">Mentorzy</a></li>
        <li><a href="https://kodilla.com/pl/zespol" class="nav-link">Zespół Kodilli</a></li>
        <li><a href="https://kodilla.com/pl/about" class="nav-link">O firmie</a></li>
    </ul>
</li>
                                        <li class="nav-item hidden-md-up nav-group">
    <span class="mobile-menu-separator">Szkolenia Bootcamp</span>
    <ul>
                    <li class="nav-item list-sub-fe">
                <a class="nav-link nav-link-with-label" href="https://kodilla.com/pl/bootcamp/front-end">Bootcamp Front-end: React
                    <span class="bootcamp-label">nowość</span>
                </a>
            </li>
                <li class="nav-item">
            <a class="nav-link nav-link-with-label" href="https://kodilla.com/pl/bootcamp/webdeveloper">Bootcamp Web Developer
                <span class="bootcamp-label">FRONT-END i BACK-END</span>
            </a>
        </li>
        <li class="nav-item">
            <a class="nav-link" href="https://kodilla.com/pl/bootcamp/java">Bootcamp Java</a>
        </li>
    </ul>
</li>
            <li class="nav-item hidden-md-up nav-group">
            <span class="mobile-menu-separator">Strefa kursanta</span>
            <ul>
                <li class="nav-item ">
                                            <a class="nav-link" href="https://kodilla.com/pl/bootcamp-dashboard/146">
                            Bootcamp   Java Plus 2018-10
                        </a>
                                    </li>
                <li class="nav-item ">
                    <a class="nav-link" href="https://kodilla.com/pl/kursy">Samodzielne kursy</a>
                </li>
                                    <li class="nav-item ">
                        <a class="nav-link" href="https://chat.kodilla.com/" target="_blank">Komunikator</a>
                    </li>
                                <li class="nav-item">
                    <a class="nav-link" href="https://kodilla.com/pl/projects">Moje projekty</a>
                </li>
            </ul>
        </li>
    
        
            <li class="nav-item hidden-md-up nav-group">
            <span class="mobile-menu-separator">O nas</span>
            <ul>
                <li class="nav-item">
                    <a href="https://kodilla.com/pl/mentors" class="nav-link">Mentorzy</a>
                </li>
                <li class="nav-item">
                    <a href="https://kodilla.com/pl/zespol" class="nav-link">Zespół Kodilli</a>
                </li>
                <li class="nav-item">
                    <a href="https://kodilla.com/pl/about" class="nav-link">O firmie</a>
                </li>
            </ul>
        </li>
    
<li class="nav-item hidden-md-up nav-group">
    <span class="mobile-menu-separator">Pozostałe</span>
    <ul>
                                        
        <li class="nav-item">
            <a href="https://kodilla.com/pl/informator" class="nav-link" target="_blank">
        Informator
    </a>
        </li>
    </ul>

</li>

    <li class="nav-item hidden-md-up">
        <a class="nav-link" href="https://kodilla.com/pl/account">Konto</a>
    </li>
    <li class="nav-item hidden-md-up">
        <a class="nav-link analytics-track" data-event="account_logout" href="https://kodilla.com/pl/sign-out">Wyloguj</a>
    </li>

        
    <li class="nav-item hidden-md-up nav-group">
        <span class="mobile-menu-separator">Skontaktuj się z nami</span>
        <ul>
            <li class="nav-item">
                <a href="mailto:support@kodilla.com" class="nav-link">
                    <i class="fa fa-envelope-o"></i>
                    support@kodilla.com
                </a>
            </li>
            <li class="nav-item">
                <a href="javascript:fcWidget.open();" class="nav-link">
                    <i class="fa fa-comments"></i>
                    <span>Porozmawiaj na czacie</span>
                </a>
            </li>
        </ul>
    </li>

<li class="nav-item hidden-md-up">
        <a class="nav-link" href="https://kodilla.com/pl"><img src="./Moduł_ 15. Wzorce projektowe cz. 1_files/pl.svg">Polski</a>
    </li>
    <li class="nav-item hidden-md-up">
        <a class="nav-link" href="https://kodilla.com/en"><img src="./Moduł_ 15. Wzorce projektowe cz. 1_files/en.svg">English</a>
    </li>

        </ul>
    </div>
</nav>
<main class="bootcamp module page-height-fix" id="bootcamp-module">
    <div class="table-of-contents aside-sticky">
        <section class="container">
            <div class="row">
                <aside class="module-nav col-md-4 col-md-offset-8">
                    <section class="card">
                        <div class="card-header">
                            <h4 class="card-title">Spis treści modułu</h4>
                        </div>
                        <ul class="list-group list-group-flush ps-container ps-theme-default ps-active-y" data-ps-id="d289dca1-1644-2951-0daf-bbc09569e8ac">
                                                        <li class="list-group-item completed">
                                <a href="https://kodilla.com/pl/bootcamp-module/146/86/3774#submodule-379" class="clearfix">
                                    <p>15.1. Singleton</p>
                                    <i class="fa fa-check-circle-o"></i>
                                    <i class="fa fa-play-circle-o"></i>
                                    <i class="fa fa-send-o"></i>
                                    <i class="fa fa-exclamation-circle"></i>
                                </a>
                            </li><li class="list-group-item list-group-flush sub "><a href="https://kodilla.com/pl/bootcamp-module/146/86/3774#151-singleton-proba-rozwiazania-problemu-bez-singletona" class="clearfix">Próba rozwiązania problemu bez Singletona</a></li><li class="list-group-item list-group-flush sub "><a href="https://kodilla.com/pl/bootcamp-module/146/86/3774#151-singleton-tworzymy-singleton" class="clearfix">Tworzymy Singleton</a></li><li class="list-group-item list-group-flush sub task"><a href="https://kodilla.com/pl/bootcamp-module/146/86/3774#151-singleton-zadanie-singleton-sluzacy-do-zapisywania-logow-z-wykonanych-operacji" class="clearfix">Zadanie: Singleton służący do zapisywania logów z wykonanych operacji</a></li>
                                                        <li class="list-group-item completed">
                                <a href="https://kodilla.com/pl/bootcamp-module/146/86/3774#submodule-380" class="clearfix">
                                    <p>15.2. Prototype</p>
                                    <i class="fa fa-check-circle-o"></i>
                                    <i class="fa fa-play-circle-o"></i>
                                    <i class="fa fa-send-o"></i>
                                    <i class="fa fa-exclamation-circle"></i>
                                </a>
                            </li><li class="list-group-item list-group-flush sub "><a href="https://kodilla.com/pl/bootcamp-module/146/86/3774#152-prototype-opis-problemu" class="clearfix">Opis problemu</a></li><li class="list-group-item list-group-flush sub "><a href="https://kodilla.com/pl/bootcamp-module/146/86/3774#152-prototype-przyklad-bez-zastosowania-wzorca-prototype" class="clearfix">Przykład bez zastosowania wzorca Prototype</a></li><li class="list-group-item list-group-flush sub "><a href="https://kodilla.com/pl/bootcamp-module/146/86/3774#152-prototype-tworzymy-plytkiego-klona-przy-pomocy-wzorca-prototype" class="clearfix">Tworzymy płytkiego klona przy pomocy wzorca Prototype</a></li><li class="list-group-item list-group-flush sub "><a href="https://kodilla.com/pl/bootcamp-module/146/86/3774#152-prototype-glebokie-klonowanie-obiektow-wzorzec-prototype-w-pelnej-postaci" class="clearfix">Głębokie klonowanie obiektów — wzorzec Prototype w pełnej postaci</a></li><li class="list-group-item list-group-flush sub "><a href="https://kodilla.com/pl/bootcamp-module/146/86/3774#152-prototype-podsumowanie" class="clearfix">Podsumowanie</a></li><li class="list-group-item list-group-flush sub task"><a href="https://kodilla.com/pl/bootcamp-module/146/86/3774#152-prototype-zadanie-klonujemy-biblioteke" class="clearfix">Zadanie: Klonujemy bibliotekę</a></li>
                                                        <li class="list-group-item completed">
                                <a href="https://kodilla.com/pl/bootcamp-module/146/86/3774#submodule-381" class="clearfix">
                                    <p>15.3. Strategy</p>
                                    <i class="fa fa-check-circle-o"></i>
                                    <i class="fa fa-play-circle-o"></i>
                                    <i class="fa fa-send-o"></i>
                                    <i class="fa fa-exclamation-circle"></i>
                                </a>
                            </li><li class="list-group-item list-group-flush sub "><a href="https://kodilla.com/pl/bootcamp-module/146/86/3774#153-strategy-opis-problemu-warunki-poczatkowe" class="clearfix">Opis problemu — warunki początkowe</a></li><li class="list-group-item list-group-flush sub "><a href="https://kodilla.com/pl/bootcamp-module/146/86/3774#153-strategy-opis-problemu-co-nalezy-uzyskac" class="clearfix">Opis problemu — co należy uzyskać</a></li><li class="list-group-item list-group-flush sub "><a href="https://kodilla.com/pl/bootcamp-module/146/86/3774#153-strategy-rozwiazanie-wzorzec-strategy" class="clearfix">Rozwiązanie — wzorzec Strategy</a></li><li class="list-group-item list-group-flush sub task"><a href="https://kodilla.com/pl/bootcamp-module/146/86/3774#153-strategy-zadanie-media-spolecznosciowe-uzytkownikow" class="clearfix">Zadanie: Media społecznościowe użytkowników</a></li>
                                                        <li class="list-group-item completed">
                                <a href="https://kodilla.com/pl/bootcamp-module/146/86/3774#submodule-382" class="clearfix">
                                    <p>15.4. Factory</p>
                                    <i class="fa fa-check-circle-o"></i>
                                    <i class="fa fa-play-circle-o"></i>
                                    <i class="fa fa-send-o"></i>
                                    <i class="fa fa-exclamation-circle"></i>
                                </a>
                            </li><li class="list-group-item list-group-flush sub "><a href="https://kodilla.com/pl/bootcamp-module/146/86/3774#154-factory-opis-problemu" class="clearfix">Opis problemu</a></li><li class="list-group-item list-group-flush sub "><a href="https://kodilla.com/pl/bootcamp-module/146/86/3774#154-factory-rozwiazanie-wzorzec-factory" class="clearfix">Rozwiązanie — wzorzec Factory</a></li><li class="list-group-item list-group-flush sub task"><a href="https://kodilla.com/pl/bootcamp-module/146/86/3774#154-factory-zadanie-fabryka-zadan" class="clearfix">Zadanie: Fabryka zadań :)</a></li>
                                                        <li class="list-group-item completed">
                                <a href="https://kodilla.com/pl/bootcamp-module/146/86/3774#submodule-383" class="clearfix">
                                    <p>15.5. Builder</p>
                                    <i class="fa fa-check-circle-o"></i>
                                    <i class="fa fa-play-circle-o"></i>
                                    <i class="fa fa-send-o"></i>
                                    <i class="fa fa-exclamation-circle"></i>
                                </a>
                            </li><li class="list-group-item list-group-flush sub "><a href="https://kodilla.com/pl/bootcamp-module/146/86/3774#155-builder-przedstawienie-problemu-na-przykladzie-pizzy" class="clearfix">Przedstawienie problemu na przykładzie pizzy</a></li><li class="list-group-item list-group-flush sub "><a href="https://kodilla.com/pl/bootcamp-module/146/86/3774#155-builder-rozwiazanie-wzorzec-builder" class="clearfix">Rozwiązanie - wzorzec Builder.</a></li><li class="list-group-item list-group-flush sub "><a href="https://kodilla.com/pl/bootcamp-module/146/86/3774#155-builder-rozwiazanie-zaawansowane-gra-w-warcaby" class="clearfix">Rozwiązanie zaawansowane — gra w warcaby</a></li><li class="list-group-item list-group-flush sub task"><a href="https://kodilla.com/pl/bootcamp-module/146/86/3774#155-builder-zadanie-komponujemy-wlasnego-bigmaca" class="clearfix">Zadanie: Komponujemy własnego BigMaca</a></li>
                                                    <div class="ps-scrollbar-x-rail" style="left: 0px; bottom: 3px;"><div class="ps-scrollbar-x" tabindex="0" style="left: 0px; width: 0px;"></div></div><div class="ps-scrollbar-y-rail" style="top: 0px; height: 289px; right: 3px;"><div class="ps-scrollbar-y" tabindex="0" style="top: 0px; height: 66px;"></div></div></ul>
                        <div class="card-block text-center">
                                                                                                <a href="https://kodilla.com/pl/bootcamp-dashboard/146">Powrót do dashboardu</a>
                                                                                    </div>
                    </section>
                </aside>
            </div>
        </section>
    </div>
    <section class="container module-content">
        <div class="row">
            <main class="col-md-8">
                <section class="card">
                    <div class="card-block module-header clearfix  completed ">
                        <h1 class="card-title">15. Wzorce projektowe cz. 1</h1>
                                                <i class="fa fa-bookmark fa-3x" aria-hidden="true"></i>
                    </div>
                                        <div class="card-block challenge">
                        <h3>Wyzwania:</h3>
                        <ul>
    <li>Poznanie sposobów na rozwiązanie częstych problemów w kodzie</li>
    <li>Poznanie zasad, które towarzyszą każdemu programiście</li>
</ul>

<p>Czym jest wzorzec projektowy (<i>ang. design pattern</i>)? Można powiedzieć, że powszechnie uznanym sposobem rozwiązania jakiegoś często występującego typu problemu podczas programowania. W tym module poznasz kilka najbardziej podstawowych wzorców projektowych, dzięki czemu nie będzie potrzeby odkrywania koła na nowo, w razie napotkania jednego z opisanych niżej, typowych problemów i zagadnień.</p>
<h3>Przygotowanie środowiska</h3>
<p>Nim przejdziemy do kodowania, musimy przygotować środowisko. W tym celu utwórz nowy moduł o nazwie <code class=" language-java">kodilla<span class="token operator">-</span>patterns</code>, a w nim, w katalogu <i>src/main/java</i>, utwórz pakiet <code class=" language-java">com<span class="token punctuation">.</span>kodilla<span class="token punctuation">.</span>patterns</code>.</p>

<div class="bc-note alert-success">
    <h4 class="alert-heading text-center">Przypomnienie</h4>
    <p>Skrót <b>PPM</b> = Prawy Przycisk Myszy.</p>
    <p>Aby utworzyć nowy moduł, kliknij na główny projekt <code class=" language-java">kodilla<span class="token operator">-</span>course</code>, a następnie <b>PPM</b> i wybierz polecenie <i>New-&gt;Module</i>.</p>
    <p>Następnie wybierz Gradle i zaznacz Java. W kolejnym oknie wpisz w polu Artifatcid nazwę modułu: <code class=" language-java">kodilla<span class="token operator">-</span>patterns</code>.</p>
    <p>Następnie kliknij na nowym module, a następnie <b>PPM</b> i przy pomocy polecenia <i>New-&gt;Directory</i> utwórz katalog <i>src</i>, a w nim <i>main</i>, a w nim <i>java</i>. Następnie w katalogu <i>src</i> utwórz jeszcze katalog <i>test</i>, a w nim <i>java</i>. Jeżeli oba katalogi <i>java</i> nie mają niebieskiego i zielonego koloru, musisz je oznaczyć: <b>PPM</b> na katalogu i wybierz polecenie <i>Mark Directory as</i>, a następnie odpowiednio: <i>Sources Root</i> oraz <i>Test Sources Root</i>.</p>
    <p>W ostatnim kroku kliknij w katalog <i>src/main/java</i>, a następnie <b>PPM</b> i wybierz polecenie <i>New-&gt;Package</i>. Jako nazwę pakietu podaj <code class=" language-java">com<span class="token punctuation">.</span>kodilla<span class="token punctuation">.</span>patterns</code>.</p>
</div>

<p>W pakiecie <code class=" language-java">com<span class="token punctuation">.</span>kodilla<span class="token punctuation">.</span>patterns</code> utwórz nową klasę o nazwie <code class=" language-java">PatternsRunner</code>, a w niej metodę <code class=" language-java"><span class="token function">main</span><span class="token punctuation">(</span>String<span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span></code>:</p>

<pre class="line-numbers language-java code-toolbar"><code class=" language-java"><span class="token keyword keyword-package">package</span> com<span class="token punctuation">.</span>kodilla<span class="token punctuation">.</span>patterns<span class="token punctuation">;</span>

<span class="token keyword keyword-public">public</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">PatternsRunner</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-static">static</span> <span class="token keyword keyword-void">void</span> <span class="token function">main</span><span class="token punctuation">(</span>String<span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span><span class="token punctuation">{</span>
            System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"Welcome to the module 11 - Patterns"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code><div class="toolbar"></div></pre>

<p>No dobrze, jesteśmy gotowi do działania :)</p>

                    </div>
                                    </section>
                                    
                <section id="submodule-379" class="card submodule completed" data-bootcamp-user-submodule-id="268024">
                <!-- klasy dla section: completed current comments -->
                    <div class="card-block submodule-header clearfix">
                        <i class="fa fa-check-circle-o fa-2x"></i>
                        <i class="fa fa-play-circle-o fa-2x"></i>
                        <i class="fa fa-exclamation-circle fa-2x"></i>
                        <i class="fa fa-send-o fa-2x"></i>
                        <h2 class="bootcamp-submodule-name">15.1. <span>Singleton</span></h2>
                                            </div>
                    <div class="card-block">
                        <div class="submodule-content">
                            <p><b>Singleton</b> jest wzorcem, który stosujemy w sytuacji, gdy zależy nam na tym, aby istniała tylko jedna instancja obiektu danej klasy. Kiedy możesz się spotkać w praktyce z taką potrzebą? Na przykład gdy posiadasz klasę, która otwiera plik z ustawieniami aplikacji i utrzymuje go otwarty, a także pozwala na wielokrotne zapisywanie aktualnych ustawień w pliku — prawdopodobnie będziesz chcieć tylko jeden taki obiekt w swojej aplikacji.</p>

<p>Innym przykładem może być np. klasa odpowiedzialna za zapisywanie logów z działania Twojej aplikacji. </p>
<h3 id="151-singleton-proba-rozwiazania-problemu-bez-singletona">Próba rozwiązania problemu bez Singletona</h3>
<p>Spróbujemy teraz stworzyć klasę, która będzie odpowiedzialna za otwieranie pliku z ustawieniami, oraz za odczyt i zapis ustawień. Na początek stwórz pakiet <code class=" language-java">com<span class="token punctuation">.</span>kodilla<span class="token punctuation">.</span>patterns<span class="token punctuation">.</span>singleton</code>, a w nim klasę <code class=" language-java">SettingsFileEngine</code>:</p>

<pre class="line-numbers language-java code-toolbar"><code class=" language-java"><span class="token keyword keyword-package">package</span> com<span class="token punctuation">.</span>kodilla<span class="token punctuation">.</span>patterns<span class="token punctuation">.</span>singleton<span class="token punctuation">;</span>

<span class="token keyword keyword-public">public</span> <span class="token keyword keyword-final">final</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">SettingsFileEngine</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-private">private</span> String fileName <span class="token operator">=</span> <span class="token string">""</span><span class="token punctuation">;</span>

    <span class="token keyword keyword-public">public</span> <span class="token function">SettingsFileEngine</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token punctuation">}</span>

    <span class="token keyword keyword-public">public</span> String <span class="token function">getFileName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword keyword-return">return</span> fileName<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-void">void</span> <span class="token function">open</span><span class="token punctuation">(</span><span class="token keyword keyword-final">final</span> String fileName<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword keyword-this">this</span><span class="token punctuation">.</span>fileName <span class="token operator">=</span> fileName<span class="token punctuation">;</span>
            System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"Opening the settings file"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-void">void</span> <span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword keyword-this">this</span><span class="token punctuation">.</span>fileName <span class="token operator">=</span> <span class="token string">""</span><span class="token punctuation">;</span>
            System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"Closing the settings file"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-boolean">boolean</span> <span class="token function">loadSettings</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"Loading settings from file"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword keyword-return">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-boolean">boolean</span> <span class="token function">saveSettings</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"Saving settings to file"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword keyword-return">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code><div class="toolbar"></div></pre>

<p>Mniej więcej tak mogłaby wyglądać prawdziwa klasa służąca do zapisu i odczytu ustawień aplikacji z pliku. Oczywiście w naszym przypadku metody tej klasy wyświetlają jedynie komunikaty takie jak <code class=" language-java">System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"Opening the settings file"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code>, zamiast rzeczywiście otwierać plik, gdyż nie to jest teraz przedmiotem naszych rozważań.</p>

<p>Klasa <code class=" language-java">SettingsFileEngine</code> posiada metody <code class=" language-java"><span class="token function">open</span><span class="token punctuation">(</span><span class="token keyword keyword-final">final</span> String fileName<span class="token punctuation">)</span></code> oraz <code class=" language-java"><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code>, służące do otwierania i zamykania pliku z ustawieniami. Posiada również metody <code class=" language-java"><span class="token function">loadSettings</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> oraz <code class=" language-java"><span class="token function">saveSettings</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code>, służące do odczytu i zapisu ustawień aplikacji do pliku. Posiada też metodę <code class=" language-java"><span class="token function">getFileName</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code>, zwracającą nazwę pliku z ustawieniami, który jest aktualnie otwarty.</p>

<p>Stwórzmy teraz w katalogu <i>src/test/java</i> pakiet <code class=" language-java">com<span class="token punctuation">.</span>kodilla<span class="token punctuation">.</span>patterns<span class="token punctuation">.</span>singleton</code>, a w nim zestaw testów <code class=" language-java">SettingsFileEngineTestSuite</code>:</p>

<pre class="line-numbers language-java code-toolbar"><code class=" language-java"><span class="token keyword keyword-package">package</span> com<span class="token punctuation">.</span>kodilla<span class="token punctuation">.</span>patterns<span class="token punctuation">.</span>singleton<span class="token punctuation">;</span>

<span class="token keyword keyword-import">import</span> org<span class="token punctuation">.</span>junit<span class="token punctuation">.</span>AfterClass<span class="token punctuation">;</span>
<span class="token keyword keyword-import">import</span> org<span class="token punctuation">.</span>junit<span class="token punctuation">.</span>Assert<span class="token punctuation">;</span>
<span class="token keyword keyword-import">import</span> org<span class="token punctuation">.</span>junit<span class="token punctuation">.</span>BeforeClass<span class="token punctuation">;</span>
<span class="token keyword keyword-import">import</span> org<span class="token punctuation">.</span>junit<span class="token punctuation">.</span>Test<span class="token punctuation">;</span>

<span class="token keyword keyword-public">public</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">SettingsFileEngineTestSuite</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-private">private</span> <span class="token keyword keyword-static">static</span> SettingsFileEngine settingsFileEngine<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@BeforeClass</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-static">static</span> <span class="token keyword keyword-void">void</span> <span class="token function">openSettingsFile</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                  settingsFileEngine <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token class-name">SettingsFileEngine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            settingsFileEngine<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token string">"myapp.settings"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@AfterClass</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-static">static</span> <span class="token keyword keyword-void">void</span> <span class="token function">closeSettingsFile</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            settingsFileEngine<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-void">void</span> <span class="token function">testGetFileName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment" spellcheck="true">//Given</span>
            <span class="token comment" spellcheck="true">//When</span>
            String fileName <span class="token operator">=</span> settingsFileEngine<span class="token punctuation">.</span><span class="token function">getFileName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"Opened: "</span> <span class="token operator">+</span> fileName<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment" spellcheck="true">//Then</span>
            Assert<span class="token punctuation">.</span><span class="token function">assertEquals</span><span class="token punctuation">(</span><span class="token string">"myapp.settings"</span><span class="token punctuation">,</span> fileName<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-void">void</span> <span class="token function">testLoadSettings</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment" spellcheck="true">//Given</span>
            <span class="token comment" spellcheck="true">//When</span>
            <span class="token keyword keyword-boolean">boolean</span> result <span class="token operator">=</span> settingsFileEngine<span class="token punctuation">.</span><span class="token function">loadSettings</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment" spellcheck="true">//Then</span>
            Assert<span class="token punctuation">.</span><span class="token function">assertTrue</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-void">void</span> <span class="token function">testSaveSettings</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment" spellcheck="true">//Given</span>
            <span class="token comment" spellcheck="true">//When</span>
            <span class="token keyword keyword-boolean">boolean</span> result <span class="token operator">=</span> settingsFileEngine<span class="token punctuation">.</span><span class="token function">saveSettings</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment" spellcheck="true">//Then</span>
            Assert<span class="token punctuation">.</span><span class="token function">assertTrue</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code><div class="toolbar"></div></pre>

<p>Nasz zestaw testów posiada pole statyczne <code class=" language-java">settingsFileEngine</code> oraz metodę <code class=" language-java"><span class="token function">openSettingsFile</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code>, która jest wywoływana przed rozpoczęciem wykonywania wszystkich testów (inicjalizuje ona pole <code class=" language-java">settingsFileEngine</code>), oraz metodę <code class=" language-java"><span class="token function">closeSettingsFile</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code>, która jest wywoływana po zakończeniu wszystkich testów. Metody te, odpowiednio: otwierają oraz zamykają plik z ustawieniami aplikacji.</p>

<p>Posiadamy również trzy testy: <code class=" language-java">testGetFileName</code><code class=" language-java"><span class="token punctuation">(</span><span class="token punctuation">)</span></code>, <code class=" language-java"><span class="token function">testLoadSettings</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> oraz <code class=" language-java"><span class="token function">testSaveSettings</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code>, które odpowiedzialne są za przetestowanie odpowiednich metod klasy <code class=" language-java">SettingsFileEngine</code>. Po uruchomieniu zestawu testów powinniśmy uzyskać następujący rezultat:</p>

<a class="img-modal-group" href="./Moduł_ 15. Wzorce projektowe cz. 1_files/java-11_00.png"><img src="./Moduł_ 15. Wzorce projektowe cz. 1_files/java-11_00.png" style="width: 100%;"></a>

<p>Powyższe rozwiązanie działa, ale jest podatne na błędy — w każdej chwili możemy utworzyć drugi obiekt klasy <code class=" language-java">SettingsFileEngine</code> (bo na przykład piszemy kod w dużym systemie i nie mamy świadomości, że jeden taki obiekt jest już gdzieś utworzony), i próbować otworzyć po raz kolejny ten sam plik z ustawieniami (zakończy się to rzuceniem wyjątku przez aplikację). W normalnym projekcie, liczącym setki czy tysiące klas oraz dziesiątki tysięcy (lub więcej) linii kodu źródłowego, jest to naturalny problem. Sytuacja taka jest po prostu niepożądana. Chcemy więc plik z ustawieniami otworzyć tylko raz dla całej naszej aplikacji.</p>
<h3 id="151-singleton-tworzymy-singleton">Tworzymy Singleton</h3>

<div class="bc-note alert-info">
    <h4 class="alert-heading text-center">Singleton</h4>
    <p><b>Singleton</b> jest specyficzną klasą, której obiekt (instancja) istnieje w programie zawsze tylko w jednym egzemplarzu. Posiada ukryty konstruktor (<code class=" language-java"><span class="token keyword keyword-private">private</span></code>), a jedynym sposobem utworzenia obiektu tej klasy jest jej metoda <code class=" language-java"><span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code>. Metoda ta nie pozwala na utworzenie więcej niż jednego obiektu klasy <code class=" language-java">Singletona</code>.</p>
</div>


<p>Pokażemy Ci teraz, jak z klasy <code class=" language-java">SettingsFileEngine</code> stworzyć <b>Singleton</b>. Po pierwsze, do klasy <code class=" language-java">SettingsFileEngine</code> dodamy pole statyczne przechowujące referencję do instancji klasy, o nazwie <code class=" language-java">settingsFileEngine</code><code class=" language-java">Instance</code>(zmiany zaznaczyliśmy podświetleniem):</p>

<pre class="line-numbers language-java code-toolbar" data-line="4"><code class=" language-java"><span class="token keyword keyword-package">package</span> com<span class="token punctuation">.</span>kodilla<span class="token punctuation">.</span>patterns<span class="token punctuation">.</span>singleton<span class="token punctuation">;</span>

<span class="token keyword keyword-public">public</span> <span class="token keyword keyword-final">final</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">SettingsFileEngine</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-private">private</span> <span class="token keyword keyword-static">static</span> SettingsFileEngine settingsFileEngineInstance <span class="token operator">=</span> null<span class="token punctuation">;</span>
    <span class="token keyword keyword-private">private</span> String fileName <span class="token operator">=</span> <span class="token string">""</span><span class="token punctuation">;</span>

    <span class="token keyword keyword-public">public</span> <span class="token function">SettingsFileEngine</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token punctuation">}</span>

    <span class="token keyword keyword-public">public</span> String <span class="token function">getFileName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword keyword-return">return</span> fileName<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-void">void</span> <span class="token function">open</span><span class="token punctuation">(</span><span class="token keyword keyword-final">final</span> String fileName<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword keyword-this">this</span><span class="token punctuation">.</span>fileName <span class="token operator">=</span> fileName<span class="token punctuation">;</span>
            System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"Opening the settings file"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-void">void</span> <span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword keyword-this">this</span><span class="token punctuation">.</span>fileName <span class="token operator">=</span> <span class="token string">""</span><span class="token punctuation">;</span>
            System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"Closing the settings file"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-boolean">boolean</span> <span class="token function">loadSettings</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"Loading settings from file"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword keyword-return">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-boolean">boolean</span> <span class="token function">saveSettings</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"Saving settings to file"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword keyword-return">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code><div aria-hidden="true" class=" line-highlight" style="top: 63px;"> 
</div><div class="toolbar"></div></pre>


<p>Pole to początkowo ustawione jest na wartość <code class=" language-java">null</code>. Będziemy je inicjować dopiero w przypadku, gdy ktoś będzie próbował go użyć (tak zwane <i>lazy instantiating</i> — powoływanie obiektu do życia dopiero przy próbie użycia)</p>

<p>Następnie "ukryjemy" konstruktor bezparametrowy po to, aby nikt nie mógł samodzielnie utworzyć obiektu naszej klasy. "Ukrycie" zrealizujemy poprzez jawne wyspecyfikowanie konstruktora oraz oznaczenie go jako <code class=" language-java"><span class="token keyword keyword-private">private</span></code> (zmiany oznaczono podświetleniem):</p>

<pre class="line-numbers language-java code-toolbar" data-line="7"><code class=" language-java"><span class="token keyword keyword-package">package</span> com<span class="token punctuation">.</span>kodilla<span class="token punctuation">.</span>patterns<span class="token punctuation">.</span>singleton<span class="token punctuation">;</span>

<span class="token keyword keyword-public">public</span> <span class="token keyword keyword-final">final</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">SettingsFileEngine</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-private">private</span> <span class="token keyword keyword-static">static</span> SettingsFileEngine settingsFileEngineInstance <span class="token operator">=</span> null<span class="token punctuation">;</span>
    <span class="token keyword keyword-private">private</span> String fileName <span class="token operator">=</span> <span class="token string">""</span><span class="token punctuation">;</span>

    <span class="token keyword keyword-private">private</span> <span class="token function">SettingsFileEngine</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token punctuation">}</span>

    <span class="token keyword keyword-public">public</span> String <span class="token function">getFileName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword keyword-return">return</span> fileName<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-void">void</span> <span class="token function">open</span><span class="token punctuation">(</span><span class="token keyword keyword-final">final</span> String fileName<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword keyword-this">this</span><span class="token punctuation">.</span>fileName <span class="token operator">=</span> fileName<span class="token punctuation">;</span>
            System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"Opening the settings file"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-void">void</span> <span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword keyword-this">this</span><span class="token punctuation">.</span>fileName <span class="token operator">=</span> <span class="token string">""</span><span class="token punctuation">;</span>
            System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"Closing the settings file"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-boolean">boolean</span> <span class="token function">loadSettings</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"Loading settings from file"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword keyword-return">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-boolean">boolean</span> <span class="token function">saveSettings</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"Saving settings to file"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword keyword-return">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code><div aria-hidden="true" class=" line-highlight" style="top: 126px;"> 
</div><div class="toolbar"></div></pre>

<p>Po dokonaniu powyższej zmiany w kodzie naszych testów pojawią się błędy, ponieważ zestaw testów próbuje utworzyć samodzielnie obiekt naszej klasy <code class=" language-java">SettingsFileEngine</code>:</p>
<a class="img-modal-group" href="./Moduł_ 15. Wzorce projektowe cz. 1_files/java-11_01.png"><img src="./Moduł_ 15. Wzorce projektowe cz. 1_files/java-11_01.png" style="width: 100%;"></a>

<p>Testy poprawimy później — na razie się tym nie przejmuj. Kolejna modyfikacja naszej klasy będzie polegała na dodaniu statycznej metody <code class=" language-java"><span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> — nazwa tej metody jest zwyczajowo przyjęta we wzorcu <b>Singleton</b> (podświetlone zmiany):</p>

<pre class="line-numbers language-java code-toolbar" data-line="10-15"><code class=" language-java"><span class="token keyword keyword-package">package</span> com<span class="token punctuation">.</span>kodilla<span class="token punctuation">.</span>patterns<span class="token punctuation">.</span>singleton<span class="token punctuation">;</span>

<span class="token keyword keyword-public">public</span> <span class="token keyword keyword-final">final</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">SettingsFileEngine</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-private">private</span> <span class="token keyword keyword-static">static</span> SettingsFileEngine settingsFileEngineInstance <span class="token operator">=</span> null<span class="token punctuation">;</span>
    <span class="token keyword keyword-private">private</span> String fileName <span class="token operator">=</span> <span class="token string">""</span><span class="token punctuation">;</span>

    <span class="token keyword keyword-private">private</span> <span class="token function">SettingsFileEngine</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token punctuation">}</span>

    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-static">static</span> SettingsFileEngine <span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span>settingsFileEngineInstance <span class="token operator">==</span> null<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    settingsFileEngineInstance <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token class-name">SettingsFileEngine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token keyword keyword-return">return</span> settingsFileEngineInstance<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword keyword-public">public</span> String <span class="token function">getFileName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword keyword-return">return</span> fileName<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-void">void</span> <span class="token function">open</span><span class="token punctuation">(</span><span class="token keyword keyword-final">final</span> String fileName<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword keyword-this">this</span><span class="token punctuation">.</span>fileName <span class="token operator">=</span> fileName<span class="token punctuation">;</span>
            System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"Opening the settings file"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-void">void</span> <span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword keyword-this">this</span><span class="token punctuation">.</span>fileName <span class="token operator">=</span> <span class="token string">""</span><span class="token punctuation">;</span>
            System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"Closing the settings file"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-boolean">boolean</span> <span class="token function">loadSettings</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"Loading settings from file"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword keyword-return">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-boolean">boolean</span> <span class="token function">saveSettings</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"Saving settings to file"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword keyword-return">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code><div aria-hidden="true" class=" line-highlight" style="top: 189px;"> 
 
 
 
 
 
</div><div class="toolbar"></div></pre>


<p>Zwróć uwagę na to, w jaki sposób działa metoda <code class=" language-java"><span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code>. Po pierwsze, jest to metoda statyczna, a więc możemy ją wywołać z klasy, bez konieczności tworzenia obiektu. Po drugie, metoda ta — przy próbie wywołania — sprawdza, czy pole <code class=" language-java">settingsFileEngineInstance</code> jest zainicjowane. Jeżeli nie jest, metoda tworzy obiekt klasy <code class=" language-java">SettingsFileEngine</code> i przypisuje go do pola <code class=" language-java">settingsFileEngineInstance</code> (<i>lazy instantiating</i> — dopiero wtedy, gdy jest komuś potrzebny). W ostatnim kroku instancja jest zwracana wywołującemu metodę.</p>
<p>W tym miejscu musimy się na chwilę zatrzymać i powiedzieć Ci o ważnej rzeczy. Bardzo często wzorzec <b>Singleton</b> określany jest mianem antywzorca. Jednym z powodów jest to, że w postaci przedstawionej powyżej nie będzie on działał poprawnie w aplikacji wielowątkowej. Co prawda w ramach bootcampu nie będziemy tworzyli aplikacji wielowątkowych, jednak aby uniknąć problemów ze wzorcem <b>Singleton</b>, choćby podczas rozmowy kwalifikacyjnej, pokażemy Ci w skrócie, jak zrobić <b>Singleton</b>, który będzie odporny na problemy związane z wielowątkowością.</p>

<div class="bc-note alert-info">
    <h4 class="alert-heading text-center">Polecenie synchronized()</h4>
    <p>Aby zapobiec problemom związanym z równoczesnym dostępem do jakiegoś zasobu (np. pól obiektu) przez równolegle wykonywane wątki programu, należy zastosować blok <code class=" language-java"><span class="token keyword keyword-synchronized">synchronized</span><span class="token punctuation">(</span>Object o<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token punctuation">}</span></code>. W bloku tym umieszczamy kod modyfikujący pola obiektu, który ma być chroniony. Jako argument polecenia <code class=" language-java"><span class="token keyword keyword-synchronized">synchronized</span><span class="token punctuation">(</span>Object o<span class="token punctuation">)</span></code> przekazujemy jakiś obiekt, który jest "identyfikatorem" chronionego zasobu.</p>
</div>

<p>Zmodyfikowany kod <b>Singletona</b>, uwzględniający zabezpieczenie przed błędami wynikającymi z wielowątkowości, został pokazany poniżej. Zmiany są podświetlone.</p>

<pre class="line-numbers language-java code-toolbar" data-line="11-17"><code class=" language-java"><span class="token keyword keyword-package">package</span> com<span class="token punctuation">.</span>kodilla<span class="token punctuation">.</span>patterns<span class="token punctuation">.</span>singleton<span class="token punctuation">;</span>

<span class="token keyword keyword-public">public</span> <span class="token keyword keyword-final">final</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">SettingsFileEngine</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-private">private</span> <span class="token keyword keyword-static">static</span> SettingsFileEngine settingsFileEngineInstance <span class="token operator">=</span> null<span class="token punctuation">;</span>
    <span class="token keyword keyword-private">private</span> String fileName <span class="token operator">=</span> <span class="token string">""</span><span class="token punctuation">;</span>

    <span class="token keyword keyword-private">private</span> <span class="token function">SettingsFileEngine</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token punctuation">}</span>

    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-static">static</span> SettingsFileEngine <span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span>settingsFileEngineInstance <span class="token operator">==</span> null<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    <span class="token keyword keyword-synchronized">synchronized</span><span class="token punctuation">(</span>SettingsFileEngine<span class="token punctuation">.</span><span class="token keyword keyword-class">class</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                        <span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span>settingsFileEngineInstance <span class="token operator">==</span> null<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                            settingsFileEngineInstance <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token class-name">SettingsFileEngine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                        <span class="token punctuation">}</span>
                    <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
            <span class="token keyword keyword-return">return</span> settingsFileEngineInstance<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword keyword-public">public</span> String <span class="token function">getFileName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword keyword-return">return</span> fileName<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-void">void</span> <span class="token function">open</span><span class="token punctuation">(</span><span class="token keyword keyword-final">final</span> String fileName<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword keyword-this">this</span><span class="token punctuation">.</span>fileName <span class="token operator">=</span> fileName<span class="token punctuation">;</span>
            System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"Opening the settings file"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-void">void</span> <span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword keyword-this">this</span><span class="token punctuation">.</span>fileName <span class="token operator">=</span> <span class="token string">""</span><span class="token punctuation">;</span>
            System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"Closing the settings file"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-boolean">boolean</span> <span class="token function">loadSettings</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"Loading settings from file"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword keyword-return">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-boolean">boolean</span> <span class="token function">saveSettings</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"Saving settings to file"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword keyword-return">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code><div aria-hidden="true" class=" line-highlight" style="top: 210px;"> 
 
 
 
 
 
 
</div><div class="toolbar"></div></pre>


<p>Wewnątrz metody zwracającej obiekt <b>Singletona</b> dokonujemy dwukrotnego sprawdzenia, czy został już wcześniej zainicjowany. Co ważne, drugie sprawdzenie odbywa się wewnątrz bloku <b>synchronized()</b>, dzięki czemu będziemy mieli pewność, że nie wystąpi równoczesne utworzenie osobnych obiektów <b>Singletona</b> przez równolegle działające wątki aplikacji.</p>

<p>Jeżeli chcesz dowiedzieć się więcej o wielowątkowości, możesz o niej przeczytać pod <a href="https://docs.oracle.com/javase/tutorial/essential/concurrency/">tym linkiem</a></p>

<p>Nasz Singleton jest gotowy!</p>

<p>Teraz zmodyfikujemy jeszcze kod testów:</p>

<pre class="line-numbers language-java code-toolbar"><code class=" language-java"><span class="token keyword keyword-package">package</span> com<span class="token punctuation">.</span>kodilla<span class="token punctuation">.</span>patterns<span class="token punctuation">.</span>singleton<span class="token punctuation">;</span>

<span class="token keyword keyword-import">import</span> org<span class="token punctuation">.</span>junit<span class="token punctuation">.</span>AfterClass<span class="token punctuation">;</span>
<span class="token keyword keyword-import">import</span> org<span class="token punctuation">.</span>junit<span class="token punctuation">.</span>Assert<span class="token punctuation">;</span>
<span class="token keyword keyword-import">import</span> org<span class="token punctuation">.</span>junit<span class="token punctuation">.</span>BeforeClass<span class="token punctuation">;</span>
<span class="token keyword keyword-import">import</span> org<span class="token punctuation">.</span>junit<span class="token punctuation">.</span>Test<span class="token punctuation">;</span>

<span class="token keyword keyword-public">public</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">SettingsFileEngineTestSuite</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@BeforeClass</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-static">static</span> <span class="token keyword keyword-void">void</span> <span class="token function">openSettingsFile</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            SettingsFileEngine<span class="token punctuation">.</span><span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token string">"myapp.settings"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@AfterClass</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-static">static</span> <span class="token keyword keyword-void">void</span> <span class="token function">closeSettingsFile</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            SettingsFileEngine<span class="token punctuation">.</span><span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-void">void</span> <span class="token function">testGetFileName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment" spellcheck="true">//Given</span>
            <span class="token comment" spellcheck="true">//When</span>
            String fileName <span class="token operator">=</span> SettingsFileEngine<span class="token punctuation">.</span><span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getFileName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"Opened: "</span> <span class="token operator">+</span> fileName<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment" spellcheck="true">//Then</span>
            Assert<span class="token punctuation">.</span><span class="token function">assertEquals</span><span class="token punctuation">(</span><span class="token string">"myapp.settings"</span><span class="token punctuation">,</span> fileName<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-void">void</span> <span class="token function">testLoadSettings</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment" spellcheck="true">//Given</span>
            <span class="token comment" spellcheck="true">//When</span>
            <span class="token keyword keyword-boolean">boolean</span> result <span class="token operator">=</span> SettingsFileEngine<span class="token punctuation">.</span><span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">loadSettings</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment" spellcheck="true">//Then</span>
            Assert<span class="token punctuation">.</span><span class="token function">assertTrue</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-void">void</span> <span class="token function">testSaveSettings</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment" spellcheck="true">//Given</span>
            <span class="token comment" spellcheck="true">//When</span>
            <span class="token keyword keyword-boolean">boolean</span> result <span class="token operator">=</span> SettingsFileEngine<span class="token punctuation">.</span><span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">saveSettings</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment" spellcheck="true">//Then</span>
            Assert<span class="token punctuation">.</span><span class="token function">assertTrue</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code><div class="toolbar"></div></pre>

<p>Od tej chwili nigdzie nie tworzymy obiektu klasy <code class=" language-java">SettingsFileEngine</code>. Tak właściwie, to nie jest to możliwe — nawet gdybyśmy chcieli, ponieważ konstruktor tej klasy jest prywatny :) Korzystamy jedynie z metody statycznej <code class=" language-java"><span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code>. Powyższe rozwiązaniu eliminuje wszystkie problemy, o których pisaliśmy wcześniej. Poniżej pokazano efekt uruchomienia zmodyfikowanych testów:</p>
<a class="img-modal-group" href="./Moduł_ 15. Wzorce projektowe cz. 1_files/java-11_02.png"><img src="./Moduł_ 15. Wzorce projektowe cz. 1_files/java-11_02.png" style="width: 100%;"></a>

                        </div>
                    </div>
                                        <div class="card-block task-card">
                        <h3 id="151-singleton-zadanie-singleton-sluzacy-do-zapisywania-logow-z-wykonanych-operacji">Zadanie: <span class="task-title">Singleton służący do zapisywania logów z wykonanych operacji</span></h3>
                        <div class="task-content">
                            <p>Celem zadania jest utworzenie klasy służącej do logowania wykonywanych operacji, a następnie przerobienie tej klasy tak, aby działała zgodnie z wzorcem <b>Singleton</b>. </p>

<p>Aby zrealizować zadanie:</p>
W katalogu <i>src/main/java</i> w pakiecie <code class=" language-java">com<span class="token punctuation">.</span>kodilla<span class="token punctuation">.</span>patterns<span class="token punctuation">.</span>singleton</code> utwórz klasę <code class=" language-java">Logger</code>:
    <pre class="line-numbers language-java code-toolbar"><code class=" language-java"><span class="token keyword keyword-package">package</span> com<span class="token punctuation">.</span>kodilla<span class="token punctuation">.</span>patterns<span class="token punctuation">.</span>singleton<span class="token punctuation">;</span>

<span class="token keyword keyword-public">public</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">Logger</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-private">private</span> String lastLog <span class="token operator">=</span> <span class="token string">""</span><span class="token punctuation">;</span>

    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-void">void</span> <span class="token function">log</span><span class="token punctuation">(</span>String log<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            lastLog <span class="token operator">=</span> log<span class="token punctuation">;</span>
            System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"Log: ["</span> <span class="token operator">+</span> log <span class="token operator">+</span> <span class="token string">"]"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword keyword-public">public</span> String <span class="token function">getLastLog</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword keyword-return">return</span> lastLog<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code><div class="toolbar"></div></pre>
<ol>
    <li>Utwórz w katalogu <i>src/test/java</i> w pakiecie <code class=" language-java">com<span class="token punctuation">.</span>kodilla<span class="token punctuation">.</span>patterns<span class="token punctuation">.</span>singleton</code> nowy zestaw testów o nazwie <code class=" language-java">LoggerTestSuite</code>, a w nim testy sprawdzające działanie metody <code class=" language-java"><span class="token function">getLastLog</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> klasy <code class=" language-java">Logger</code>. Aby to przetestować, zapisz coś wcześniej do logów przy pomocy metody <code class=" language-java"><span class="token function">log</span><span class="token punctuation">(</span>String log<span class="token punctuation">)</span></code>.</li>
    <li>Zmodyfikuj kod klasy <code class=" language-java">Logger</code> tak, aby była zgodna ze wzorcem <b>Singleton</b>.</li>
    <li>Zmodyfikuj napisane przed chwilą testy tak, aby uwzględniały zmiany w klasie <code class=" language-java">Logger</code>.</li>
    <li>Utworzony kod prześlij do repozytorium GitHub.</li>
</ol>

<p>Link do repozytorium wklej poniżej i prześlij do mentora.</p>

                        </div>
                    </div>
                                        <div class="card-block submodule-footer clearfix  completed ">
                                                <div class="clearfix">
                                                                                <a href="https://kodilla.com/pl/bootcamp-task/146/268024" target="_blank" class="btn btn-info-outline">Podgląd zadania</a>
                            <form target="_blank" class="form-inline project-link-form">
                                <div class="form-group">
                                    <input type="text" name="link" class="form-control" value="https://github.com/tymsocha/spring-first-steps/commits/master">
                                </div>
                                <button type="submit" class="btn  btn-primary ">Wyślij link <i class="fa fa-check"></i></button>
                            </form>
                                                                                                    </div>
                    </div>
                </section>
                                    
                <section id="submodule-380" class="card submodule completed" data-bootcamp-user-submodule-id="268025">
                <!-- klasy dla section: completed current comments -->
                    <div class="card-block submodule-header clearfix">
                        <i class="fa fa-check-circle-o fa-2x"></i>
                        <i class="fa fa-play-circle-o fa-2x"></i>
                        <i class="fa fa-exclamation-circle fa-2x"></i>
                        <i class="fa fa-send-o fa-2x"></i>
                        <h2 class="bootcamp-submodule-name">15.2. <span>Prototype</span></h2>
                                            </div>
                    <div class="card-block">
                        <div class="submodule-content">
                            <p>Wzorzec projektowy <b>Prototype</b> pozwala na tworzenie nowego obiektu na podstawie istniejącego obiektu. Wykorzystuje do tego celu mechanizm klonowania z Javy. </p>
<h3 id="152-prototype-opis-problemu">Opis problemu</h3>
<p>Wzorzec <b>Prototype</b> znajduje zastosowanie wówczas, gdy utworzenie jakiegoś obiektu jest złożone lub kosztowne (czasowo lub zasobowo) — na przykład wymaga nawiązania połączenia z bazą danych, załadowania danych i wykonania jakichś obliczeń. </p>

<p>Przykładem złożonej operacji tworzenia obiektu może być obiekt reprezentujący planszę do gry w szachy, który zainicjowany jest z początkowym położeniem wszystkich figur na planszy.</p>

<p>W sytuacji, gdy chcielibyśmy utworzyć nową planszę, trzeba by było wykonać wiele operacji: utworzyć obiekty reprezentujące figury, przypisać je do pól planszy zgodnie z ustawieniem początkowym itd.</p>

<p>Dużo łatwiej byłoby po prostu... utworzyć jeden wzorcowy obiekt planszy na początku, a następnie przy każdej potrzebie klonować istniejący, wzorcowy obiekt planszy — bez konieczności tworzenia linijka po linijce całej struktury planszy i figur od początku. Brzmi świetnie, prawda?</p>
<h3 id="152-prototype-przyklad-bez-zastosowania-wzorca-prototype">Przykład bez zastosowania wzorca Prototype</h3>
<p>Posłużymy się przykładem, który był omawiany już wcześniej. Tablicą <code class=" language-java"><span class="token punctuation">(</span>Board<span class="token punctuation">)</span></code> zawierającą listy zadań <code class=" language-java"><span class="token punctuation">(</span>TasksList<span class="token punctuation">)</span></code> w postaci obiektów zadań <code class=" language-java"><span class="token punctuation">(</span>Task<span class="token punctuation">)</span></code>.</p>

<p>Utwórz teraz w katalogu <i>src/main/java</i> nowy pakiet o nazwie <code class=" language-java">com<span class="token punctuation">.</span>kodilla<span class="token punctuation">.</span>patterns<span class="token punctuation">.</span>prototype</code>. W pakiecie tym utwórz klasę <code class=" language-java">Task</code> reprezentującą pojedyncze zadanie:</p>

<pre class="line-numbers language-java code-toolbar"><code class=" language-java"><span class="token keyword keyword-package">package</span> com<span class="token punctuation">.</span>kodilla<span class="token punctuation">.</span>patterns<span class="token punctuation">.</span>prototype<span class="token punctuation">;</span>

<span class="token keyword keyword-public">public</span> <span class="token keyword keyword-final">final</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">Task</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-final">final</span> <span class="token keyword keyword-private">private</span> String name<span class="token punctuation">;</span>

    <span class="token keyword keyword-public">public</span> <span class="token function">Task</span><span class="token punctuation">(</span><span class="token keyword keyword-final">final</span> String name<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword keyword-this">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword keyword-public">public</span> String <span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword keyword-return">return</span> name<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword keyword-public">public</span> String <span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword keyword-return">return</span> <span class="token string">"      Task ["</span> <span class="token operator">+</span> name <span class="token operator">+</span> <span class="token string">"]"</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code><div class="toolbar"></div></pre>

<p>Klasa <code class=" language-java">Task</code> posiada tylko jedno pole <code class=" language-java">name</code> typu <code class=" language-java">String</code> oraz konstruktor inicjujący to pole, a także getter i metodę <code class=" language-java"><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code>. Spacje na początku tekstu zwracanego przez metodę <code class=" language-java"><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> są zamierzone — pozostaw je tak, jak są pokazane na snippecie. Po co one są, wyjaśni się za chwilę, podczas pisania testu :)</p>

<p>Następnie, również w pakiecie <code class=" language-java">com<span class="token punctuation">.</span>kodilla<span class="token punctuation">.</span>patterns<span class="token punctuation">.</span>prototype</code>, utwórz klasę <code class=" language-java">TasksList</code> reprezentującą pojedynczą listę zadań:</p>

<pre class="line-numbers language-java code-toolbar"><code class=" language-java"><span class="token keyword keyword-package">package</span> com<span class="token punctuation">.</span>kodilla<span class="token punctuation">.</span>patterns<span class="token punctuation">.</span>prototype<span class="token punctuation">;</span>

<span class="token keyword keyword-import">import</span> java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>ArrayList<span class="token punctuation">;</span>
<span class="token keyword keyword-import">import</span> java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>List<span class="token punctuation">;</span>

<span class="token keyword keyword-public">public</span> <span class="token keyword keyword-final">final</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">TasksList</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-final">final</span> <span class="token keyword keyword-private">private</span> String name<span class="token punctuation">;</span>
    <span class="token keyword keyword-final">final</span> <span class="token keyword keyword-private">private</span> List<span class="token operator">&lt;</span>Task<span class="token operator">&gt;</span> tasks <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token class-name">ArrayList</span><span class="token operator">&lt;</span><span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword keyword-public">public</span> <span class="token function">TasksList</span><span class="token punctuation">(</span><span class="token keyword keyword-final">final</span> String name<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword keyword-this">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword keyword-public">public</span> List<span class="token operator">&lt;</span>Task<span class="token operator">&gt;</span> <span class="token function">getTasks</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword keyword-return">return</span> tasks<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword keyword-public">public</span> String <span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword keyword-return">return</span> name<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword keyword-public">public</span> String <span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            String s <span class="token operator">=</span> <span class="token string">"   List ["</span> <span class="token operator">+</span> name <span class="token operator">+</span> <span class="token string">"]"</span><span class="token punctuation">;</span>
            <span class="token keyword keyword-for">for</span><span class="token punctuation">(</span>Task task <span class="token operator">:</span> tasks<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    s <span class="token operator">=</span> s <span class="token operator">+</span> <span class="token string">"\n"</span> <span class="token operator">+</span> task<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token keyword keyword-return">return</span> s<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code><div class="toolbar"></div></pre>

<p>Klasa <code class=" language-java">TasksList</code> również posiada pole <code class=" language-java">name</code> typu <code class=" language-java">String</code>, a także listę <code class=" language-java">ArrayList</code> obiektów zadań. Posiada również konstruktor inicjujący nazwę, gettery dające dostęp do nazwy list oraz do listy zadań i metodę <code class=" language-java"><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code>.</p>

<p>Ostatnią klasą będzie klasa reprezentująca tablicę z listami. Utwórz w pakiecie <code class=" language-java">com<span class="token punctuation">.</span>kodilla<span class="token punctuation">.</span>patterns<span class="token punctuation">.</span>prototype</code> klasę <code class=" language-java">Board</code>:</p>

<pre class="line-numbers language-java code-toolbar"><code class=" language-java"><span class="token keyword keyword-package">package</span> com<span class="token punctuation">.</span>kodilla<span class="token punctuation">.</span>patterns<span class="token punctuation">.</span>prototype<span class="token punctuation">;</span>

<span class="token keyword keyword-import">import</span> java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>HashSet<span class="token punctuation">;</span>
<span class="token keyword keyword-import">import</span> java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>Set<span class="token punctuation">;</span>

<span class="token keyword keyword-public">public</span> <span class="token keyword keyword-final">final</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">Board</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-final">final</span> <span class="token keyword keyword-private">private</span> String name<span class="token punctuation">;</span>
    <span class="token keyword keyword-final">final</span> <span class="token keyword keyword-private">private</span> Set<span class="token operator">&lt;</span>TasksList<span class="token operator">&gt;</span> lists <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token class-name">HashSet</span><span class="token operator">&lt;</span><span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword keyword-public">public</span> <span class="token function">Board</span><span class="token punctuation">(</span>String name<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword keyword-this">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword keyword-public">public</span> String <span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword keyword-return">return</span> name<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword keyword-public">public</span> Set<span class="token operator">&lt;</span>TasksList<span class="token operator">&gt;</span> <span class="token function">getLists</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword keyword-return">return</span> lists<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword keyword-public">public</span> String <span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            String s <span class="token operator">=</span> <span class="token string">"Board ["</span> <span class="token operator">+</span> name <span class="token operator">+</span> <span class="token string">"]\n"</span><span class="token punctuation">;</span>
            <span class="token keyword keyword-for">for</span><span class="token punctuation">(</span>TasksList list <span class="token operator">:</span> lists<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    s <span class="token operator">=</span> s <span class="token operator">+</span> list<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">"\n"</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token keyword keyword-return">return</span> s<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code><div class="toolbar"></div></pre>

<p>Klasa <code class=" language-java">Board</code> posiada pole <code class=" language-java">name</code> typu <code class=" language-java">String</code>, zbiór list zadań <code class=" language-java">lists</code>, gettery udostępniające nazwę tablicy oraz zbiór list z zadaniami. Posiada także metodę <code class=" language-java"><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code>.</p>

<p>Stworzymy teraz test sprawdzający, czy nasza klasa <code class=" language-java">Board</code> działa poprawnie. W katalogu <i>src/test/java</i> utwórz pakiet <code class=" language-java">com<span class="token punctuation">.</span>kodilla<span class="token punctuation">.</span>patterns<span class="token punctuation">.</span>prototype</code>, a w nim zestaw testów <code class=" language-java">BoardTestSuite</code>. Utwórz również pierwszy test sprawdzający działanie metody <code class=" language-java"><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code>, czyli test o nazwie <code class=" language-java"><span class="token function">testToString</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code>:</p>

<pre class="line-numbers language-java code-toolbar"><code class=" language-java"><span class="token keyword keyword-package">package</span> com<span class="token punctuation">.</span>kodilla<span class="token punctuation">.</span>patterns<span class="token punctuation">.</span>prototype<span class="token punctuation">;</span>

<span class="token keyword keyword-import">import</span> org<span class="token punctuation">.</span>junit<span class="token punctuation">.</span>Assert<span class="token punctuation">;</span>
<span class="token keyword keyword-import">import</span> org<span class="token punctuation">.</span>junit<span class="token punctuation">.</span>Test<span class="token punctuation">;</span>
<span class="token keyword keyword-import">import</span> java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>stream<span class="token punctuation">.</span>IntStream<span class="token punctuation">;</span>

<span class="token keyword keyword-public">public</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">BoardTestSuite</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-void">void</span> <span class="token function">testToString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment" spellcheck="true">//given</span>
            <span class="token comment" spellcheck="true">//creating the TasksList for todos</span>
            TasksList listToDo <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token class-name">TasksList</span><span class="token punctuation">(</span><span class="token string">"To Do Tasks"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            IntStream<span class="token punctuation">.</span><span class="token function">iterate</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> n <span class="token operator">-</span><span class="token operator">&gt;</span> n <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span>
                            <span class="token punctuation">.</span><span class="token function">limit</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span>
                            <span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span>n <span class="token operator">-</span><span class="token operator">&gt;</span> listToDo<span class="token punctuation">.</span><span class="token function">getTasks</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword keyword-new">new</span> <span class="token class-name">Task</span><span class="token punctuation">(</span><span class="token string">"To Do Task number "</span> <span class="token operator">+</span> n<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token comment" spellcheck="true">//creating the TaskList for tasks in progress</span>
            TasksList listInProgress <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token class-name">TasksList</span><span class="token punctuation">(</span><span class="token string">"In Progress Tasks"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            IntStream<span class="token punctuation">.</span><span class="token function">iterate</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> n <span class="token operator">-</span><span class="token operator">&gt;</span> n <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span>
                            <span class="token punctuation">.</span><span class="token function">limit</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span>
                            <span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span>n <span class="token operator">-</span><span class="token operator">&gt;</span> listInProgress<span class="token punctuation">.</span><span class="token function">getTasks</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword keyword-new">new</span> <span class="token class-name">Task</span><span class="token punctuation">(</span><span class="token string">"In Progress Task number "</span> <span class="token operator">+</span> n<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token comment" spellcheck="true">//creating the TaskList for done tasks</span>
            TasksList listDone <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token class-name">TasksList</span><span class="token punctuation">(</span><span class="token string">"Done Tasks"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            IntStream<span class="token punctuation">.</span><span class="token function">iterate</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> n <span class="token operator">-</span><span class="token operator">&gt;</span> n <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span>
                            <span class="token punctuation">.</span><span class="token function">limit</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span>
                            <span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span>n <span class="token operator">-</span><span class="token operator">&gt;</span> listDone<span class="token punctuation">.</span><span class="token function">getTasks</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword keyword-new">new</span> <span class="token class-name">Task</span><span class="token punctuation">(</span><span class="token string">"Done Task number "</span> <span class="token operator">+</span> n<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token comment" spellcheck="true">//creating the board and assigning the lists</span>
            Board board <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token class-name">Board</span><span class="token punctuation">(</span><span class="token string">"Project number 1"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            board<span class="token punctuation">.</span><span class="token function">getLists</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>listToDo<span class="token punctuation">)</span><span class="token punctuation">;</span>
            board<span class="token punctuation">.</span><span class="token function">getLists</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>listInProgress<span class="token punctuation">)</span><span class="token punctuation">;</span>
            board<span class="token punctuation">.</span><span class="token function">getLists</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>listDone<span class="token punctuation">)</span><span class="token punctuation">;</span>
            System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>board<span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token comment" spellcheck="true">//When</span>
            <span class="token comment" spellcheck="true">//Then</span>
        Assert<span class="token punctuation">.</span><span class="token function">assertEquals</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> board<span class="token punctuation">.</span><span class="token function">getLists</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code><div class="toolbar"></div></pre>

<p>Spójrz, jak dużo kodu trzeba było napisać, aby utworzyć i zainicjować wstępnie obiekt klasy <code class=" language-java">Board</code>. W powyższym kodzie tworzymy trzy listy z zadaniami: <code class=" language-java">listToDo</code>, <code class=" language-java">listInProgress</code> oraz <code class=" language-java">listDone</code>. Do każdej z list, przy pomocy "alternatywnej pętli for" (uzyskanej za pomocą <code class=" language-java">IntStream</code>), wczytujemy po dziesięć zadań. Na zakończenie tworzymy obiekt klasy <code class=" language-java">Board</code> i dodajemy do niego utworzone listy z zadaniami. Test kończymy wyświetleniem planszy. Wynik testu poniżej:</p>
<a class="img-modal-group" href="./Moduł_ 15. Wzorce projektowe cz. 1_files/java-11_03.png"><img src="./Moduł_ 15. Wzorce projektowe cz. 1_files/java-11_03.png" style="width: 100%;"></a>
<p>Widać, że klasa działa poprawnie. Widać również, po co były potrzebne spacje na początku napisu w metodzie <code class=" language-java"><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> klasy <code class=" language-java">Task</code> ;)</p>

<p>Musimy teraz utworzyć drugi obiekt typu <code class=" language-java">Board</code> z dokładnie taką samą zawartością. Jedynie nazwa będzie inna: "Project number 2".</p>

<p>Czujesz ten wewnętrzny bunt? Przepisywać to wszystko?! :) To jest właśnie problem, który chcieliśmy zilustrować przykładem. Oczywiście, oprócz samego dodatkowego nakładu pracy związanego z przepisywaniem czy też przeklejaniem kodu z miejsca na miejsce, zwiększa się także prawdopodobieństwo popełnienia błędu przez programistę, co zawsze lepiej niwelować proaktywnie. Czas na propozycję rozwiązania :)</p>
<h3 id="152-prototype-tworzymy-plytkiego-klona-przy-pomocy-wzorca-prototype">Tworzymy płytkiego klona przy pomocy wzorca Prototype</h3>
<p>Klonowanie może być "płytkie" (<i>ang. shallow copy</i>) lub "głębokie" (<i>ang. deep copy</i>) — różnicę pokażemy na przykładzie, zaczynając od klonowania płytkiego.</p>

<p>Klasa <code class=" language-java">Object</code> posiada dedykowaną metodę <code class=" language-java"><span class="token function">clone</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code>, która tworzy klon (kopię) obiektu tej klasy. Pomimo jednak, że każda klasa dziedziczy z <code class=" language-java">Object</code>, to niestety nie możemy po prostu wywołać metody <code class=" language-java"><span class="token function">clone</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> na obiektach naszych klas, ponieważ jest ona zadeklarowana w klasie <code class=" language-java">Object</code> z widocznością <code class=" language-java"><span class="token keyword keyword-protected">protected</span></code>. Oznacza to, że może być wywoływana jedynie wewnątrz klasy <code class=" language-java">Object</code>, oraz klas z niej dziedziczących, co oznacza, że wewnątrz klasy <code class=" language-java">Board</code> moglibyśmy jej użyć, ale już poza tą klasą, czyli np. w klasie <code class=" language-java">BoardTestSuite<span class="token punctuation">,</span></code> nie możemy. Próba jej wywołania skończy się błędem:</p>
<a class="img-modal-group" href="./Moduł_ 15. Wzorce projektowe cz. 1_files/java-11_04.png"><img src="./Moduł_ 15. Wzorce projektowe cz. 1_files/java-11_04.png" style="width: 100%;"></a>

<p>Musimy więc udostępnić z klasy <code class=" language-java">Board</code>na zewnątrz jakąś metodę — nazwijmy ją <code class=" language-java"><span class="token function">shallowCopy</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code>(i oznaczymy ją jako <code class=" language-java"><span class="token keyword keyword-public">public</span></code>) — która wewnętrznie będzie używała metody <code class=" language-java"><span class="token function">clone</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> odziedziczonej z klasy <code class=" language-java">Object</code>. </p>

<p>Wpierw jednak stworzymy nową klasę o nazwie <b>Prototype</b> w pakiecie <code class=" language-java">com<span class="token punctuation">.</span>kodilla<span class="token punctuation">.</span>patterns<span class="token punctuation">.</span>prototype</code> w katalogu <i>src/main/java</i>:</p>

<pre class="line-numbers language-java code-toolbar"><code class=" language-java"><span class="token keyword keyword-package">package</span> com<span class="token punctuation">.</span>kodilla<span class="token punctuation">.</span>patterns<span class="token punctuation">.</span>prototype<span class="token punctuation">;</span>

<span class="token keyword keyword-public">public</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">Prototype</span><span class="token operator">&lt;</span>T<span class="token operator">&gt;</span> <span class="token keyword keyword-implements">implements</span> <span class="token class-name">Cloneable</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword keyword-public">public</span> T <span class="token function">clone</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword keyword-throws">throws</span> CloneNotSupportedException <span class="token punctuation">{</span>
            <span class="token keyword keyword-return">return</span> <span class="token punctuation">(</span>T<span class="token punctuation">)</span><span class="token keyword keyword-super">super</span><span class="token punctuation">.</span><span class="token function">clone</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code><div class="toolbar"></div></pre>

<p>Zauważ, że przy nazwie klasy pojawił się zapis <code class=" language-java"><span class="token operator">&lt;</span>T<span class="token operator">&gt;</span></code>. Oznacza to, że deklarując obiekt tej klasy, możemy podać w nawiasach ostrokątnych typ obiektów, na których klasa ta będzie operowała (jak przy kolekcjach). Następnie tego symbolu <code class=" language-java">T</code> możemy użyć wewnątrz, aby wskazać, o jaki typ nam chodzi (taki, z jakim programista użył naszej klasy, np. <code class=" language-java">Prototype<span class="token operator">&lt;</span>Board<span class="token operator">&gt;</span></code> — w "zmiennej" <code class=" language-java">T</code> będziemy mieli nazwę typu <code class=" language-java">Board</code>).</p>
<p>Dzięki temu możemy metodę <code class=" language-java"><span class="token function">clone</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> (a zarazem i klasę <b>Prototype</b>) zastosować dla różnych przypadków, czyli różnych typów obiektów, na których będzie ta metoda działała.</p>

<p>Najistotniejszym elementem naszej klasy <b>Prototype</b> jest to, że implementuje ona interfejs <code class=" language-java">Cloneable</code>. Spójrzmy na kod tego interfejsu:</p>
<a class="img-modal-group" href="./Moduł_ 15. Wzorce projektowe cz. 1_files/java-11_05.png"><img src="./Moduł_ 15. Wzorce projektowe cz. 1_files/java-11_05.png" style="width: 100%;"></a>
<p>Zauważ, że jest to bardzo dziwny interfejs. Nie zawiera żadnych metod! Tego typu interfejsy nazywamy interfejsami oznaczającymi (<i>ang. marker interface</i>). Użycie tego interfejsu oznacza, że Twoja klasa nadaje się do klonowania :) Aby go zaimplementować, powinieneś nadpisać metodę <code class=" language-java"><span class="token function">clone</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> z klasy <code class=" language-java">Object</code> swoją własną jej implementacją. W klasie <b>Prototype</b> wywołujemy po prostu implementację rodzica, czyli metodę <code class=" language-java"><span class="token function">clone</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> z klasy <code class=" language-java">Object</code>. Klasa <b>Prototype</b> jest uniwersalna, więc nic więcej nie zrobi. Szczegóły musimy obsłużyć w naszych klasach <code class=" language-java">Board</code>,<code class=" language-java"> TasksList</code> oraz <code class=" language-java">Task</code>.</p>

<p>Najpierw wskażemy, że klasa <code class=" language-java">Board</code> dziedziczy z klasy <b>Prototype</b> (czyli nadaje się do klonowania) :)</p>

<p>Zmodyfikuj więc kod klasy <code class=" language-java">Board</code> w następujący sposób (zmiany zostały podświetlone):</p>

<pre class="line-numbers language-java code-toolbar"><code class=" language-java"><span class="token keyword keyword-package">package</span> com<span class="token punctuation">.</span>kodilla<span class="token punctuation">.</span>patterns<span class="token punctuation">.</span>prototype<span class="token punctuation">;</span>

<span class="token keyword keyword-import">import</span> java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>HashSet<span class="token punctuation">;</span>
<span class="token keyword keyword-import">import</span> java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>Set<span class="token punctuation">;</span>

<span class="token keyword keyword-public">public</span> <span class="token keyword keyword-final">final</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">Board</span> <span class="token keyword keyword-extends"></span><mark><span class="token keyword keyword-extends">extends</span> <span class="token class-name">Prototype</span></mark><span class="token class-name"></span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-private"></span><mark><span class="token keyword keyword-private">private</span> String name<span class="token punctuation">;</span></mark><span class="token punctuation"></span>
    <span class="token keyword keyword-private">private</span> <span class="token keyword keyword-final">final</span> Set<span class="token operator">&lt;</span>TasksList<span class="token operator">&gt;</span> lists <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token class-name">HashSet</span><span class="token operator">&lt;</span><span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword keyword-public"></span><mark><span class="token keyword keyword-public">public</span> <span class="token function">Board</span><span class="token punctuation">(</span>String name<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword keyword-this">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
    <span class="token punctuation">}</span></mark><span class="token punctuation"></span>

    <span class="token keyword keyword-public"></span><mark><span class="token keyword keyword-public">public</span> <span class="token keyword keyword-void">void</span> <span class="token function">setName</span><span class="token punctuation">(</span>String name<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword keyword-this">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
    <span class="token punctuation">}</span></mark><span class="token punctuation"></span>

    <span class="token keyword keyword-public">public</span> String <span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword keyword-return">return</span> name<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword keyword-public">public</span> Set<span class="token operator">&lt;</span>TasksList<span class="token operator">&gt;</span> <span class="token function">getLists</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword keyword-return">return</span> lists<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword keyword-public">public</span> String <span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            String s <span class="token operator">=</span> <span class="token string">"Board ["</span> <span class="token operator">+</span> name <span class="token operator">+</span> <span class="token string">"]\n"</span><span class="token punctuation">;</span>
            <span class="token keyword keyword-for">for</span><span class="token punctuation">(</span>TasksList list <span class="token operator">:</span> lists<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    s <span class="token operator">=</span> s <span class="token operator">+</span> list<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">"\n"</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token keyword keyword-return">return</span> s<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword keyword-public"></span><mark><span class="token keyword keyword-public">public</span> Board <span class="token function">shallowCopy</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword keyword-throws">throws</span> CloneNotSupportedException <span class="token punctuation">{</span>
            <span class="token keyword keyword-return">return</span> <span class="token punctuation">(</span>Board<span class="token punctuation">)</span><span class="token keyword keyword-super">super</span><span class="token punctuation">.</span><span class="token function">clone</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span></mark><span class="token punctuation"></span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code><div class="toolbar"></div></pre>

<p>Po pierwsze, dodaliśmy instrukcję <code class=" language-java"><span class="token keyword keyword-extends">extends</span> <span class="token class-name">Prototype</span></code>, dzięki czemu nasza klasa została również oznaczona jako obsługująca klonowanie (klasa <b>Prototype</b> implementuje interfejs <code class=" language-java">Cloneable</code>).</p>

<p>Po drugie, usunęliśmy specyfikator <code class=" language-java"><span class="token keyword keyword-final">final</span></code> przy polu <code class=" language-java">name</code> oraz dodaliśmy setter do tego pola — chcemy mieć możliwość ustawienia nowej wartości w polu <code class=" language-java">name</code> po sklonowaniu obiektu typu Board.</p>

<p>Po trzecie, dodaliśmy metodę <code class=" language-java"><span class="token function">shallowCopy</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code>, która wykonuje "płytkie klonowanie" obiektu klasy <code class=" language-java">Board</code>.</p>

<p>Zmodyfikuj teraz test:</p>

<pre class="line-numbers language-java code-toolbar"><code class=" language-java"><span class="token keyword keyword-package">package</span> com<span class="token punctuation">.</span>kodilla<span class="token punctuation">.</span>patterns<span class="token punctuation">.</span>prototype<span class="token punctuation">;</span>

<span class="token keyword keyword-import">import</span> org<span class="token punctuation">.</span>junit<span class="token punctuation">.</span>Test<span class="token punctuation">;</span>
<span class="token keyword keyword-import">import</span> java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>stream<span class="token punctuation">.</span>IntStream<span class="token punctuation">;</span>

<span class="token keyword keyword-public">public</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">BoardTestSuite</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-void">void</span> <span class="token function">testToString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment" spellcheck="true">//given</span>
            <span class="token comment" spellcheck="true">//creating the TasksList for todos</span>
            TasksList listToDo <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token class-name">TasksList</span><span class="token punctuation">(</span><span class="token string">"To Do Tasks"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            IntStream<span class="token punctuation">.</span><span class="token function">iterate</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> n <span class="token operator">-</span><span class="token operator">&gt;</span> n <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span>
                            <span class="token punctuation">.</span><span class="token function">limit</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span>
                            <span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span>n <span class="token operator">-</span><span class="token operator">&gt;</span> listToDo<span class="token punctuation">.</span><span class="token function">getTasks</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword keyword-new">new</span> <span class="token class-name">Task</span><span class="token punctuation">(</span><span class="token string">"To Do Task number "</span> <span class="token operator">+</span> n<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token comment" spellcheck="true">//creating the TaskList for tasks in progress</span>
            TasksList listInProgress <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token class-name">TasksList</span><span class="token punctuation">(</span><span class="token string">"In Progress Tasks"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            IntStream<span class="token punctuation">.</span><span class="token function">iterate</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> n <span class="token operator">-</span><span class="token operator">&gt;</span> n <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span>
                            <span class="token punctuation">.</span><span class="token function">limit</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span>
                            <span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span>n <span class="token operator">-</span><span class="token operator">&gt;</span> listInProgress<span class="token punctuation">.</span><span class="token function">getTasks</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword keyword-new">new</span> <span class="token class-name">Task</span><span class="token punctuation">(</span><span class="token string">"In Progress Task number "</span> <span class="token operator">+</span> n<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token comment" spellcheck="true">//creating the TaskList for done tasks</span>
            TasksList listDone <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token class-name">TasksList</span><span class="token punctuation">(</span><span class="token string">"Done Tasks"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            IntStream<span class="token punctuation">.</span><span class="token function">iterate</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> n <span class="token operator">-</span><span class="token operator">&gt;</span> n <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span>
                            <span class="token punctuation">.</span><span class="token function">limit</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span>
                            <span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span>n <span class="token operator">-</span><span class="token operator">&gt;</span> listDone<span class="token punctuation">.</span><span class="token function">getTasks</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword keyword-new">new</span> <span class="token class-name">Task</span><span class="token punctuation">(</span><span class="token string">"Done Task number "</span> <span class="token operator">+</span> n<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token comment" spellcheck="true">//creating the board and assigning the lists</span>
            Board board <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token class-name">Board</span><span class="token punctuation">(</span><span class="token string">"Project number 1"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            board<span class="token punctuation">.</span><span class="token function">getLists</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>listToDo<span class="token punctuation">)</span><span class="token punctuation">;</span>
            board<span class="token punctuation">.</span><span class="token function">getLists</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>listInProgress<span class="token punctuation">)</span><span class="token punctuation">;</span>
            board<span class="token punctuation">.</span><span class="token function">getLists</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>listDone<span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token comment" spellcheck="true"></span><mark><span class="token comment" spellcheck="true">//making a shallow clone of object board</span>
            Board clonedBoard <span class="token operator">=</span> null<span class="token punctuation">;</span>
            <span class="token keyword keyword-try">try</span> <span class="token punctuation">{</span>
                    clonedBoard <span class="token operator">=</span> board<span class="token punctuation">.</span><span class="token function">shallowCopy</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                    clonedBoard<span class="token punctuation">.</span><span class="token function">setName</span><span class="token punctuation">(</span><span class="token string">"Project number 2"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span> <span class="token keyword keyword-catch">catch</span> <span class="token punctuation">(</span><span class="token class-name">CloneNotSupportedException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span></mark><span class="token punctuation"></span>
            System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>board<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <mark>System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>clonedBoard<span class="token punctuation">)</span><span class="token punctuation">;</span></mark><span class="token punctuation"></span>

            <span class="token comment" spellcheck="true">//When</span>
            <span class="token comment" spellcheck="true">//Then</span>
            Assert<span class="token punctuation">.</span><span class="token function">assertEquals</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> board<span class="token punctuation">.</span><span class="token function">getLists</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <mark>Assert<span class="token punctuation">.</span><span class="token function">assertEquals</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> clonedBoard<span class="token punctuation">.</span><span class="token function">getLists</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></mark><span class="token punctuation"></span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code><div class="toolbar"></div></pre>

<p>Dodaliśmy w klasie testowej fragment kodu, który odpowiada za utworzenie klona obiektu <code class=" language-java">board</code> przy pomocy jego metody <code class=" language-java"><span class="token function">shallowCopy</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code>. Musieliśmy obsłużyć wyjątek (jest on <code class=" language-java">checked</code>, czyli wymaga obsłużenia, tak zwanego <i>handlingu</i>). Na końcu wyświetliliśmy bezpośrednio po sobie oba obiekty: <code class=" language-java">board</code> oraz <code class=" language-java">clonedBoard</code>. Wynik przedstawiono poniżej:</p>
<a class="img-modal-group" href="./Moduł_ 15. Wzorce projektowe cz. 1_files/java-11_06.png"><img src="./Moduł_ 15. Wzorce projektowe cz. 1_files/java-11_06.png" style="width: 100%;"></a>
<p>Widać więc, że obiekt rzeczywiście został sklonowany. Płytkie klonowanie ma jednak kilka wad. Pokażemy je na przykładzie.</p>
<h4>Wady płytkiego klonowania obiektów</h4>
<p>Płytkie klonowanie robi klona "głównej" klasy. Co jednak z obiektami innych klas, podłączonymi jako właściwości do "głównej" klasy? W klasie <code class=" language-java">Board</code> mamy właściwość <code class=" language-java">lists</code>, która jest obiektem klasy <code class=" language-java">HashSet</code>. We właściwości <code class=" language-java">lists</code> przechowujemy tak naprawdę... adres obiektu klasy <code class=" language-java">HashSet</code> w pamięci komputera. Innymi słowy, <code class=" language-java">lists</code> jest <u>referencją</u> do obiektu istniejącego w pamięci.</p>

<p>Co więc dzieje się podczas klonowania obiektu klasy <code class=" language-java">Board</code>? Sklonowaniu ulega również właściwość <code class=" language-java">lists</code>, czyli do nowego obiektu klasy <code class=" language-java">Board</code>, do właściwości <code class=" language-java">lists</code>, zostanie wpisana taka sama wartość, jaka była w oryginalnym obiekcie, a więc <b>referencja do tego samego obiektu HashSet w pamięci komputera</b>. Oznacza to, że gdybyśmy np. chcieli dodać jakiś obiekt do tej listy, zostałby on dodany także w oryginalnej klasie Board i w każdej z jej kopii, ponieważ wszystkie z tych kopii korzystałyby z tego samego obiektu listy (ze swojego prototypu).</p>

<p>Sprawdź, czy tak jest w rzeczywistości — do kodu testu dopisz jedną linijkę (zaznaczona podświetleniem):</p>

<pre class="line-numbers language-java code-toolbar"><code class=" language-java"><span class="token keyword keyword-package">package</span> com<span class="token punctuation">.</span>kodilla<span class="token punctuation">.</span>patterns<span class="token punctuation">.</span>prototype<span class="token punctuation">;</span>

<span class="token keyword keyword-import">import</span> org<span class="token punctuation">.</span>junit<span class="token punctuation">.</span>Test<span class="token punctuation">;</span>
<span class="token keyword keyword-import">import</span> java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>stream<span class="token punctuation">.</span>IntStream<span class="token punctuation">;</span>

<span class="token keyword keyword-public">public</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">BoardTestSuite</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-void">void</span> <span class="token function">testToString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment" spellcheck="true">//given</span>
            <span class="token comment" spellcheck="true">//creating the TasksList for todos</span>
            TasksList listToDo <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token class-name">TasksList</span><span class="token punctuation">(</span><span class="token string">"To Do Tasks"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            IntStream<span class="token punctuation">.</span><span class="token function">iterate</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> n <span class="token operator">-</span><span class="token operator">&gt;</span> n <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span>
                            <span class="token punctuation">.</span><span class="token function">limit</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span>
                            <span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span>n <span class="token operator">-</span><span class="token operator">&gt;</span> listToDo<span class="token punctuation">.</span><span class="token function">getTasks</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword keyword-new">new</span> <span class="token class-name">Task</span><span class="token punctuation">(</span><span class="token string">"To Do Task number "</span> <span class="token operator">+</span> n<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token comment" spellcheck="true">//creating the TaskList for tasks in progress</span>
            TasksList listInProgress <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token class-name">TasksList</span><span class="token punctuation">(</span><span class="token string">"In Progress Tasks"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            IntStream<span class="token punctuation">.</span><span class="token function">iterate</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> n <span class="token operator">-</span><span class="token operator">&gt;</span> n <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span>
                            <span class="token punctuation">.</span><span class="token function">limit</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span>
                            <span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span>n <span class="token operator">-</span><span class="token operator">&gt;</span> listInProgress<span class="token punctuation">.</span><span class="token function">getTasks</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword keyword-new">new</span> <span class="token class-name">Task</span><span class="token punctuation">(</span><span class="token string">"In Progress Task number "</span> <span class="token operator">+</span> n<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token comment" spellcheck="true">//creating the TaskList for done tasks</span>
            TasksList listDone <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token class-name">TasksList</span><span class="token punctuation">(</span><span class="token string">"Done Tasks"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            IntStream<span class="token punctuation">.</span><span class="token function">iterate</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> n <span class="token operator">-</span><span class="token operator">&gt;</span> n <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span>
                            <span class="token punctuation">.</span><span class="token function">limit</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span>
                            <span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span>n <span class="token operator">-</span><span class="token operator">&gt;</span> listDone<span class="token punctuation">.</span><span class="token function">getTasks</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword keyword-new">new</span> <span class="token class-name">Task</span><span class="token punctuation">(</span><span class="token string">"Done Task number "</span> <span class="token operator">+</span> n<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token comment" spellcheck="true">//creating the board and assigning the lists</span>
            Board board <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token class-name">Board</span><span class="token punctuation">(</span><span class="token string">"Project number 1"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            board<span class="token punctuation">.</span><span class="token function">getLists</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>listToDo<span class="token punctuation">)</span><span class="token punctuation">;</span>
            board<span class="token punctuation">.</span><span class="token function">getLists</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>listInProgress<span class="token punctuation">)</span><span class="token punctuation">;</span>
            board<span class="token punctuation">.</span><span class="token function">getLists</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>listDone<span class="token punctuation">)</span><span class="token punctuation">;</span>

                   <span class="token comment" spellcheck="true">//Shallow clone of board</span>
            Board clonedBoard <span class="token operator">=</span> null<span class="token punctuation">;</span>
            <span class="token keyword keyword-try">try</span> <span class="token punctuation">{</span>
                    clonedBoard <span class="token operator">=</span> board<span class="token punctuation">.</span><span class="token function">shallowCopy</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                    clonedBoard<span class="token punctuation">.</span><span class="token function">setName</span><span class="token punctuation">(</span><span class="token string">"Project number 2"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span> <span class="token keyword keyword-catch">catch</span> <span class="token punctuation">(</span><span class="token class-name">CloneNotSupportedException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>board<span class="token punctuation">)</span><span class="token punctuation">;</span>
            System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>clonedBoard<span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token comment" spellcheck="true">//When</span>
            <mark>board<span class="token punctuation">.</span><span class="token function">getLists</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span>listToDo<span class="token punctuation">)</span><span class="token punctuation">;</span></mark><span class="token punctuation"></span>

            <span class="token comment" spellcheck="true">//Then</span>
            System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>board<span class="token punctuation">)</span><span class="token punctuation">;</span>
            System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>clonedBoard<span class="token punctuation">)</span><span class="token punctuation">;</span>
            Assert<span class="token punctuation">.</span><span class="token function">assertEquals</span><span class="token punctuation">(</span><span class="token number"><mark>2</mark></span><span class="token punctuation">,</span> board<span class="token punctuation">.</span><span class="token function">getLists</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            Assert<span class="token punctuation">.</span><span class="token function">assertEquals</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> clonedBoard<span class="token punctuation">.</span><span class="token function">getLists</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code><div class="toolbar"></div></pre>



<p>W zaznaczonej linii usuwamy z obiektu <code class=" language-java">board</code> jedną z list zadań — listę <code class=" language-java">listToDo</code>. Ważne jest to, że usuwamy tę listę z obiektu <code class=" language-java">board</code> już po jego sklonowaniu do obiektu <code class=" language-java">clonedBoard</code>. Niestety, w związku z tym, że klonowanie było "płytkie", pole <code class=" language-java">lists</code> obiektów <code class=" language-java">board</code> oraz <code class=" language-java">clonedBoard</code> wskazują na ten sam obiekt klasy <code class=" language-java">HashSet</code> w pamięci komputera (referencja do niego została sklonowana). Usunięcie więc jednej z list z obiektu <code class=" language-java">board</code> poskutkuje również usunięciem tej listy z obiektu <code class=" language-java">clonedBoard</code>. Możesz się o tym przekonać uruchamiając test:</p>
<a class="img-modal-group" href="./Moduł_ 15. Wzorce projektowe cz. 1_files/java-11_07.png"><img src="./Moduł_ 15. Wzorce projektowe cz. 1_files/java-11_07.png" style="width: 100%;"></a>
<p>Test nie wykonał się poprawnie, ponieważ asercja <code class=" language-java">Assert<span class="token punctuation">.</span><span class="token function">assertEquals</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> clonedBoard<span class="token punctuation">.</span><span class="token function">getLists</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code> zwróciła błąd — rozmiar kolekcji zwracanej przez <code class=" language-java"><span class="token function">getLists</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> wynosi dwa elementy zamiast oczekiwanych trzech, mimo że usuwaliśmy listę jedynie z tablicy <code class=" language-java">board</code>, a nie <code class=" language-java">clonedBoard</code>! Zapomnieliśmy jednak, że pole <code class=" language-java">lists</code> w obiektach <code class=" language-java">board</code> oraz <code class=" language-java">clonedBoard</code> wskazują na tę samą listę w pamięci komputera (jej adres, czyli zawartość zmiennej <code class=" language-java">lists</code>, został przecież sklonowany)...</p>

<p>"Płytkie" klonowanie jest przydatne, należy go jednak używać świadomie i ostrożnie, gdyż może niechcący doprowadzić do powstania trudnych do wyśledzenia błędów. Rozwiązaniem tego problemu jest "głębokie" klonowanie obiektów.</p>
<h3 id="152-prototype-glebokie-klonowanie-obiektow-wzorzec-prototype-w-pelnej-postaci">Głębokie klonowanie obiektów — wzorzec Prototype w pełnej postaci</h3>
<p>Podczas "głębokiego" klonowania obiektów, oprócz wywołania metody <code class=" language-java"><span class="token function">clone</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code>, należy również samodzielnie zadbać o to, aby wszystkie inne obiekty "podłączone" do naszego klonowanego obiektu zostały również sklonowane. Dopisz teraz do klasy <code class=" language-java">Board</code> metodę <code class=" language-java"><span class="token function">deepCopy</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> (zmiany są podświetlone):</p>


<pre class="line-numbers language-java code-toolbar"><code class=" language-java"><span class="token keyword keyword-package">package</span> com<span class="token punctuation">.</span>kodilla<span class="token punctuation">.</span>patterns<span class="token punctuation">.</span>prototype<span class="token punctuation">;</span>

<span class="token keyword keyword-import">import</span> java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>HashSet<span class="token punctuation">;</span>
<span class="token keyword keyword-import">import</span> java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>Set<span class="token punctuation">;</span>

<span class="token keyword keyword-public">public</span> <span class="token keyword keyword-final">final</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">Board</span> <span class="token keyword keyword-extends">extends</span> <span class="token class-name">Prototype</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-private">private</span> String name<span class="token punctuation">;</span>
    <span class="token keyword keyword-private"></span><mark><span class="token keyword keyword-private">private</span> Set<span class="token operator">&lt;</span>TasksList<span class="token operator">&gt;</span> lists <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token class-name">HashSet</span><span class="token operator">&lt;</span><span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></mark><span class="token punctuation"></span>

    <span class="token keyword keyword-public">public</span> <span class="token function">Board</span><span class="token punctuation">(</span>String name<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword keyword-this">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-void">void</span> <span class="token function">setName</span><span class="token punctuation">(</span>String name<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword keyword-this">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword keyword-public">public</span> String <span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword keyword-return">return</span> name<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword keyword-public">public</span> Set<span class="token operator">&lt;</span>TasksList<span class="token operator">&gt;</span> <span class="token function">getLists</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword keyword-return">return</span> lists<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword keyword-public">public</span> String <span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            String s <span class="token operator">=</span> <span class="token string">"Board ["</span> <span class="token operator">+</span> name <span class="token operator">+</span> <span class="token string">"]\n"</span><span class="token punctuation">;</span>
            <span class="token keyword keyword-for">for</span><span class="token punctuation">(</span>TasksList list <span class="token operator">:</span> lists<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    s <span class="token operator">=</span> s <span class="token operator">+</span> list<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">"\n"</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token keyword keyword-return">return</span> s<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword keyword-public">public</span> Board <span class="token function">shallowCopy</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword keyword-throws">throws</span> CloneNotSupportedException <span class="token punctuation">{</span>
            <span class="token keyword keyword-return">return</span> <span class="token punctuation">(</span>Board<span class="token punctuation">)</span><span class="token keyword keyword-super">super</span><span class="token punctuation">.</span><span class="token function">clone</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword keyword-public"></span><mark><span class="token keyword keyword-public">public</span> Board <span class="token function">deepCopy</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword keyword-throws">throws</span> CloneNotSupportedException <span class="token punctuation">{</span>
            Board clonedBoard <span class="token operator">=</span> <span class="token punctuation">(</span>Board<span class="token punctuation">)</span><span class="token keyword keyword-super">super</span><span class="token punctuation">.</span><span class="token function">clone</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            clonedBoard<span class="token punctuation">.</span>lists <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token class-name">HashSet</span><span class="token operator">&lt;</span><span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword keyword-for">for</span><span class="token punctuation">(</span>TasksList theList <span class="token operator">:</span> lists<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    TasksList clonedList <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token class-name">TasksList</span><span class="token punctuation">(</span>theList<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token keyword keyword-for">for</span><span class="token punctuation">(</span>Task task <span class="token operator">:</span> theList<span class="token punctuation">.</span><span class="token function">getTasks</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                            clonedList<span class="token punctuation">.</span><span class="token function">getTasks</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>task<span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token punctuation">}</span>
                    clonedBoard<span class="token punctuation">.</span><span class="token function">getLists</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>clonedList<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token keyword keyword-return">return</span> clonedBoard<span class="token punctuation">;</span>
    <span class="token punctuation">}</span></mark><span class="token punctuation"></span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code><div class="toolbar"></div></pre>



<p>Zmiany polegają na usunięciu polecenia <code class=" language-java"><span class="token keyword keyword-final">final</span></code> przy deklaracji właściwości <code class=" language-java">lists</code>, a także na dodaniu metody <code class=" language-java"><span class="token function">deepCopy</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code>, która po "płytkim" sklonowaniu tworzy nowy obiekt <code class=" language-java">HashSet</code>, a następnie w pętli — dla każdej listy zadań — wykonuje kolejną pętlę, dla każdego zadania na liście. Dla każdego zadania tworzony jest nowy obiekt typu <code class=" language-java">Task</code>, a dla każdej listy zadań tworzona jest nowa lista typu <code class=" language-java">TasksList</code> i cała struktura klonowana jest zadanie po zadaniu do nowych obiektów — dzięki temu unikniemy problemu z referencjami, który opisaliśmy wyżej.</p>

<p>Zmodyfikuj teraz kod testu, aby sprawdzić, czy dopisana metoda działa poprawnie (zmiany oznaczone na zielono):</p>

<pre class="line-numbers language-java code-toolbar"><code class=" language-java"><span class="token keyword keyword-package">package</span> com<span class="token punctuation">.</span>kodilla<span class="token punctuation">.</span>patterns<span class="token punctuation">.</span>prototype<span class="token punctuation">;</span>

<span class="token keyword keyword-import">import</span> org<span class="token punctuation">.</span>junit<span class="token punctuation">.</span>Assert<span class="token punctuation">;</span>
<span class="token keyword keyword-import">import</span> org<span class="token punctuation">.</span>junit<span class="token punctuation">.</span>Test<span class="token punctuation">;</span>
<span class="token keyword keyword-import">import</span> java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>stream<span class="token punctuation">.</span>IntStream<span class="token punctuation">;</span>

<span class="token keyword keyword-public">public</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">BoardTestSuite</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-void">void</span> <span class="token function">testToString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment" spellcheck="true">//given</span>
            <span class="token comment" spellcheck="true">//creating the TasksList for todos</span>
            TasksList listToDo <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token class-name">TasksList</span><span class="token punctuation">(</span><span class="token string">"To Do Tasks"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            IntStream<span class="token punctuation">.</span><span class="token function">iterate</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> n <span class="token operator">-</span><span class="token operator">&gt;</span> n <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span>
                            <span class="token punctuation">.</span><span class="token function">limit</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span>
                            <span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span>n <span class="token operator">-</span><span class="token operator">&gt;</span> listToDo<span class="token punctuation">.</span><span class="token function">getTasks</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword keyword-new">new</span> <span class="token class-name">Task</span><span class="token punctuation">(</span><span class="token string">"To Do Task number "</span> <span class="token operator">+</span> n<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token comment" spellcheck="true">//creating the TaskList for tasks in progress</span>
            TasksList listInProgress <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token class-name">TasksList</span><span class="token punctuation">(</span><span class="token string">"In Progress Tasks"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            IntStream<span class="token punctuation">.</span><span class="token function">iterate</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> n <span class="token operator">-</span><span class="token operator">&gt;</span> n <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span>
                            <span class="token punctuation">.</span><span class="token function">limit</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span>
                            <span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span>n <span class="token operator">-</span><span class="token operator">&gt;</span> listInProgress<span class="token punctuation">.</span><span class="token function">getTasks</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword keyword-new">new</span> <span class="token class-name">Task</span><span class="token punctuation">(</span><span class="token string">"In Progress Task number "</span> <span class="token operator">+</span> n<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token comment" spellcheck="true">//creating the TaskList for done tasks</span>
            TasksList listDone <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token class-name">TasksList</span><span class="token punctuation">(</span><span class="token string">"Done Tasks"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            IntStream<span class="token punctuation">.</span><span class="token function">iterate</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> n <span class="token operator">-</span><span class="token operator">&gt;</span> n <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span>
                            <span class="token punctuation">.</span><span class="token function">limit</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span>
                            <span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span>n <span class="token operator">-</span><span class="token operator">&gt;</span> listDone<span class="token punctuation">.</span><span class="token function">getTasks</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword keyword-new">new</span> <span class="token class-name">Task</span><span class="token punctuation">(</span><span class="token string">"Done Task number "</span> <span class="token operator">+</span> n<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token comment" spellcheck="true">//creating the board and assigning the lists</span>
            Board board <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token class-name">Board</span><span class="token punctuation">(</span><span class="token string">"Project number 1"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            board<span class="token punctuation">.</span><span class="token function">getLists</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>listToDo<span class="token punctuation">)</span><span class="token punctuation">;</span>
            board<span class="token punctuation">.</span><span class="token function">getLists</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>listInProgress<span class="token punctuation">)</span><span class="token punctuation">;</span>
            board<span class="token punctuation">.</span><span class="token function">getLists</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>listDone<span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token comment" spellcheck="true">//making a shallow copy of object board</span>
            Board clonedBoard <span class="token operator">=</span> null<span class="token punctuation">;</span>
            <span class="token keyword keyword-try">try</span> <span class="token punctuation">{</span>
                    clonedBoard <span class="token operator">=</span> board<span class="token punctuation">.</span><span class="token function">shallowCopy</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                    clonedBoard<span class="token punctuation">.</span><span class="token function">setName</span><span class="token punctuation">(</span><span class="token string">"Project number 2"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span> <span class="token keyword keyword-catch">catch</span> <span class="token punctuation">(</span><span class="token class-name">CloneNotSupportedException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>

            <span class="token comment" spellcheck="true"></span><mark><span class="token comment" spellcheck="true">//making a deep copy of object board</span>
            Board deepClonedBoard <span class="token operator">=</span> null<span class="token punctuation">;</span>
            <span class="token keyword keyword-try">try</span> <span class="token punctuation">{</span>
                     deepClonedBoard <span class="token operator">=</span> board<span class="token punctuation">.</span><span class="token function">deepCopy</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                     deepClonedBoard<span class="token punctuation">.</span><span class="token function">setName</span><span class="token punctuation">(</span><span class="token string">"Project number 3"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span> <span class="token keyword keyword-catch">catch</span> <span class="token punctuation">(</span><span class="token class-name">CloneNotSupportedException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span></mark><span class="token punctuation"></span>

            <span class="token comment" spellcheck="true">//When</span>
            board<span class="token punctuation">.</span><span class="token function">getLists</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span>listToDo<span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token comment" spellcheck="true">//Then</span>
            System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>board<span class="token punctuation">)</span><span class="token punctuation">;</span>
            System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>clonedBoard<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <mark>System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>deepClonedBoard<span class="token punctuation">)</span><span class="token punctuation">;</span></mark><span class="token punctuation"></span>
            Assert<span class="token punctuation">.</span><span class="token function">assertEquals</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> board<span class="token punctuation">.</span><span class="token function">getLists</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            Assert<span class="token punctuation">.</span><span class="token function">assertEquals</span><span class="token punctuation">(</span><span class="token number"><mark>2</mark></span><span class="token punctuation">,</span> clonedBoard<span class="token punctuation">.</span><span class="token function">getLists</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <mark>Assert<span class="token punctuation">.</span><span class="token function">assertEquals</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> deepClonedBoard<span class="token punctuation">.</span><span class="token function">getLists</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            Assert<span class="token punctuation">.</span><span class="token function">assertEquals</span><span class="token punctuation">(</span>clonedBoard<span class="token punctuation">.</span><span class="token function">getLists</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> board<span class="token punctuation">.</span><span class="token function">getLists</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            Assert<span class="token punctuation">.</span><span class="token function">assertNotEquals</span><span class="token punctuation">(</span>deepClonedBoard<span class="token punctuation">.</span><span class="token function">getLists</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> board<span class="token punctuation">.</span><span class="token function">getLists</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></mark><span class="token punctuation"></span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code><div class="toolbar"></div></pre>


<p>Spójrz na wynik wykonania testu:</p>
<a class="img-modal-group" href="./Moduł_ 15. Wzorce projektowe cz. 1_files/java-11_08.png"><img src="./Moduł_ 15. Wzorce projektowe cz. 1_files/java-11_08.png" style="width: 100%;"></a>
<h3 id="152-prototype-podsumowanie">Podsumowanie</h3>
<p>Klasy zrealizowane według wzorca <b>Prototype</b>:</p>
<ul>
    <li>Implementują interfejs <code class=" language-java">Cloneable</code>, poprzez rozszerzenie dopisanej klasy, która go implementuje, dzięki czemu oznaczone są jako możliwe do klonowania (<code class=" language-java">Cloneable</code> to tzw. <i>marker-interface</i>).</li>
    <li>Udostępniają metodę <code class=" language-java"><span class="token function">shallowCopy</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> do "płytkiego" klonowania.</li>
    <li>Udostępniają metodę <code class=" language-java"><span class="token function">deepCopy</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> do "głębokiego" klonowania.</li>
</ul>

                        </div>
                    </div>
                                        <div class="card-block task-card">
                        <h3 id="152-prototype-zadanie-klonujemy-biblioteke">Zadanie: <span class="task-title">Klonujemy bibliotekę</span></h3>
                        <div class="task-content">
                            <p>Celem zadania jest zastosowanie wzorca <b>Prototype</b> do klasy reprezentującej bibliotekę z książkami. Aby zrealizować to zadanie:</p>
<ol>
    <li>Utwórz w katalogu <i>src/main/java </i>nowy pakiet <code class=" language-java">com<span class="token punctuation">.</span>kodilla<span class="token punctuation">.</span>patterns<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>library</code>.</li>
    <li>W tym pakiecie utwórz klasę <code class=" language-java">Book</code>, jak pokazano poniżej:</li>
    <pre class="line-numbers language-java code-toolbar"><code class=" language-java"><span class="token keyword keyword-package">package</span> com<span class="token punctuation">.</span>kodilla<span class="token punctuation">.</span>patterns<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>library<span class="token punctuation">;</span>

<span class="token keyword keyword-import">import</span> java<span class="token punctuation">.</span>time<span class="token punctuation">.</span>LocalDate<span class="token punctuation">;</span>

<span class="token keyword keyword-public">public</span> <span class="token keyword keyword-final">final</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">Book</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-final">final</span> String title<span class="token punctuation">;</span>
    <span class="token keyword keyword-final">final</span> String author<span class="token punctuation">;</span>
    <span class="token keyword keyword-final">final</span> LocalDate publicationDate<span class="token punctuation">;</span>

    <span class="token keyword keyword-public">public</span> <span class="token function">Book</span><span class="token punctuation">(</span><span class="token keyword keyword-final">final</span> String title<span class="token punctuation">,</span> <span class="token keyword keyword-final">final</span> String author<span class="token punctuation">,</span> <span class="token keyword keyword-final">final</span> LocalDate publicationDate<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword keyword-this">this</span><span class="token punctuation">.</span>title <span class="token operator">=</span> title<span class="token punctuation">;</span>
            <span class="token keyword keyword-this">this</span><span class="token punctuation">.</span>author <span class="token operator">=</span> author<span class="token punctuation">;</span>
            <span class="token keyword keyword-this">this</span><span class="token punctuation">.</span>publicationDate <span class="token operator">=</span> publicationDate<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword keyword-public">public</span> String <span class="token function">getTitle</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword keyword-return">return</span> title<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword keyword-public">public</span> String <span class="token function">getAuthor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword keyword-return">return</span> author<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword keyword-public">public</span> LocalDate <span class="token function">getPublicationDate</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword keyword-return">return</span> publicationDate<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword keyword-public">public</span> String <span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword keyword-return">return</span> <span class="token string">"Book{"</span> <span class="token operator">+</span>
                            <span class="token string">"title='"</span> <span class="token operator">+</span> title <span class="token operator">+</span> <span class="token string">'\''</span> <span class="token operator">+</span>
                            <span class="token string">", author='"</span> <span class="token operator">+</span> author <span class="token operator">+</span> <span class="token string">'\''</span> <span class="token operator">+</span>
                            <span class="token string">", publicationDate="</span> <span class="token operator">+</span> publicationDate <span class="token operator">+</span>
                            <span class="token string">'}'</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code><div class="toolbar"></div></pre>
    <li>Utwórz w tym samym pakiecie także klasę <code class=" language-java">Library</code>, jak pokazano poniżej:</li>

<pre class="line-numbers language-java code-toolbar"><code class=" language-java"><span class="token keyword keyword-package">package</span> com<span class="token punctuation">.</span>kodilla<span class="token punctuation">.</span>patterns<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>library<span class="token punctuation">;</span>

<span class="token keyword keyword-import">import</span> java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>HashSet<span class="token punctuation">;</span>
<span class="token keyword keyword-import">import</span> java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>Set<span class="token punctuation">;</span>

<span class="token keyword keyword-public">public</span> <span class="token keyword keyword-final">final</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">Library</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-final">final</span> String name<span class="token punctuation">;</span>
    <span class="token keyword keyword-final">final</span> Set<span class="token operator">&lt;</span>Book<span class="token operator">&gt;</span> books <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token class-name">HashSet</span><span class="token operator">&lt;</span><span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword keyword-public">public</span> <span class="token function">Library</span><span class="token punctuation">(</span><span class="token keyword keyword-final">final</span> String name<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword keyword-this">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword keyword-public">public</span> String <span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword keyword-return">return</span> name<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword keyword-public">public</span> Set<span class="token operator">&lt;</span>Book<span class="token operator">&gt;</span> <span class="token function">getBooks</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword keyword-return">return</span> books<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code><div class="toolbar"></div></pre>

    <li>W katalogu <i>src/test/java</i> utwórz pakiet <code class=" language-java">com<span class="token punctuation">.</span>kodilla<span class="token punctuation">.</span>patterns<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>library</code>, a w nim zestaw testów <code class=" language-java">LibraryTestSuite</code> zawierający test <code class=" language-java"><span class="token function">testGetBooks</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code>. W teście stwórz obiekt biblioteki oraz kilka obiektów książek i dodaj je do księgozbioru.</li>
    <li>Zmodyfikuj klasę <code class=" language-java">Library</code> tak, aby była zgodna ze wzorcem <b>Prototype</b>.</li>
    <li>Zmodyfikuj test <code class=" language-java"><span class="token function">testGetBooks</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> w taki sposób, aby prezentował działanie <code class=" language-java"><span class="token function">shallowCopy</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> oraz <code class=" language-java"><span class="token function">deepCopy</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code>.</li>
    <li>Utworzony kod prześlij do repozytorium GitHub.</li>
</ol>

<p>Link do repozytorium wklej poniżej i wyślij do mentora.</p>

                        </div>
                    </div>
                                        <div class="card-block submodule-footer clearfix  completed ">
                                                <div class="clearfix">
                                                                                <a href="https://kodilla.com/pl/bootcamp-task/146/268025" target="_blank" class="btn btn-info-outline">Podgląd zadania</a>
                            <form target="_blank" class="form-inline project-link-form">
                                <div class="form-group">
                                    <input type="text" name="link" class="form-control" value="https://github.com/tymsocha/spring-first-steps/commits/master">
                                </div>
                                <button type="submit" class="btn  btn-primary ">Wyślij link <i class="fa fa-check"></i></button>
                            </form>
                                                                                                    </div>
                    </div>
                </section>
                                    
                <section id="submodule-381" class="card submodule completed" data-bootcamp-user-submodule-id="268026">
                <!-- klasy dla section: completed current comments -->
                    <div class="card-block submodule-header clearfix">
                        <i class="fa fa-check-circle-o fa-2x"></i>
                        <i class="fa fa-play-circle-o fa-2x"></i>
                        <i class="fa fa-exclamation-circle fa-2x"></i>
                        <i class="fa fa-send-o fa-2x"></i>
                        <h2 class="bootcamp-submodule-name">15.3. <span>Strategy</span></h2>
                                            </div>
                    <div class="card-block">
                        <div class="submodule-content">
                            <p>Wzorzec <b>Strategy</b> (<i>pol. strategia</i>) polega na możliwości "wstrzykiwania" całych kawałków kodu, realizujących w różny sposób pewne zadania (w zależności od tego, jaką przyjmiemy strategię działania). </p>
<h3 id="153-strategy-opis-problemu-warunki-poczatkowe">Opis problemu — warunki początkowe</h3>
<p>Wzorzec ten przedstawimy na przykładzie klientów biura maklerskiego. Biuro maklerskie będzie obsługiwało zlecenia kupna i sprzedaży papierów wartościowych dla swoich klientów, według wybranych przez nich strategii inwestowania. Nawet nazwa się zgadza, więc łatwiej będzie zrozumieć :)</p>

<p>Pracę rozpoczniemy od utworzenia w katalogu <i>src/main/java</i> nowego pakietu o nazwie <code class=" language-java">com<span class="token punctuation">.</span>kodilla<span class="token punctuation">.</span>patterns<span class="token punctuation">.</span>strategy</code>. W pakiecie tym utworzymy klasę <code class=" language-java">Customer</code> (jako ogólną klasę reprezentującą klienta) oraz dziedziczące z niej trzy klasy, reprezentujące trzy różne grupy docelowe klientów:</p>
<ul>
    <li><code class=" language-java">Customer</code></li>
    <li><code class=" language-java">CorporateCustomer</code> — reprezentująca klientów korporacyjnych, skłonnych do podejmowania jedynie umiarkowanego ryzyka inwestycyjnego</li>
    <li><code class=" language-java">IndividualYoungCustomer</code> — reprezentująca indywidualnych, młodych klientów, gotowych do agresywnego (ale i ryzykownego) inwestowania</li>
    <li><code class=" language-java">IndividualCustomer</code> — reprezentująca dojrzałych klientów, dla których najbardziej istotna jest ochrona kapitału bez skłonności do żadnego ryzyka inwestycyjnego, dająca niską, lecz pewną stopę zwrotu z inwestycji</li>
</ul>

<p>Kod klas poniżej (wszystkie umieść w tym samym pakiecie <code class=" language-java">com<span class="token punctuation">.</span>kodilla<span class="token punctuation">.</span>patterns<span class="token punctuation">.</span>strategy</code>).</p>

<p>Klasa <code class=" language-java">Customer</code>:</p>

<pre class="line-numbers language-java code-toolbar"><code class=" language-java"><span class="token keyword keyword-package">package</span> com<span class="token punctuation">.</span>kodilla<span class="token punctuation">.</span>patterns<span class="token punctuation">.</span>strategy<span class="token punctuation">;</span>

<span class="token keyword keyword-public">public</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">Customer</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-final">final</span> <span class="token keyword keyword-private">private</span> String name<span class="token punctuation">;</span>

    <span class="token keyword keyword-public">public</span> <span class="token function">Customer</span><span class="token punctuation">(</span>String name<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword keyword-this">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword keyword-public">public</span> String <span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword keyword-return">return</span> name<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code><div class="toolbar"></div></pre>

<p>Klasa <code class=" language-java">CorporateCustomer</code>:</p>

<pre class="line-numbers language-java code-toolbar"><code class=" language-java"><span class="token keyword keyword-package">package</span> com<span class="token punctuation">.</span>kodilla<span class="token punctuation">.</span>patterns<span class="token punctuation">.</span>strategy<span class="token punctuation">;</span>

<span class="token keyword keyword-public">public</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">CorporateCustomer</span> <span class="token keyword keyword-extends">extends</span> <span class="token class-name">Customer</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-public">public</span> <span class="token function">CorporateCustomer</span><span class="token punctuation">(</span>String name<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword keyword-super">super</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code><div class="toolbar"></div></pre>

<p>Klasa <code class=" language-java">IndividualYoungCustomer</code>:</p>

<pre class="line-numbers language-java code-toolbar"><code class=" language-java"><span class="token keyword keyword-package">package</span> com<span class="token punctuation">.</span>kodilla<span class="token punctuation">.</span>patterns<span class="token punctuation">.</span>strategy<span class="token punctuation">;</span>

<span class="token keyword keyword-public">public</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">IndividualYoungCustomer</span> <span class="token keyword keyword-extends">extends</span> <span class="token class-name">Customer</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-public">public</span> <span class="token function">IndividualYoungCustomer</span><span class="token punctuation">(</span>String name<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword keyword-super">super</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code><div class="toolbar"></div></pre>

<p>Klasa <code class=" language-java">IndividualCustomer</code>:</p>

<pre class="line-numbers language-java code-toolbar"><code class=" language-java"><span class="token keyword keyword-package">package</span> com<span class="token punctuation">.</span>kodilla<span class="token punctuation">.</span>patterns<span class="token punctuation">.</span>strategy<span class="token punctuation">;</span>

<span class="token keyword keyword-public">public</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">IndividualCustomer</span> <span class="token keyword keyword-extends">extends</span> <span class="token class-name">Customer</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-public">public</span> <span class="token function">IndividualCustomer</span><span class="token punctuation">(</span>String name<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword keyword-super">super</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code><div class="toolbar"></div></pre>

<h3 id="153-strategy-opis-problemu-co-nalezy-uzyskac">Opis problemu — co należy uzyskać</h3>
<p>Nasz program ma przypisać do poszczególnych grup klientów jedną ze strategii inwestowania:</p>
<ul>
    <li>zachowawczą — dla dojrzałych klientów indywidualnych</li>
    <li>zrównoważoną — dla klientów korporacyjnych</li>
    <li>agresywną — dla młodych klientów indywidualnych</li>
</ul>

<p>Z zastrzeżeniem jednak, że na specjalne życzenie klienta w jego indywidualnym przypadku można zastosować inną (wybraną przez klienta) strategię inwestowania.</p>

<p>Nasze biuro maklerskie posiada trzy algorytmy na tę okazję, zwracające informację o papierach wartościowych, jakie najlepiej jest w danym momencie kupować — po jednym dla każdej z oferowanych strategii inwestycyjnych. Algorytmy te zapisane są w osobnych klasach programu. </p>
<h3 id="153-strategy-rozwiazanie-wzorzec-strategy">Rozwiązanie — wzorzec Strategy</h3>
<p>Przykład ten bardzo dobrze nadaje się do pokazania, jak działa wzorzec <b>Strategy</b>. Opiera się on na kompozycji obiektów (czyli na tym, że jeden obiekt może zawierać inne obiekty), stosując podejście polimorficzne (wstrzykiwanie różnych implementacji interfejsu).</p>

<p>Stwórzmy więc nasz wzorzec <b>Strategy</b>. Zaczniemy od napisania interfejsu, który będzie służył do wywoływania metody wskazującej papiery wartościowe do kupienia. Stwórz w pakiecie <code class=" language-java">com<span class="token punctuation">.</span>kodilla<span class="token punctuation">.</span>patterns<span class="token punctuation">.</span>strategy</code> interfejs o nazwie <code class=" language-java">BuyPredictor</code>:</p>


<pre class="line-numbers language-java code-toolbar"><code class=" language-java"><span class="token keyword keyword-package">package</span> com<span class="token punctuation">.</span>kodilla<span class="token punctuation">.</span>patterns<span class="token punctuation">.</span>strategy<span class="token punctuation">;</span>

<span class="token keyword keyword-public">public</span> <span class="token keyword keyword-interface">interface</span> <span class="token class-name">BuyPredictor</span> <span class="token punctuation">{</span>
    String <span class="token function">predictWhatToBuy</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code><div class="toolbar"></div></pre>



<p>Przygotuj również trzy różne implementacje tego interfejsu: <code class=" language-java">AggressivePredictor</code>, <code class=" language-java">BalancedPredictor</code> oraz <code class=" language-java">ConservativePredictor</code>. Stwórz pakiet <code class=" language-java">com<span class="token punctuation">.</span>kodilla<span class="token punctuation">.</span>patterns<span class="token punctuation">.</span>strategy<span class="token punctuation">.</span>predictors</code> i w nim utwórz trzy klasy o podanych przed chwilą nazwach.</p>

<p>Klasa <code class=" language-java">AggressivePredictor<span class="token operator">:</span></code></p>
<pre class="line-numbers language-java code-toolbar"><code class=" language-java"><span class="token keyword keyword-package">package</span> com<span class="token punctuation">.</span>kodilla<span class="token punctuation">.</span>patterns<span class="token punctuation">.</span>strategy<span class="token punctuation">.</span>predictors<span class="token punctuation">;</span>

<span class="token keyword keyword-import">import</span> com<span class="token punctuation">.</span>kodilla<span class="token punctuation">.</span>patterns<span class="token punctuation">.</span>strategy<span class="token punctuation">.</span>BuyPredictor<span class="token punctuation">;</span>

<span class="token keyword keyword-public">public</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">AggressivePredictor</span> <span class="token keyword keyword-implements">implements</span> <span class="token class-name">BuyPredictor</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword keyword-public">public</span> String <span class="token function">predictWhatToBuy</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword keyword-return">return</span> <span class="token string">"[Aggressive predictor] Buy stock of XYZ"</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code><div class="toolbar"></div></pre>

<p>Klasa <code class=" language-java">BalancedPredictor<span class="token operator">:</span></code></p>

<pre class="line-numbers language-java code-toolbar"><code class=" language-java"><span class="token keyword keyword-package">package</span> com<span class="token punctuation">.</span>kodilla<span class="token punctuation">.</span>patterns<span class="token punctuation">.</span>strategy<span class="token punctuation">.</span>predictors<span class="token punctuation">;</span>

<span class="token keyword keyword-import">import</span> com<span class="token punctuation">.</span>kodilla<span class="token punctuation">.</span>patterns<span class="token punctuation">.</span>strategy<span class="token punctuation">.</span>BuyPredictor<span class="token punctuation">;</span>

<span class="token keyword keyword-public">public</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">BalancedPredictor</span> <span class="token keyword keyword-implements">implements</span> <span class="token class-name">BuyPredictor</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword keyword-public">public</span> String <span class="token function">predictWhatToBuy</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword keyword-return">return</span> <span class="token string">"[Balanced predictor] Buy shared units of Fund XYZ"</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code><div class="toolbar"></div></pre>

<p>Klasa <code class=" language-java">ConservativePredictor<span class="token operator">:</span></code></p>

<pre class="line-numbers language-java code-toolbar"><code class=" language-java"><span class="token keyword keyword-package">package</span> com<span class="token punctuation">.</span>kodilla<span class="token punctuation">.</span>patterns<span class="token punctuation">.</span>strategy<span class="token punctuation">.</span>predictors<span class="token punctuation">;</span>

<span class="token keyword keyword-import">import</span> com<span class="token punctuation">.</span>kodilla<span class="token punctuation">.</span>patterns<span class="token punctuation">.</span>strategy<span class="token punctuation">.</span>BuyPredictor<span class="token punctuation">;</span>

<span class="token keyword keyword-public">public</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">ConservativePredictor</span> <span class="token keyword keyword-implements">implements</span> <span class="token class-name">BuyPredictor</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword keyword-public">public</span> String <span class="token function">predictWhatToBuy</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword keyword-return">return</span> <span class="token string">"[Conservative predictor] Buy debentures of XYZ"</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code><div class="toolbar"></div></pre>

<p>Powyższe trzy klasy oczywiście nie pokazują prawdziwego algorytmu inwestycyjnego, a jedynie go udają na potrzeby przykładu :) Jeden (agresywny) proponuje zakup akcji spółki XYZ, drugi (zrównoważony) proponuje zakup jednostek inwestycyjnych w funduszu XYZ, a trzeci (konserwatywny) proponuje zakup obligacji emitowanych przez XYZ.</p>

<p>Dodajmy teraz do klasy <code class=" language-java">Customer</code> pole, do którego będziemy przypisywali właściwy obiekt implementujący interfejs <code class=" language-java">BuyPredictor</code>. Dodamy również metodą pozwalającą ustawić to pole, a także metodę <code class=" language-java"><span class="token function">predict</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code>, wywołującą z obiektu rekomendującego zakup metodą obliczającą aktualną rekomendację zakupową:</p>

<pre class="line-numbers language-java code-toolbar"><code class=" language-java"><span class="token keyword keyword-package">package</span> com<span class="token punctuation">.</span>kodilla<span class="token punctuation">.</span>patterns<span class="token punctuation">.</span>strategy<span class="token punctuation">;</span>

<span class="token keyword keyword-public">public</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">Customer</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-final">final</span> <span class="token keyword keyword-private">private</span> String name<span class="token punctuation">;</span>
    <span class="token keyword keyword-protected"></span><mark><span class="token keyword keyword-protected">protected</span> BuyPredictor buyPredictor<span class="token punctuation">;</span></mark><span class="token punctuation"></span>

    <span class="token keyword keyword-public">public</span> <span class="token function">Customer</span><span class="token punctuation">(</span>String name<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword keyword-this">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword keyword-public">public</span> String <span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword keyword-return">return</span> name<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword keyword-public"></span><mark><span class="token keyword keyword-public">public</span> String <span class="token function">predict</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword keyword-return">return</span> buyPredictor<span class="token punctuation">.</span><span class="token function">predictWhatToBuy</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-void">void</span> <span class="token function">setBuyingStrategy</span><span class="token punctuation">(</span>BuyPredictor buyPredictor<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword keyword-this">this</span><span class="token punctuation">.</span>buyPredictor <span class="token operator">=</span> buyPredictor<span class="token punctuation">;</span>
    <span class="token punctuation">}</span></mark><span class="token punctuation"></span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code><div class="toolbar"></div></pre>

<p>Zmodyfikuj jeszcze kod klas reprezentujących grupy użytkowników tak, aby (w konstruktorze) same określały, jaka ma być ich domyślna strategia inwestycyjna.</p>

<p>Klasa <code class=" language-java">CorporateCustomer</code>:</p>
<pre class="line-numbers language-java code-toolbar"><code class=" language-java"><span class="token keyword keyword-package">package</span> com<span class="token punctuation">.</span>kodilla<span class="token punctuation">.</span>patterns<span class="token punctuation">.</span>strategy<span class="token punctuation">;</span>

<span class="token keyword keyword-import">import</span> com<span class="token punctuation">.</span>kodilla<span class="token punctuation">.</span>patterns<span class="token punctuation">.</span>strategy<span class="token punctuation">.</span>predictors<span class="token punctuation">.</span>BalancedPredictor<span class="token punctuation">;</span>

<span class="token keyword keyword-public">public</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">CorporateCustomer</span> <span class="token keyword keyword-extends">extends</span> <span class="token class-name">Customer</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-public">public</span> <span class="token function">CorporateCustomer</span><span class="token punctuation">(</span>String name<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword keyword-super">super</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword keyword-this"></span><mark><span class="token keyword keyword-this">this</span><span class="token punctuation">.</span>buyPredictor <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token class-name">BalancedPredictor</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></mark><span class="token punctuation"></span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code><div class="toolbar"></div></pre>

<p>Klasa <code class=" language-java">IndividualYoungCustomer</code>:</p>
<pre class="line-numbers language-java code-toolbar"><code class=" language-java"><span class="token keyword keyword-package">package</span> com<span class="token punctuation">.</span>kodilla<span class="token punctuation">.</span>patterns<span class="token punctuation">.</span>strategy<span class="token punctuation">;</span>

<span class="token keyword keyword-import">import</span> com<span class="token punctuation">.</span>kodilla<span class="token punctuation">.</span>patterns<span class="token punctuation">.</span>strategy<span class="token punctuation">.</span>predictors<span class="token punctuation">.</span>AggressivePredictor<span class="token punctuation">;</span>

<span class="token keyword keyword-public">public</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">IndividualYoungCustomer</span> <span class="token keyword keyword-extends">extends</span> <span class="token class-name">Customer</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-public">public</span> <span class="token function">IndividualYoungCustomer</span><span class="token punctuation">(</span>String name<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword keyword-super">super</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword keyword-this"></span><mark><span class="token keyword keyword-this">this</span><span class="token punctuation">.</span>buyPredictor <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token class-name">AggressivePredictor</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></mark><span class="token punctuation"></span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code><div class="toolbar"></div></pre>

<p>Klasa <code class=" language-java">IndividualCustomer</code>:</p>
<pre class="line-numbers language-java code-toolbar"><code class=" language-java"><span class="token keyword keyword-package">package</span> com<span class="token punctuation">.</span>kodilla<span class="token punctuation">.</span>patterns<span class="token punctuation">.</span>strategy<span class="token punctuation">;</span>

<span class="token keyword keyword-import">import</span> com<span class="token punctuation">.</span>kodilla<span class="token punctuation">.</span>patterns<span class="token punctuation">.</span>strategy<span class="token punctuation">.</span>predictors<span class="token punctuation">.</span>ConservativePredictor<span class="token punctuation">;</span>

<span class="token keyword keyword-public">public</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">IndividualCustomer</span> <span class="token keyword keyword-extends">extends</span> <span class="token class-name">Customer</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-public">public</span> <span class="token function">IndividualCustomer</span><span class="token punctuation">(</span>String name<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword keyword-super">super</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword keyword-this"></span><mark><span class="token keyword keyword-this">this</span><span class="token punctuation">.</span>buyPredictor <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token class-name">ConservativePredictor</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></mark><span class="token punctuation"></span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code><div class="toolbar"></div></pre>

<p>I to już jest w zasadzie wszystko. Stworzymy teraz test sprawdzający, czy nasza aplikacja działa poprawnie. W katalogu <i>src/test/java</i> utwórz pakiet <code class=" language-java">com<span class="token punctuation">.</span>kodilla<span class="token punctuation">.</span>patterns<span class="token punctuation">.</span>strategy</code>, a w nim zestaw testów <code class=" language-java">CustomerTestSuite</code>:</p>

<pre class="line-numbers language-java code-toolbar"><code class=" language-java"><span class="token keyword keyword-package">package</span> com<span class="token punctuation">.</span>kodilla<span class="token punctuation">.</span>patterns<span class="token punctuation">.</span>strategy<span class="token punctuation">;</span>

<span class="token keyword keyword-import">import</span> com<span class="token punctuation">.</span>kodilla<span class="token punctuation">.</span>patterns<span class="token punctuation">.</span>strategy<span class="token punctuation">.</span>predictors<span class="token punctuation">.</span>AggressivePredictor<span class="token punctuation">;</span>
<span class="token keyword keyword-import">import</span> org<span class="token punctuation">.</span>junit<span class="token punctuation">.</span>Assert<span class="token punctuation">;</span>
<span class="token keyword keyword-import">import</span> org<span class="token punctuation">.</span>junit<span class="token punctuation">.</span>Test<span class="token punctuation">;</span>

<span class="token keyword keyword-public">public</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">CustomerTestSuite</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-void">void</span> <span class="token function">testDefaultInvestingStrategies</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment" spellcheck="true">//Given</span>
            Customer steven <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token class-name">IndividualCustomer</span><span class="token punctuation">(</span><span class="token string">"Steven Links"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            Customer john <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token class-name">IndividualYoungCustomer</span><span class="token punctuation">(</span><span class="token string">"John Hemerald"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            Customer kodilla <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token class-name">CorporateCustomer</span><span class="token punctuation">(</span><span class="token string">"Kodilla"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token comment" spellcheck="true">//When</span>
            String stevenShouldBuy <span class="token operator">=</span> steven<span class="token punctuation">.</span><span class="token function">predict</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"Steven should: "</span> <span class="token operator">+</span> stevenShouldBuy<span class="token punctuation">)</span><span class="token punctuation">;</span>
            String johnShouldBuy <span class="token operator">=</span> john<span class="token punctuation">.</span><span class="token function">predict</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"John should: "</span> <span class="token operator">+</span> johnShouldBuy<span class="token punctuation">)</span><span class="token punctuation">;</span>
            String kodillaShouldBuy <span class="token operator">=</span> kodilla<span class="token punctuation">.</span><span class="token function">predict</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"Kodilla should: "</span> <span class="token operator">+</span> kodillaShouldBuy<span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token comment" spellcheck="true">//Then</span>
            Assert<span class="token punctuation">.</span><span class="token function">assertEquals</span><span class="token punctuation">(</span><span class="token string">"[Conservative predictor] Buy debentures of XYZ"</span><span class="token punctuation">,</span> stevenShouldBuy<span class="token punctuation">)</span><span class="token punctuation">;</span>
            Assert<span class="token punctuation">.</span><span class="token function">assertEquals</span><span class="token punctuation">(</span><span class="token string">"[Aggressive predictor] Buy stock of XYZ"</span><span class="token punctuation">,</span> johnShouldBuy<span class="token punctuation">)</span><span class="token punctuation">;</span>
            Assert<span class="token punctuation">.</span><span class="token function">assertEquals</span><span class="token punctuation">(</span><span class="token string">"[Balanced predictor] Buy shared units of Fund XYZ"</span><span class="token punctuation">,</span> kodillaShouldBuy<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-void">void</span> <span class="token function">testIndividualInvestingStrategy</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment" spellcheck="true">//Given</span>
            Customer steven <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token class-name">IndividualCustomer</span><span class="token punctuation">(</span><span class="token string">"Steven Links"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token comment" spellcheck="true">//When</span>
            String stevenShouldBuy <span class="token operator">=</span> steven<span class="token punctuation">.</span><span class="token function">predict</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"Steven should: "</span> <span class="token operator">+</span> stevenShouldBuy<span class="token punctuation">)</span><span class="token punctuation">;</span>
            steven<span class="token punctuation">.</span><span class="token function">setBuyingStrategy</span><span class="token punctuation">(</span><span class="token keyword keyword-new">new</span> <span class="token class-name">AggressivePredictor</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            stevenShouldBuy <span class="token operator">=</span> steven<span class="token punctuation">.</span><span class="token function">predict</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"Steven now should: "</span> <span class="token operator">+</span> stevenShouldBuy<span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token comment" spellcheck="true">//Then</span>
            Assert<span class="token punctuation">.</span><span class="token function">assertEquals</span><span class="token punctuation">(</span><span class="token string">"[Aggressive predictor] Buy stock of XYZ"</span><span class="token punctuation">,</span> stevenShouldBuy<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code><div class="toolbar"></div></pre>

<p>Zdefiniowaliśmy dwa testy — jeden o nazwie <code class=" language-java"><span class="token function">testDefaultInvestingStrategies</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code>, sprawdzający, czy strategie inwestycyjne są poprawnie przypisane do różnych klas użytkowników (domyślne strategie), oraz drugi o nazwie <code class=" language-java"><span class="token function">testIndividualInvestingStrategy</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code>, który sprawdza, czy po zmianie strategii inwestowania dla jednego z klientów nowa strategia jest poprawnie przypisana.</p>

<p>Wynik wykonania testów przedstawiono poniżej:</p>
<a class="img-modal-group" href="./Moduł_ 15. Wzorce projektowe cz. 1_files/java-11_09.png"><img src="./Moduł_ 15. Wzorce projektowe cz. 1_files/java-11_09.png" style="width: 100%;"></a>

<p>Wzorzec <b>Strategy</b> jest wygodnym sposobem na wstrzykiwanie do klas fragmentów kodu (tak naprawdę innych obiektów), wykonujących specyficzne operacje. Wzorzec ten umożliwia również zmianę domyślnego kodu na indywidualny, gdy zajdzie taka potrzeba. Zależnie od wybranej strategii :)</p>

                        </div>
                    </div>
                                        <div class="card-block task-card">
                        <h3 id="153-strategy-zadanie-media-spolecznosciowe-uzytkownikow">Zadanie: <span class="task-title">Media społecznościowe użytkowników</span></h3>
                        <div class="task-content">
                            <p>Celem zadania jest stworzenie użytkowników wraz z ich ulubionym kanałem komunikacji społecznościowej (Facebook, Twitter, Snapchat). Wykorzystaj do tego celu wzorzec <b>Strategy</b>, jako wybraną przez użytkownika strategię komunikowania się ze światem zewnętrznym.</p>
<p>Aby zrealizować zadanie:</p>
<ol>
    <li>W katalogu <i>src/main/java</i> utwórz pakiet <code class=" language-java">com<span class="token punctuation">.</span>kodilla<span class="token punctuation">.</span>patterns<span class="token punctuation">.</span>strategy<span class="token punctuation">.</span>social</code>.</li>
    <li>Utwórz klasę <code class=" language-java">User</code>, zawierającą nazwę użytkownika.</li>
    <li>Utwórz dziedziczące z niej klasy <code class=" language-java">Millenials</code>, <code class=" language-java">YGeneration</code> oraz <code class=" language-java">ZGeneration</code>.</li>
    <li>Stwórz interfejs <code class=" language-java">SocialPublisher</code>, zawierający metodę <code class=" language-java"><span class="token function">share</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code>.</li>
    <li>Stwórz implementujące go klasy <code class=" language-java">FacebookPublisher</code>, <code class=" language-java">TwitterPublisher</code> oraz <code class=" language-java">SnapchatPublisher</code> — niech wyświetlają nazwę medium społecznego, którego używają.</li>
    <li>Zastosuj wzorzec <b>Strategy</b> do klas <code class=" language-java">User</code> oraz klas dziedziczących z tej klasy: w konstruktorze ustaw dla danej kategorii użytkownika odpowiednie medium społecznościowe, a w klasie <code class=" language-java">User</code> dodaj metodę <code class=" language-java"><span class="token function">sharePost</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code>.</li>
    <li>W katalogu <i>src/test/java</i> stwórz pakiet <code class=" language-java">com<span class="token punctuation">.</span>kodilla<span class="token punctuation">.</span>patterns<span class="token punctuation">.</span>strategy<span class="token punctuation">.</span>social</code>.</li>
    <li>Utwórz zestaw testów <code class=" language-java">UserTestSuite</code>, a w nim dwa testy: <code class=" language-java"><span class="token function">testDefaultSharingStrategies</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> oraz <code class=" language-java"><span class="token function">testIndividualSharingStrategy</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> sprawdzające, czy domyślnie utworzone obiekty generujące wpisy w mediach społecznościowych są poprawne, a także, czy możliwa jest indywidualna zmiana upodobań użytkownika.</li>
    <li>Kod wyślij do repozytorium GitHub.</li>
</ol>

<p>Link do repozytorium wklej poniżej i wyślij do mentora.</p>

                        </div>
                    </div>
                                        <div class="card-block submodule-footer clearfix  completed ">
                                                <div class="clearfix">
                                                                                <a href="https://kodilla.com/pl/bootcamp-task/146/268026" target="_blank" class="btn btn-info-outline">Podgląd zadania</a>
                            <form target="_blank" class="form-inline project-link-form">
                                <div class="form-group">
                                    <input type="text" name="link" class="form-control" value="https://github.com/tymsocha/spring-first-steps/commits/master">
                                </div>
                                <button type="submit" class="btn  btn-primary ">Wyślij link <i class="fa fa-check"></i></button>
                            </form>
                                                                                                    </div>
                    </div>
                </section>
                                    
                <section id="submodule-382" class="card submodule completed" data-bootcamp-user-submodule-id="268027">
                <!-- klasy dla section: completed current comments -->
                    <div class="card-block submodule-header clearfix">
                        <i class="fa fa-check-circle-o fa-2x"></i>
                        <i class="fa fa-play-circle-o fa-2x"></i>
                        <i class="fa fa-exclamation-circle fa-2x"></i>
                        <i class="fa fa-send-o fa-2x"></i>
                        <h2 class="bootcamp-submodule-name">15.4. <span>Factory</span></h2>
                                            </div>
                    <div class="card-block">
                        <div class="submodule-content">
                            <p>Wzorzec <code class=" language-java">Factory</code> należy do grupy tak zwanych wzorców kreacyjnych (<i>ang. creational design patterns</i>), służących do rozwiązywania typowych problemów podczas tworzenia obiektów.</p>
<h3 id="154-factory-opis-problemu">Opis problemu</h3>
<p>Wzorzec <code class=" language-java">Factory</code> (<i>pol. fabryka</i>) znajduje zastosowanie w sytuacji, gdy często mamy potrzebę tworzenia obiektów z klas posiadających wspólnego przodka lub implementujących ten sam interfejs. Przydaje się on zwłaszcza wtedy, gdy tworzenie tych obiektów jest bardzo złożone, lub gdy wymaga podawania różnych argumentów do konstruktora — w zależności od typu tworzonego obiektu.</p>

<p>Rozpoczniemy od razu od przykładu. Utwórz w katalogu <i>src/main/java</i> pakiet <code class=" language-java">com<span class="token punctuation">.</span>kodilla<span class="token punctuation">.</span>patterns<span class="token punctuation">.</span>factory</code>. W tym pakiecie utwórz interfejs <code class=" language-java">Shape</code>:</p>

<pre class="line-numbers language-java code-toolbar"><code class=" language-java"><span class="token keyword keyword-package">package</span> com<span class="token punctuation">.</span>kodilla<span class="token punctuation">.</span>patterns<span class="token punctuation">.</span>factory<span class="token punctuation">;</span>

<span class="token keyword keyword-public">public</span> <span class="token keyword keyword-interface">interface</span> <span class="token class-name">Shape</span> <span class="token punctuation">{</span>
    String <span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-double">double</span> <span class="token function">getArea</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-double">double</span> <span class="token function">getCircumference</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code><div class="toolbar"></div></pre>

<p>Interfejs ten zawiera trzy metody: <code class=" language-java"><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> (zwracającą nazwę figury), <code class=" language-java"><span class="token function">getArea</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> (zwracającą pole powierzchni figury), oraz <code class=" language-java"><span class="token function">getCircumference</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> (zwracającą obwód figury).</p>

<p>W tym samym pakiecie utwórz teraz klasy reprezentujące trzy figury geometryczne: koło, kwadrat i prostokąt.</p>

<p>Klasa <code class=" language-java">Circle</code>:</p>

<pre class="line-numbers language-java code-toolbar"><code class=" language-java"><span class="token keyword keyword-package">package</span> com<span class="token punctuation">.</span>kodilla<span class="token punctuation">.</span>patterns<span class="token punctuation">.</span>factory<span class="token punctuation">;</span>

<span class="token keyword keyword-public">public</span> <span class="token keyword keyword-final">final</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">Circle</span> <span class="token keyword keyword-implements">implements</span> <span class="token class-name">Shape</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-final">final</span> String name<span class="token punctuation">;</span>
    <span class="token keyword keyword-final">final</span> <span class="token keyword keyword-double">double</span> radius<span class="token punctuation">;</span>

    <span class="token keyword keyword-public">public</span> <span class="token function">Circle</span><span class="token punctuation">(</span><span class="token keyword keyword-final">final</span> String name<span class="token punctuation">,</span> <span class="token keyword keyword-final">final</span> <span class="token keyword keyword-double">double</span> radius<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword keyword-this">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
            <span class="token keyword keyword-this">this</span><span class="token punctuation">.</span>radius <span class="token operator">=</span> radius<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword keyword-public">public</span> String <span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword keyword-return">return</span> name<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-double">double</span> <span class="token function">getArea</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword keyword-return">return</span> Math<span class="token punctuation">.</span>PI <span class="token operator">*</span> Math<span class="token punctuation">.</span><span class="token function">pow</span><span class="token punctuation">(</span>radius<span class="token punctuation">,</span> <span class="token number">2.0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-double">double</span> <span class="token function">getCircumference</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword keyword-return">return</span> <span class="token number">2</span> <span class="token operator">*</span> Math<span class="token punctuation">.</span>PI <span class="token operator">*</span> radius<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code><div class="toolbar"></div></pre>

<p>Konstruktor klasy <code class=" language-java">Circle</code> przyjmuje dwa parametry: nazwę obiektu oraz promień koła. W metodach obliczających pole oraz obwód skorzystano ze stałej <code class=" language-java">PI</code> dostępnej w bibliotece <code class=" language-java">Math</code>.</p>

<p>Klasa <code class=" language-java">Square</code>:</p>
<pre class="line-numbers language-java code-toolbar"><code class=" language-java"><span class="token keyword keyword-package">package</span> com<span class="token punctuation">.</span>kodilla<span class="token punctuation">.</span>patterns<span class="token punctuation">.</span>factory<span class="token punctuation">;</span>

<span class="token keyword keyword-public">public</span> <span class="token keyword keyword-final">final</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">Square</span> <span class="token keyword keyword-implements">implements</span> <span class="token class-name">Shape</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-final">final</span> String name<span class="token punctuation">;</span>
    <span class="token keyword keyword-final">final</span> <span class="token keyword keyword-double">double</span> width<span class="token punctuation">;</span>

    <span class="token keyword keyword-public">public</span> <span class="token function">Square</span><span class="token punctuation">(</span><span class="token keyword keyword-final">final</span> String name<span class="token punctuation">,</span> <span class="token keyword keyword-final">final</span> <span class="token keyword keyword-double">double</span> width<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword keyword-this">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
            <span class="token keyword keyword-this">this</span><span class="token punctuation">.</span>width <span class="token operator">=</span> width<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword keyword-public">public</span> String <span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword keyword-return">return</span> name<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-double">double</span> <span class="token function">getArea</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword keyword-return">return</span> Math<span class="token punctuation">.</span><span class="token function">pow</span><span class="token punctuation">(</span>width<span class="token punctuation">,</span> <span class="token number">2.0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-double">double</span> <span class="token function">getCircumference</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword keyword-return">return</span> <span class="token number">4</span> <span class="token operator">*</span> width<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code><div class="toolbar"></div></pre>

<p>Klasa <code class=" language-java">Square</code> również wymaga dwóch argumentów w konstruktorze, jednak innych niż klasa <code class=" language-java">Circle</code>. Tutaj są to nazwa obiektu oraz długość boku kwadratu.</p>

<p>Klasa <code class=" language-java">Rectangle</code>:</p>



<pre class="line-numbers language-java code-toolbar"><code class=" language-java"><span class="token keyword keyword-package">package</span> com<span class="token punctuation">.</span>kodilla<span class="token punctuation">.</span>patterns<span class="token punctuation">.</span>factory<span class="token punctuation">;</span>

<span class="token keyword keyword-public">public</span> <span class="token keyword keyword-final">final</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">Rectangle</span> <span class="token keyword keyword-implements">implements</span> <span class="token class-name">Shape</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-final">final</span> String name<span class="token punctuation">;</span>
    <span class="token keyword keyword-final">final</span> <span class="token keyword keyword-double">double</span> width<span class="token punctuation">;</span>
    <span class="token keyword keyword-final">final</span> <span class="token keyword keyword-double">double</span> length<span class="token punctuation">;</span>

    <span class="token keyword keyword-public">public</span> <span class="token function">Rectangle</span><span class="token punctuation">(</span><span class="token keyword keyword-final">final</span> String name<span class="token punctuation">,</span> <span class="token keyword keyword-final">final</span> <span class="token keyword keyword-double">double</span> width<span class="token punctuation">,</span> <span class="token keyword keyword-final">final</span> <span class="token keyword keyword-double">double</span> length<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword keyword-this">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
            <span class="token keyword keyword-this">this</span><span class="token punctuation">.</span>width <span class="token operator">=</span> width<span class="token punctuation">;</span>
            <span class="token keyword keyword-this">this</span><span class="token punctuation">.</span>length <span class="token operator">=</span> length<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword keyword-public">public</span> String <span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword keyword-return">return</span> name<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-double">double</span> <span class="token function">getArea</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword keyword-return">return</span> width <span class="token operator">*</span> length<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-double">double</span> <span class="token function">getCircumference</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword keyword-return">return</span> <span class="token number">2</span> <span class="token operator">*</span> width <span class="token operator">+</span> <span class="token number">2</span> <span class="token operator">*</span> length<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code><div class="toolbar"></div></pre>


<p>Klasa <code class=" language-java">Rectangle</code> wymaga podania aż trzech argumentów w konstruktorze: nazwy obiektu, szerokości oraz długości prostokąta.</p>

<p>Gdybyśmy teraz chcieli utworzyć wiele obiektów implementujacych interfejs <code class=" language-java">Shape</code>, to za każdym razem trzeba by było podawać zestawy różnych argumentów w konstruktorach tych obiektów. Nie da się tego łatwo ujednolicić (i użyć na przykład w pętli), ponieważ listy argumentów konstruktorów dla poszczególnych figur są różne. </p>
<h3 id="154-factory-rozwiazanie-wzorzec-factory">Rozwiązanie — wzorzec Factory</h3>
<p>Z pomocą przyjdzie nam właśnie wzorzec <code class=" language-java">Factory</code>. Jest to klasa tworząca obiekty przy pomocy metody <code class=" language-java"><span class="token function">makeShape</span><span class="token punctuation">(</span><span class="token keyword keyword-final">final</span> String shapeClass<span class="token punctuation">)</span></code> o żądanym przez nas typie — podanym jako nazwa typu figury.</p>


<div class="bc-note alert-info">
    <h4 class="alert-heading text-center">Instrukcja switch</h4>
    <p>W sytuacji, gdy trzeba napisać wiele następujących po sobie instrukcji:</p>
    <pre class="line-numbers language-java code-toolbar"><code class=" language-java"><span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span>a <span class="token operator">==</span> val1<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    …
<span class="token punctuation">}</span> <span class="token keyword keyword-else">else</span> <span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span>a <span class="token operator">==</span> val2<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    …
<span class="token punctuation">}</span> <span class="token keyword keyword-else">else</span> <span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span>a <span class="token operator">==</span> val3<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    …
<span class="token punctuation">}</span> <span class="token keyword keyword-else">else</span> <span class="token punctuation">{</span>
    …
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code><div class="toolbar"></div></pre>
    <p>warto skorzystać z instrukcji <code class=" language-java"><span class="token keyword keyword-switch">switch</span></code>. Jej konstrukcja jest następująca:</p>
    <pre class="line-numbers language-java code-toolbar"><code class=" language-java"><span class="token keyword keyword-switch">switch</span> <span class="token punctuation">(</span>a<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-case">case</span> val1 <span class="token operator">:</span> …
                       <span class="token keyword keyword-break">break</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-case">case</span> val2 <span class="token operator">:</span> …
                       <span class="token keyword keyword-break">break</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-case">case</span> val3 <span class="token operator">:</span> …
                       <span class="token keyword keyword-break">break</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-default">default</span><span class="token operator">:</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code><div class="toolbar"></div></pre>
    <p>Instrukcja ta porównuje wartość zmiennej <code class=" language-java">a</code> z kolejnymi wyrażeniami podawanymi po słowie kluczowym <code class=" language-java"><span class="token keyword keyword-case">case</span></code> (tu: z wyrażeniami <code class=" language-java">val1</code>, <code class=" language-java">val2</code>, <code class=" language-java">val3</code>). W sytuacji, gdy wartość zmiennej <code class=" language-java">a</code> i wyrażenia jest zgodna, wykonywany jest kod po dwukropku (może to być pojedyncza instrukcja zakończona średnikiem lub blok kodu otoczony nawiasami "{}"). Wykonywanie instrukcji kończy się na słowie kluczowym <code class=" language-java"><span class="token keyword keyword-break">break</span></code> (jeżeli go nie będzie, wykonają się wszystkie instrukcje, również dla kolejnych wartości porównywanych wyrażeń!). Jedynie w sytuacji, gdy kod kończy wykonywanie metody (czyli zawiera słowo <code class=" language-java"><span class="token keyword keyword-return">return</span></code>), nie jest konieczne stosowanie polecenia <code class=" language-java"><span class="token keyword keyword-break">break</span></code>.</p>
    <p>Jeżeli wartość zmiennej <code class=" language-java">a</code> nie odpowiada żadnemu z wyrażeń, wówczas wykonywany jest kod po słowie kluczowym <code class=" language-java"><span class="token keyword keyword-default">default</span></code>.</p>
</div>


<p>Utwórz więc klasę <code class=" language-java">ShapeFactory</code> w pakiecie <code class=" language-java">com<span class="token punctuation">.</span>kodilla<span class="token punctuation">.</span>patterns<span class="token punctuation">.</span>factory</code>:</p>


<pre class="line-numbers language-java code-toolbar"><code class=" language-java"><span class="token keyword keyword-package">package</span> com<span class="token punctuation">.</span>kodilla<span class="token punctuation">.</span>patterns<span class="token punctuation">.</span>factory<span class="token punctuation">;</span>

<span class="token keyword keyword-public">public</span> <span class="token keyword keyword-final">final</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">ShapeFactory</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-static">static</span> <span class="token keyword keyword-final">final</span> String CIRCLE <span class="token operator">=</span> <span class="token string">"CIRCLE"</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-static">static</span> <span class="token keyword keyword-final">final</span> String SQUARE <span class="token operator">=</span> <span class="token string">"SQUARE"</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-static">static</span> <span class="token keyword keyword-final">final</span> String RECTANGLE <span class="token operator">=</span> <span class="token string">"RECTANGLE"</span><span class="token punctuation">;</span>

    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-final">final</span> Shape <span class="token function">makeShape</span><span class="token punctuation">(</span><span class="token keyword keyword-final">final</span> String shapeClass<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword keyword-switch">switch</span> <span class="token punctuation">(</span>shapeClass<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword keyword-case">case</span> CIRCLE<span class="token operator">:</span>
                    <span class="token keyword keyword-return">return</span> <span class="token keyword keyword-new">new</span> <span class="token class-name">Circle</span><span class="token punctuation">(</span><span class="token string">"The rounded circle"</span><span class="token punctuation">,</span> <span class="token number">4.50</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword keyword-case">case</span> SQUARE<span class="token operator">:</span>
                    <span class="token keyword keyword-return">return</span> <span class="token keyword keyword-new">new</span> <span class="token class-name">Square</span><span class="token punctuation">(</span><span class="token string">"The angular square"</span><span class="token punctuation">,</span> <span class="token number">7.0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword keyword-case">case</span> RECTANGLE<span class="token operator">:</span>
                    <span class="token keyword keyword-return">return</span> <span class="token keyword keyword-new">new</span> <span class="token class-name">Rectangle</span><span class="token punctuation">(</span><span class="token string">"The long rectangle"</span><span class="token punctuation">,</span> <span class="token number">15.0</span><span class="token punctuation">,</span> <span class="token number">2.50</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword keyword-default">default</span><span class="token operator">:</span>
                    <span class="token keyword keyword-return">return</span> null<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code><div class="toolbar"></div></pre>


<p>Na początku zdefiniowaliśmy trzy stałe typu <code class=" language-java">String</code>, których będziemy używali podczas wywoływania metody <code class=" language-java"><span class="token function">makeShape</span><span class="token punctuation">(</span><span class="token keyword keyword-final">final</span> String className<span class="token punctuation">)</span></code>. Zapobiegnie to trudnym do wyśledzenia błędom, jak na przykład literówki w podawanych nazwach obiektów — trzeba podać przecież ciąg znaków zgodny co do litery z oczekiwaną nazwą. Stałe rozwiązują ten problem.</p>

<p>Metoda <code class=" language-java"><span class="token function">makeShape</span><span class="token punctuation">(</span><span class="token keyword keyword-final">final</span> String className<span class="token punctuation">)</span></code> sprawdza, której ze stałych użyto podczas wywołania i tworzy odpowiadający tej stałej obiekt: okrąg, kwadrat lub prostokąt. Wszystkie obiekty implementują interfejs <code class=" language-java">Shape</code>, więc typem zwracanym przez metodę jest właśnie <code class=" language-java">Shape</code>. W przypadku, gdy podamy tekst nieodpowiadający żadnemu ze wzorców (stałych), żaden obiekt nie jest tworzony i zwracana jest wartość <code class=" language-java">null</code>.</p>

<p>Napiszemy teraz test, który pokaże, w jaki sposób wywoływać metodę <code class=" language-java"><span class="token function">makeShape</span><span class="token punctuation">(</span><span class="token keyword keyword-final">final</span> String className<span class="token punctuation">)</span></code>. Sprawdzimy też, czy nasza fabryka działa poprawnie dla wszystkich trzech typów obiektów.</p>

<p>W katalogu <i>src/test/java</i> stwórz pakiet <code class=" language-java">com<span class="token punctuation">.</span>kodilla<span class="token punctuation">.</span>patterns<span class="token punctuation">.</span>factory</code> i utwórz w nim klasę — zestaw testów o nazwie <code class=" language-java">ShapeFactoryTestSuite</code>:</p>


<pre class="line-numbers language-java code-toolbar"><code class=" language-java"><span class="token keyword keyword-package">package</span> com<span class="token punctuation">.</span>kodilla<span class="token punctuation">.</span>patterns<span class="token punctuation">.</span>factory<span class="token punctuation">;</span>

<span class="token keyword keyword-import">import</span> org<span class="token punctuation">.</span>junit<span class="token punctuation">.</span>Assert<span class="token punctuation">;</span>
<span class="token keyword keyword-import">import</span> org<span class="token punctuation">.</span>junit<span class="token punctuation">.</span>Test<span class="token punctuation">;</span>

<span class="token keyword keyword-public">public</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">ShapeFactoryTestSuite</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-void">void</span> <span class="token function">testFactoryCircle</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment" spellcheck="true">//Given</span>
            ShapeFactory factory <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token class-name">ShapeFactory</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment" spellcheck="true">//When</span>
            Shape circle <span class="token operator">=</span> factory<span class="token punctuation">.</span><span class="token function">makeShape</span><span class="token punctuation">(</span>ShapeFactory<span class="token punctuation">.</span>CIRCLE<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment" spellcheck="true">//Then</span>
            Assert<span class="token punctuation">.</span><span class="token function">assertEquals</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span>PI <span class="token operator">*</span> Math<span class="token punctuation">.</span><span class="token function">pow</span><span class="token punctuation">(</span><span class="token number">4.50</span><span class="token punctuation">,</span> <span class="token number">2.0</span><span class="token punctuation">)</span><span class="token punctuation">,</span> circle<span class="token punctuation">.</span><span class="token function">getArea</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            Assert<span class="token punctuation">.</span><span class="token function">assertEquals</span><span class="token punctuation">(</span><span class="token string">"The rounded circle"</span><span class="token punctuation">,</span> circle<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-void">void</span> <span class="token function">testFactorySquare</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment" spellcheck="true">//Given</span>
            ShapeFactory factory <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token class-name">ShapeFactory</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment" spellcheck="true">//When</span>
            Shape square <span class="token operator">=</span> factory<span class="token punctuation">.</span><span class="token function">makeShape</span><span class="token punctuation">(</span>ShapeFactory<span class="token punctuation">.</span>SQUARE<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment" spellcheck="true">//Then</span>
            Assert<span class="token punctuation">.</span><span class="token function">assertEquals</span><span class="token punctuation">(</span><span class="token number">28.0</span><span class="token punctuation">,</span> square<span class="token punctuation">.</span><span class="token function">getCircumference</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            Assert<span class="token punctuation">.</span><span class="token function">assertEquals</span><span class="token punctuation">(</span><span class="token string">"The angular square"</span><span class="token punctuation">,</span> square<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-void">void</span> <span class="token function">testFactoryRectangle</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment" spellcheck="true">//Given</span>
            ShapeFactory factory <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token class-name">ShapeFactory</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment" spellcheck="true">//When</span>
            Shape rectangle <span class="token operator">=</span> factory<span class="token punctuation">.</span><span class="token function">makeShape</span><span class="token punctuation">(</span>ShapeFactory<span class="token punctuation">.</span>RECTANGLE<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment" spellcheck="true">//Then</span>
            Assert<span class="token punctuation">.</span><span class="token function">assertEquals</span><span class="token punctuation">(</span><span class="token number">37.50</span><span class="token punctuation">,</span> rectangle<span class="token punctuation">.</span><span class="token function">getArea</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            Assert<span class="token punctuation">.</span><span class="token function">assertEquals</span><span class="token punctuation">(</span><span class="token string">"The long rectangle"</span><span class="token punctuation">,</span> rectangle<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code><div class="toolbar"></div></pre>


<p>Obiekty tworzymy w teście przy pomocy wywołań postaci: </p>
<p><code class=" language-java">Shape rectangle <span class="token operator">=</span> factory<span class="token punctuation">.</span><span class="token function">makeShape</span><span class="token punctuation">(</span>ShapeFactory<span class="token punctuation">.</span>RECTANGLE<span class="token punctuation">)</span><span class="token punctuation">;</span></code></p>

<p>Napisane testy sprawdzają, czy wyniki działania metod <code class=" language-java"><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code>, <code class=" language-java"><span class="token function">getArea</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> oraz <code class=" language-java"><span class="token function">getCircumference</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> zwracają wartości zgodne z oczekiwanymi.</p>

                        </div>
                    </div>
                                        <div class="card-block task-card">
                        <h3 id="154-factory-zadanie-fabryka-zadan">Zadanie: <span class="task-title">Fabryka zadań :)</span></h3>
                        <div class="task-content">
                            <p>Celem zadania jest utworzenie klasy zgodnie ze wzorcem <code class=" language-java">Factory</code>, która będzie odpowiedzialna za tworzenie różnego typu zadań implementujących interfejs <code class=" language-java">Task</code>.</p>

<p>W celu zrealizowania zadania:</p>
<ol>
    <li>W katalogu <i>src/main/java</i> utwórz pakiet <code class=" language-java">com<span class="token punctuation">.</span>kodilla<span class="token punctuation">.</span>patterns<span class="token punctuation">.</span>factory<span class="token punctuation">.</span>tasks</code>.</li>
    <li>Utwórz w tym pakiecie interfejs <code class=" language-java">Task</code>, który będzie udostępniał następujące metody:
        <ul>
            <li><code class=" language-java"><span class="token function">executeTask</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> — wykonującą zadanie,</li>
            <li><code class=" language-java"><span class="token function">getTaskName</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> — zwracającą nazwę zadania do wykonania,</li>
            <li> <code class=" language-java"><span class="token function">isTaskExecuted</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> — zwracającą <code class=" language-java"><span class="token boolean">true</span></code> lub <code class=" language-java"><span class="token boolean">false</span></code>, w zależności od tego, czy zadanie jest już wykonane.</li>
        </ul>
    </li>
    <li>Kiedy już&nbsp;się z tym uporasz, utwórz klasy reprezentujące różne typy zadań:
    <ul>
        <li><code class=" language-java">ShoppingTask</code> o konstruktorze <code class=" language-java"><span class="token function">ShoppingTask</span><span class="token punctuation">(</span>String taskName<span class="token punctuation">,</span> String whatToBuy<span class="token punctuation">,</span> <span class="token keyword keyword-double">double</span> quantity<span class="token punctuation">)</span></code></li>
        <li><code class=" language-java">PaintingTask</code> o konstruktorze <code class=" language-java"><span class="token function">PaintingTask</span><span class="token punctuation">(</span>String taskName<span class="token punctuation">,</span> String color<span class="token punctuation">,</span> String whatToPaint<span class="token punctuation">)</span></code></li>
        <li><code class=" language-java">DrivingTask</code> o konstruktorze <code class=" language-java"><span class="token function">DrivingTask</span><span class="token punctuation">(</span>String taskName<span class="token punctuation">,</span> String where<span class="token punctuation">,</span> String using<span class="token punctuation">)</span></code></li>
    </ul>
    </li><li>Następnie wymyśl, w jaki sposób przechowywać informację o tym, czy zadanie jest już wykonane i napisz fabrykę <code class=" language-java">TaskFactory</code>, która będzie tworzyła zadania zgodnie ze wzorcem <code class=" language-java">Factory</code>.</li>
    <li>Kiedy kod będzie już gotowy, w katalogu <i>src/test/java</i> utwórz pakiet <code class=" language-java">com<span class="token punctuation">.</span>kodilla<span class="token punctuation">.</span>patterns<span class="token punctuation">.</span>factory<span class="token punctuation">.</span>tasks</code> i stwórz w nim zestaw testów <code class=" language-java">TaskFactoryTestSuite</code> </li>
    <li>Napisz testy sprawdzające, czy fabryka w poprawny sposób tworzy różne typy zadań. </li>
    <li>Stworzony kod prześlij do repozytorium GitHub.</li>
</ol>

        <p>Link do repozytorium wklej poniżej i prześlij do mentora.</p>

                        </div>
                    </div>
                                        <div class="card-block submodule-footer clearfix  completed ">
                                                <div class="clearfix">
                                                                                <a href="https://kodilla.com/pl/bootcamp-task/146/268027" target="_blank" class="btn btn-info-outline">Podgląd zadania</a>
                            <form target="_blank" class="form-inline project-link-form">
                                <div class="form-group">
                                    <input type="text" name="link" class="form-control" value="https://github.com/tymsocha/spring-first-steps/commits/master">
                                </div>
                                <button type="submit" class="btn  btn-primary ">Wyślij link <i class="fa fa-check"></i></button>
                            </form>
                                                                                                    </div>
                    </div>
                </section>
                                    
                <section id="submodule-383" class="card submodule completed" data-bootcamp-user-submodule-id="268028">
                <!-- klasy dla section: completed current comments -->
                    <div class="card-block submodule-header clearfix">
                        <i class="fa fa-check-circle-o fa-2x"></i>
                        <i class="fa fa-play-circle-o fa-2x"></i>
                        <i class="fa fa-exclamation-circle fa-2x"></i>
                        <i class="fa fa-send-o fa-2x"></i>
                        <h2 class="bootcamp-submodule-name">15.5. <span>Builder</span></h2>
                                            </div>
                    <div class="card-block">
                        <div class="submodule-content">
                            <p>Kolejnym z wzorców kreacyjnych jest wzorzec <code class=" language-java">Builder</code> (<i>pol. budowniczy</i>). Znajduje on zastosowanie w sytuacji, gdy mamy do czynienia z dużą ilością parametrów konstruktora lub z parametrami opcjonalnymi.</p>
<h3 id="155-builder-przedstawienie-problemu-na-przykladzie-pizzy">Przedstawienie problemu na przykładzie pizzy</h3>
<p>Aby zobrazować, na czym polega problem, utworzymy klasę, która reprezentuje pizzę :) Stwórz w katalogu <i>src/main/java </i>pakiet <code class=" language-java">com<span class="token punctuation">.</span>kodilla<span class="token punctuation">.</span>patterns<span class="token punctuation">.</span>builder<span class="token punctuation">.</span>pizza</code>, a w nim klasę <code class=" language-java">Pizza</code>:</p>

<pre class="line-numbers language-java code-toolbar"><code class=" language-java"><span class="token keyword keyword-package">package</span> com<span class="token punctuation">.</span>kodilla<span class="token punctuation">.</span>patterns<span class="token punctuation">.</span>builder<span class="token punctuation">.</span>pizza<span class="token punctuation">;</span>

<span class="token keyword keyword-import">import</span> java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>ArrayList<span class="token punctuation">;</span>
<span class="token keyword keyword-import">import</span> java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>List<span class="token punctuation">;</span>

<span class="token keyword keyword-public">public</span> <span class="token keyword keyword-final">final</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">Pizza</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-private">private</span> <span class="token keyword keyword-final">final</span> String bottom<span class="token punctuation">;</span>
    <span class="token keyword keyword-private">private</span> <span class="token keyword keyword-final">final</span> String sauce<span class="token punctuation">;</span>
    <span class="token keyword keyword-private">private</span> <span class="token keyword keyword-final">final</span> List<span class="token operator">&lt;</span>String<span class="token operator">&gt;</span> ingredients <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token class-name">ArrayList</span><span class="token operator">&lt;</span><span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword keyword-public">public</span> <span class="token function">Pizza</span><span class="token punctuation">(</span><span class="token keyword keyword-final">final</span> String bottom<span class="token punctuation">,</span> <span class="token keyword keyword-final">final</span> String sauce<span class="token punctuation">,</span> <span class="token keyword keyword-final">final</span> String<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> ingredients<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword keyword-this">this</span><span class="token punctuation">.</span>bottom <span class="token operator">=</span> bottom<span class="token punctuation">;</span>
            <span class="token keyword keyword-this">this</span><span class="token punctuation">.</span>sauce <span class="token operator">=</span> sauce<span class="token punctuation">;</span>
            <span class="token keyword keyword-for">for</span> <span class="token punctuation">(</span><span class="token keyword keyword-int">int</span> n <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> n <span class="token operator">&lt;</span> ingredients<span class="token punctuation">.</span>length<span class="token punctuation">;</span> n<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    <span class="token keyword keyword-this">this</span><span class="token punctuation">.</span>ingredients<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>ingredients<span class="token punctuation">[</span>n<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword keyword-public">public</span> String <span class="token function">getBottom</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword keyword-return">return</span> bottom<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword keyword-public">public</span> String <span class="token function">getSauce</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword keyword-return">return</span> sauce<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword keyword-public">public</span> List<span class="token operator">&lt;</span>String<span class="token operator">&gt;</span> <span class="token function">getIngredients</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword keyword-return">return</span> ingredients<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword keyword-public">public</span> String <span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword keyword-return">return</span> <span class="token string">"Pizza{"</span> <span class="token operator">+</span>
                            <span class="token string">"bottom='"</span> <span class="token operator">+</span> bottom <span class="token operator">+</span> <span class="token string">'\''</span> <span class="token operator">+</span>
                            <span class="token string">", sauce='"</span> <span class="token operator">+</span> sauce <span class="token operator">+</span> <span class="token string">'\''</span> <span class="token operator">+</span>
                            <span class="token string">", ingredients="</span> <span class="token operator">+</span> ingredients <span class="token operator">+</span>
                            <span class="token string">'}'</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code><div class="toolbar"></div></pre>

<p>Klasa ta posiada trzy pola: <code class=" language-java">bottom</code>, oznaczające rodzaj ciasta pizzy (puszyste, cienkie), <code class=" language-java">sauce</code>, oznaczające rodzaj użytego sosu (pikantny, łagodny), oraz <code class=" language-java">ingredients</code>, stanowiący listę składników na pizzy.</p>

<p></p>

<div class="bc-note alert-info">
    <h4 class="alert-heading text-center">Listy argumentów o zmiennej długości</h4>
    <p>W Javie istnieje możliwość wskazania, że lista argumentów metody będzie posiadała zmienną długość. Robimy to w następujący sposób:</p>
    <pre class="line-numbers language-java code-toolbar"><code class=" language-java"><span class="token keyword keyword-public">public</span> <span class="token keyword keyword-void">void</span> <span class="token function">method</span><span class="token punctuation">(</span><span class="token keyword keyword-double">double</span>… numbers<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-for">for</span><span class="token punctuation">(</span><span class="token keyword keyword-double">double</span> number <span class="token operator">:</span> numbers<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"Number is: "</span> <span class="token operator">+</span> number<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code><div class="toolbar"></div></pre>
    <p>Podajemy nazwę typu, a po nim trzy kropki, a następnie nazwę argumentu. Argumentu możemy następnie używać wewnątrz metody jak zwykłej tablicy, która w poszczególnych elementach zawiera kolejne wartości podane jako argumenty. Metodę tę można wywołać na przykład tak:</p>
    <p>method(10.5, 11.0, 3.70, 2.873, 0.0, 0.115);</p>
    <p>Kolejne wartości oddzielamy po prostu przecinkami.</p>
</div>

<p>Konstruktor naszej klasy <code class=" language-java">Pizza</code> posiada trzy argumenty: <code class=" language-java">bottom</code>, <code class=" language-java">sauce</code> oraz otwartą listę <code class=" language-java">ingredients</code>, reprezentującą poszczególne składniki, jakie mają się znaleźć na pizzy.</p>

<p>Aby zobaczyć, jak możemy utworzyć obiekt klasy <code class=" language-java">Pizza</code>, stworzymy odpowiedni test. Utwórz w katalogu <i>src/test/java</i> pakiet o nazwie <code class=" language-java">com<span class="token punctuation">.</span>kodilla<span class="token punctuation">.</span>patterns<span class="token punctuation">.</span>builder<span class="token punctuation">.</span>pizza</code>, a w nim zestaw testów <code class=" language-java">PizzaTestSuite</code>:</p>


<pre class="line-numbers language-java code-toolbar"><code class=" language-java"><span class="token keyword keyword-package">package</span> com<span class="token punctuation">.</span>kodilla<span class="token punctuation">.</span>patterns<span class="token punctuation">.</span>builder<span class="token punctuation">.</span>pizza<span class="token punctuation">;</span>

<span class="token keyword keyword-import">import</span> org<span class="token punctuation">.</span>junit<span class="token punctuation">.</span>Assert<span class="token punctuation">;</span>
<span class="token keyword keyword-import">import</span> org<span class="token punctuation">.</span>junit<span class="token punctuation">.</span>Test<span class="token punctuation">;</span>

<span class="token keyword keyword-public">public</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">PizzaTestSuite</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-void">void</span> <span class="token function">testPizzaNew</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment" spellcheck="true">//Given</span>
            Pizza pizza <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token class-name">Pizza</span><span class="token punctuation">(</span><span class="token string">"Thin"</span><span class="token punctuation">,</span> <span class="token string">"Spicy"</span><span class="token punctuation">,</span> <span class="token string">"Mushrooms"</span><span class="token punctuation">,</span> <span class="token string">"Onion"</span><span class="token punctuation">,</span> <span class="token string">"Ham"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>pizza<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment" spellcheck="true">//When</span>
            <span class="token keyword keyword-int">int</span> howManyIngredients <span class="token operator">=</span> pizza<span class="token punctuation">.</span><span class="token function">getIngredients</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment" spellcheck="true">//Then</span>
            Assert<span class="token punctuation">.</span><span class="token function">assertEquals</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> howManyIngredients<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code><div class="toolbar"></div></pre>

<p>Widzimy, że wywołanie konstruktora klasy <code class=" language-java">Pizza</code> może być bardzo długie, jeżeli składników będzie wiele. Gdybyśmy wyjątkowo chcieli zamówić pizzę bez sosu, również nie będzie to zbyt proste. Dla tego typu konstruktorów (no dobrze, może dla nieco bardziej skomplikowanych ;) ) warto jest zastosować wzorzec <code class=" language-java">Builder</code>.</p>

<h3 id="155-builder-rozwiazanie-wzorzec-builder">Rozwiązanie - wzorzec Builder.</h3>

<p>Zmodyfikujemy teraz kod klasy <code class=" language-java">Pizza</code> tak, aby w jej wnętrzu pojawiła się tak zwana "klasa wewnętrzna" (<i>ang. inner class</i>) o nazwie <code class=" language-java">PizzaBuilder</code>. Jest to klasa statyczna, możemy więc uzyskać do niej dostęp bez konieczności tworzenia obiektu klasy <code class=" language-java">Pizza</code>. Klasa ta posiada takie same właściwości (pola) jak klasa <code class=" language-java">Pizza</code>, oraz zestaw setterów (ale usunęliśmy im z nazwy "set" na początku, aby używało się ich w bardziej naturalny sposób). Klasa <code class=" language-java">PizzaBuilder</code> posiada również metodę <code class=" language-java"><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code>, która tworzy obiekt klasy <code class=" language-java">Pizza</code>. Konstruktor klasy <code class=" language-java">Pizza</code> zmieniliśmy na prywatny — od teraz jedynym sposobem utworzenia obiektu klasy <code class=" language-java">Pizza</code> jest więc użycie <code class=" language-java">PizzaBuilder</code>. Zauważ, że każda z metod ustawiających właściwości <code class=" language-java">PizzaBuilder</code> zwraca <code class=" language-java"><span class="token keyword keyword-this">this</span></code>, czyli możemy kaskadowo łączyć wywołania setterów. Spójrz na klasę <code class=" language-java">Pizza</code> po zmianach:</p>

<pre class="line-numbers language-java code-toolbar"><code class=" language-java"><span class="token keyword keyword-package">package</span> com<span class="token punctuation">.</span>kodilla<span class="token punctuation">.</span>patterns<span class="token punctuation">.</span>builder<span class="token punctuation">.</span>pizza<span class="token punctuation">;</span>

<span class="token keyword keyword-import">import</span> java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>ArrayList<span class="token punctuation">;</span>
<span class="token keyword keyword-import">import</span> java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>List<span class="token punctuation">;</span>

<span class="token keyword keyword-public">public</span> <span class="token keyword keyword-final">final</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">Pizza</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-private">private</span> <span class="token keyword keyword-final">final</span> String bottom<span class="token punctuation">;</span>
    <span class="token keyword keyword-private">private</span> <span class="token keyword keyword-final">final</span> String sauce<span class="token punctuation">;</span>
    <span class="token keyword keyword-private">private</span> <span class="token keyword keyword-final">final</span> List<span class="token operator">&lt;</span>String<span class="token operator">&gt;</span> ingredients<span class="token punctuation">;</span>

    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-static">static</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">PizzaBuilder</span> <span class="token punctuation">{</span>
            <span class="token keyword keyword-private">private</span> String bottom<span class="token punctuation">;</span>
            <span class="token keyword keyword-private">private</span> String sauce<span class="token punctuation">;</span>
            <span class="token keyword keyword-private">private</span> List<span class="token operator">&lt;</span>String<span class="token operator">&gt;</span> ingredients <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token class-name">ArrayList</span><span class="token operator">&lt;</span><span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token keyword keyword-public">public</span> PizzaBuilder <span class="token function">bottom</span><span class="token punctuation">(</span>String bottom<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    <span class="token keyword keyword-this">this</span><span class="token punctuation">.</span>bottom <span class="token operator">=</span> bottom<span class="token punctuation">;</span>
                    <span class="token keyword keyword-return">return</span> <span class="token keyword keyword-this">this</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>

            <span class="token keyword keyword-public">public</span> PizzaBuilder <span class="token function">sauce</span><span class="token punctuation">(</span>String sauce<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    <span class="token keyword keyword-this">this</span><span class="token punctuation">.</span>sauce <span class="token operator">=</span> sauce<span class="token punctuation">;</span>
                    <span class="token keyword keyword-return">return</span> <span class="token keyword keyword-this">this</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>

            <span class="token keyword keyword-public">public</span> PizzaBuilder <span class="token function">ingredient</span><span class="token punctuation">(</span>String ingredient<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    ingredients<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>ingredient<span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token keyword keyword-return">return</span> <span class="token keyword keyword-this">this</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>

            <span class="token keyword keyword-public">public</span> Pizza <span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    <span class="token keyword keyword-return">return</span> <span class="token keyword keyword-new">new</span> <span class="token class-name">Pizza</span><span class="token punctuation">(</span>bottom<span class="token punctuation">,</span> sauce<span class="token punctuation">,</span> ingredients<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword keyword-private">private</span> <span class="token function">Pizza</span><span class="token punctuation">(</span><span class="token keyword keyword-final">final</span> String bottom<span class="token punctuation">,</span> <span class="token keyword keyword-final">final</span> String sauce<span class="token punctuation">,</span> List<span class="token operator">&lt;</span>String<span class="token operator">&gt;</span> ingredients<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword keyword-this">this</span><span class="token punctuation">.</span>bottom <span class="token operator">=</span> bottom<span class="token punctuation">;</span>
            <span class="token keyword keyword-this">this</span><span class="token punctuation">.</span>sauce <span class="token operator">=</span> sauce<span class="token punctuation">;</span>
            <span class="token keyword keyword-this">this</span><span class="token punctuation">.</span>ingredients <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token class-name">ArrayList</span><span class="token operator">&lt;</span><span class="token operator">&gt;</span><span class="token punctuation">(</span>ingredients<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword keyword-public">public</span> String <span class="token function">getBottom</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword keyword-return">return</span> bottom<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword keyword-public">public</span> String <span class="token function">getSauce</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword keyword-return">return</span> sauce<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword keyword-public">public</span> List<span class="token operator">&lt;</span>String<span class="token operator">&gt;</span> <span class="token function">getIngredients</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword keyword-return">return</span> ingredients<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword keyword-public">public</span> String <span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword keyword-return">return</span> <span class="token string">"Pizza{"</span> <span class="token operator">+</span>
                            <span class="token string">"bottom='"</span> <span class="token operator">+</span> bottom <span class="token operator">+</span> <span class="token string">'\''</span> <span class="token operator">+</span>
                            <span class="token string">", sauce='"</span> <span class="token operator">+</span> sauce <span class="token operator">+</span> <span class="token string">'\''</span> <span class="token operator">+</span>
                            <span class="token string">", ingredients="</span> <span class="token operator">+</span> ingredients <span class="token operator">+</span>
                            <span class="token string">'}'</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code><div class="toolbar"></div></pre>


<p>Spójrz teraz na zmodyfikowany kod testów, aby się przekonać, jak proste i czytelne jest używanie stworzonego <code class=" language-java">Buildera</code>:</p>

<pre class="line-numbers language-java code-toolbar"><code class=" language-java"><span class="token keyword keyword-package">package</span> com<span class="token punctuation">.</span>kodilla<span class="token punctuation">.</span>patterns<span class="token punctuation">.</span>builder<span class="token punctuation">.</span>pizza<span class="token punctuation">;</span>

<span class="token keyword keyword-import">import</span> org<span class="token punctuation">.</span>junit<span class="token punctuation">.</span>Assert<span class="token punctuation">;</span>
<span class="token keyword keyword-import">import</span> org<span class="token punctuation">.</span>junit<span class="token punctuation">.</span>Test<span class="token punctuation">;</span>

<span class="token keyword keyword-public">public</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">PizzaTestSuite</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-void">void</span> <span class="token function">testPizzaNew</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment" spellcheck="true">//Given</span>
            Pizza pizza <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token class-name">Pizza<span class="token punctuation">.</span>PizzaBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                            <span class="token punctuation">.</span><span class="token function">ingredient</span><span class="token punctuation">(</span><span class="token string">"Onion"</span><span class="token punctuation">)</span>
                            <span class="token punctuation">.</span><span class="token function">bottom</span><span class="token punctuation">(</span><span class="token string">"Thin"</span><span class="token punctuation">)</span>
                            <span class="token punctuation">.</span><span class="token function">sauce</span><span class="token punctuation">(</span><span class="token string">"Spicy"</span><span class="token punctuation">)</span>
                            <span class="token punctuation">.</span><span class="token function">ingredient</span><span class="token punctuation">(</span><span class="token string">"Ham"</span><span class="token punctuation">)</span>
                            <span class="token punctuation">.</span><span class="token function">ingredient</span><span class="token punctuation">(</span><span class="token string">"Mushrooms"</span><span class="token punctuation">)</span>
                            <span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>pizza<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment" spellcheck="true">//When</span>
            <span class="token keyword keyword-int">int</span> howManyIngredients <span class="token operator">=</span> pizza<span class="token punctuation">.</span><span class="token function">getIngredients</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment" spellcheck="true">//Then</span>
            Assert<span class="token punctuation">.</span><span class="token function">assertEquals</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> howManyIngredients<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code><div class="toolbar"></div></pre>

<p>Argumenty możemy podawać w dowolnej kolejności, a opcjonalnych nie musimy podawać w ogóle.</p>

<p>Metoda <code class=" language-java"><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> <code class=" language-java">Buildera</code> powinna również sprawdzać, czy podano wszystkie wymagane właściwości, oraz czy mają one sens. W sytuacji, gdy jakiejś wymaganej właściwości brakuje lub właściwości są ze sobą sprzeczne, wówczas <code class=" language-java">Builder</code> powinien wygenerować wyjątek <code class=" language-java">IllegalStateException</code>, który oznacza, że nastąpiła próba utworzenia obiektu klasy, którego stan jest nieprawidłowy. Prześledzimy to na bardziej zaawansowanym przykładzie.</p>
<h3 id="155-builder-rozwiazanie-zaawansowane-gra-w-warcaby">Rozwiązanie zaawansowane — gra w warcaby</h3>
<p>Stworzymy teraz bardziej zaawansowany przykład — będzie nim klasa reprezentująca grę w warcaby. Klasa ta będzie posiadała planszę z pionkami oraz nazwy graczy.</p>

<p>Aby przygotować środowisko, utwórz w katalogu <i>src/main/java</i> pakiet <code class=" language-java">com<span class="token punctuation">.</span>kodilla<span class="token punctuation">.</span>patterns<span class="token punctuation">.</span>builder<span class="token punctuation">.</span>checkers</code>. Warcaby to po angielsku <i>checkers</i>.</p>
<h4>Pionki do gry</h4>
<p>Na początek utworzymy bazową klasę dla figur. Będą dwa rodzaje figur — pionki i damki. Utwórz w pakiecie <code class=" language-java">com<span class="token punctuation">.</span>kodilla<span class="token punctuation">.</span>patterns<span class="token punctuation">.</span>builder<span class="token punctuation">.</span>checkers</code> klasę <code class=" language-java">Figure</code> — jest to bazowa klasa dla figur:</p>

<pre class="line-numbers language-java code-toolbar"><code class=" language-java"><span class="token keyword keyword-package">package</span> com<span class="token punctuation">.</span>kodilla<span class="token punctuation">.</span>patterns<span class="token punctuation">.</span>builder<span class="token punctuation">.</span>checkers<span class="token punctuation">;</span>

<span class="token keyword keyword-public">public</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">Figure</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-static">static</span> <span class="token keyword keyword-final">final</span> String WHITE <span class="token operator">=</span> <span class="token string">"WHITE"</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-static">static</span> <span class="token keyword keyword-final">final</span> String BLACK <span class="token operator">=</span> <span class="token string">"BLACK"</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-final">final</span> <span class="token keyword keyword-private">private</span> String color<span class="token punctuation">;</span>

    <span class="token keyword keyword-public">public</span> <span class="token function">Figure</span><span class="token punctuation">(</span>String color<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span>color<span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>WHITE<span class="token punctuation">)</span> <span class="token operator">||</span> color<span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>BLACK<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    <span class="token keyword keyword-this">this</span><span class="token punctuation">.</span>color <span class="token operator">=</span> color<span class="token punctuation">;</span>
            <span class="token punctuation">}</span> <span class="token keyword keyword-else">else</span> <span class="token punctuation">{</span>
                    <span class="token keyword keyword-throw">throw</span> <span class="token keyword keyword-new">new</span> <span class="token class-name">IllegalStateException</span><span class="token punctuation">(</span><span class="token string">"Figures of checkers should be BLACK or WHITE!"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword keyword-public">public</span> String <span class="token function">getColor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword keyword-return">return</span> color<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code><div class="toolbar"></div></pre>

<p>Klasa ta definiuje właściwość <code class=" language-java">color</code>, która może przyjmować wartości określone stałymi: <code class=" language-java">WHITE</code> lub <code class=" language-java">BLACK</code>. Próba wywołania konstruktora tej klasy z argumentem oznaczającym inny kolor spowoduje wygenerowanie wyjątku <code class=" language-java">IllegalStateException</code>.</p>

<p>Następnie utworzymy klasy reprezentujące pionka oraz damkę. W tym samym pakiecie utwórz dwie kolejne klasy.</p>

<p>Klasa <code class=" language-java">Pawn</code>:</p>
<pre class="line-numbers language-java code-toolbar"><code class=" language-java"><span class="token keyword keyword-package">package</span> com<span class="token punctuation">.</span>kodilla<span class="token punctuation">.</span>patterns<span class="token punctuation">.</span>builder<span class="token punctuation">.</span>checkers<span class="token punctuation">;</span>

<span class="token keyword keyword-public">public</span> <span class="token keyword keyword-final">final</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">Pawn</span> <span class="token keyword keyword-extends">extends</span> <span class="token class-name">Figure</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-public">public</span> <span class="token function">Pawn</span><span class="token punctuation">(</span>String color<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword keyword-super">super</span><span class="token punctuation">(</span>color<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code><div class="toolbar"></div></pre>

<p>Klasa <code class=" language-java">Queen</code>:</p>
<pre class="line-numbers language-java code-toolbar"><code class=" language-java"><span class="token keyword keyword-package">package</span> com<span class="token punctuation">.</span>kodilla<span class="token punctuation">.</span>patterns<span class="token punctuation">.</span>builder<span class="token punctuation">.</span>checkers<span class="token punctuation">;</span>

<span class="token keyword keyword-public">public</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">Queen</span> <span class="token keyword keyword-extends">extends</span> <span class="token class-name">Figure</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-public">public</span> <span class="token function">Queen</span><span class="token punctuation">(</span>String color<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword keyword-super">super</span><span class="token punctuation">(</span>color<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code><div class="toolbar"></div></pre>

<p>Stworzymy również klasę tworzącą obiekty figur zgodną z omówionym wcześniej wzorcem <code class=" language-java">Factory</code>. Utwórz klasę <code class=" language-java">FigureFactory</code>:</p>
<pre class="line-numbers language-java code-toolbar"><code class=" language-java"><span class="token keyword keyword-package">package</span> com<span class="token punctuation">.</span>kodilla<span class="token punctuation">.</span>patterns<span class="token punctuation">.</span>builder<span class="token punctuation">.</span>checkers<span class="token punctuation">;</span>

<span class="token keyword keyword-public">public</span> <span class="token keyword keyword-final">final</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">FigureFactory</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-static">static</span> <span class="token keyword keyword-final">final</span> String PAWN<span class="token operator">=</span><span class="token string">"PAWN"</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-static">static</span> <span class="token keyword keyword-final">final</span> String QUEEN<span class="token operator">=</span><span class="token string">"QUEEN"</span><span class="token punctuation">;</span>

    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-static">static</span> Figure <span class="token function">makeFigure</span><span class="token punctuation">(</span>String figureType<span class="token punctuation">,</span> String color<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span>figureType<span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>PAWN<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    <span class="token keyword keyword-return">return</span> <span class="token keyword keyword-new">new</span> <span class="token class-name">Pawn</span><span class="token punctuation">(</span>color<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span> <span class="token keyword keyword-else">else</span> <span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span>figureType<span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>QUEEN<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    <span class="token keyword keyword-return">return</span> <span class="token keyword keyword-new">new</span> <span class="token class-name">Queen</span><span class="token punctuation">(</span>color<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span> <span class="token keyword keyword-else">else</span> <span class="token punctuation">{</span>
                    <span class="token keyword keyword-throw">throw</span> <span class="token keyword keyword-new">new</span> <span class="token class-name">IllegalStateException</span><span class="token punctuation">(</span><span class="token string">"Type of figure should be pawn or queen"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code><div class="toolbar"></div></pre>

<p>W klasie tej zdefiniowano dwie stałe: <code class=" language-java">PAWN</code> oraz <code class=" language-java">QUEEN</code>, których należy użyć podczas tworzenia obiektów reprezentujących figury.</p>
<h4>Plansza</h4>
<p>W kolejnym kroku utworzymy planszę, na której będą mogły być rozmieszczane figury. W pakiecie <code class=" language-java">com<span class="token punctuation">.</span>kodilla<span class="token punctuation">.</span>patterns<span class="token punctuation">.</span>builder<span class="token punctuation">.</span>checkers</code> utwórz klasę <code class=" language-java">Board</code>:</p>

<pre class="line-numbers language-java code-toolbar"><code class=" language-java"><span class="token keyword keyword-package">package</span> com<span class="token punctuation">.</span>kodilla<span class="token punctuation">.</span>patterns<span class="token punctuation">.</span>builder<span class="token punctuation">.</span>checkers<span class="token punctuation">;</span>

<span class="token keyword keyword-public">public</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">Board</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-final">final</span> <span class="token keyword keyword-static">static</span> <span class="token keyword keyword-int">int</span> MIN_INDEX <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-final">final</span> <span class="token keyword keyword-static">static</span> <span class="token keyword keyword-int">int</span> MAX_INDEX <span class="token operator">=</span> <span class="token number">9</span><span class="token punctuation">;</span>
    Figure<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span> board <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token class-name">Figure</span><span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

    <span class="token keyword keyword-public">public</span> <span class="token function">Board</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword keyword-for">for</span> <span class="token punctuation">(</span><span class="token keyword keyword-int">int</span> n <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> n <span class="token operator">&lt;</span> <span class="token number">10</span><span class="token punctuation">;</span> n<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    board<span class="token punctuation">[</span>n<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token class-name">Figure</span><span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword keyword-public">public</span> Figure <span class="token function">getFigure</span><span class="token punctuation">(</span><span class="token keyword keyword-int">int</span> x<span class="token punctuation">,</span> <span class="token keyword keyword-int">int</span> y<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword keyword-return">return</span> board<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">[</span>y<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-void">void</span> <span class="token function">setFigure</span><span class="token punctuation">(</span>Figure figure<span class="token punctuation">,</span> <span class="token keyword keyword-int">int</span> x<span class="token punctuation">,</span> <span class="token keyword keyword-int">int</span> y<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            board<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">[</span>y<span class="token punctuation">]</span> <span class="token operator">=</span> figure<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword keyword-public">public</span> String <span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            String result <span class="token operator">=</span> <span class="token string">""</span><span class="token punctuation">;</span>
            <span class="token keyword keyword-for">for</span><span class="token punctuation">(</span><span class="token keyword keyword-int">int</span> n <span class="token operator">=</span> MIN_INDEX<span class="token punctuation">;</span> n <span class="token operator">&lt;=</span> MAX_INDEX<span class="token punctuation">;</span> n<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    result <span class="token operator">+=</span> <span class="token string">"|"</span><span class="token punctuation">;</span>
                    <span class="token keyword keyword-for">for</span><span class="token punctuation">(</span><span class="token keyword keyword-int">int</span> k <span class="token operator">=</span> MIN_INDEX<span class="token punctuation">;</span> k <span class="token operator">&lt;=</span> MAX_INDEX<span class="token punctuation">;</span> k<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                            <span class="token keyword keyword-if">if</span><span class="token punctuation">(</span>board<span class="token punctuation">[</span>n<span class="token punctuation">]</span><span class="token punctuation">[</span>k<span class="token punctuation">]</span> <span class="token operator">==</span> null<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    result <span class="token operator">+=</span> <span class="token string">"  "</span><span class="token punctuation">;</span>
                            <span class="token punctuation">}</span> <span class="token keyword keyword-else">else</span> <span class="token punctuation">{</span>
                    result <span class="token operator">+=</span> <span class="token punctuation">(</span>board<span class="token punctuation">[</span>n<span class="token punctuation">]</span><span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getColor</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>Figure<span class="token punctuation">.</span>BLACK<span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token string">"b"</span> <span class="token operator">:</span> <span class="token string">"w"</span><span class="token punctuation">;</span>
                    result <span class="token operator">+=</span> <span class="token punctuation">(</span>board<span class="token punctuation">[</span>n<span class="token punctuation">]</span><span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token keyword keyword-instanceof">instanceof</span> <span class="token class-name">Pawn</span> <span class="token operator">?</span> <span class="token string">"P"</span> <span class="token operator">:</span> <span class="token string">"Q"</span><span class="token punctuation">;</span>
                            <span class="token punctuation">}</span>
                            result <span class="token operator">+=</span> <span class="token string">"|"</span><span class="token punctuation">;</span>
                    <span class="token punctuation">}</span>
                    result <span class="token operator">+=</span> <span class="token string">"\n"</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token keyword keyword-return">return</span> result<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code><div class="toolbar"></div></pre>

<p>Klasa planszy definiuje dwie stałe: <code class=" language-java">MIN_INDEX</code> oraz <code class=" language-java">MAX_INDEX<span class="token punctuation">,</span></code> z których mogą korzystać klasy zewnętrzne, aby określić, jak duża jest plansza. Plansza obecnie ma 10x10 elementów, indeksy mogą mieć więc zakres od 0 do 9. </p>

<p>Kluczowym elementem klasy <code class=" language-java">Board</code> jest dwuwymiarowa tablica <code class=" language-java">board</code>, której elementami mogą być obiekty typu <code class=" language-java">Figure</code>.</p>

<p>Klasa <code class=" language-java">Board</code> posiada konstruktor inicjujący pustą planszę, getter pozwalający pobierać figurę z danego miejsca planszy, oraz setter pozwalający do tego miejsca figurę przypisać.</p>

<p>Klasa posiada również metodę <code class=" language-java"><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code>, przy pomocy której można wyświetlić planszę wraz z figurami. Figury reprezentowane są przez teksty w postaci "bQ", co oznacza czarną damkę (<code class=" language-java">black Queen</code>)</p>
<h4>Warcaby</h4>
<p>Przejdźmy teraz do właściwej klasy reprezentującej grę w warcaby. Utwórz w pakiecie <code class=" language-java">com<span class="token punctuation">.</span>kodilla<span class="token punctuation">.</span>patterns<span class="token punctuation">.</span>builder<span class="token punctuation">.</span>checkers</code> klasę <code class=" language-java">Checkers</code>:</p>

<pre class="line-numbers language-java code-toolbar"><code class=" language-java"><span class="token keyword keyword-package">package</span> com<span class="token punctuation">.</span>kodilla<span class="token punctuation">.</span>patterns<span class="token punctuation">.</span>builder<span class="token punctuation">.</span>checkers<span class="token punctuation">;</span>

<span class="token keyword keyword-public">public</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">Checkers</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-private">private</span> <span class="token keyword keyword-final">final</span> Board board<span class="token punctuation">;</span>
    <span class="token keyword keyword-private">private</span> <span class="token keyword keyword-final">final</span> String playerOne<span class="token punctuation">;</span>
    <span class="token keyword keyword-private">private</span> <span class="token keyword keyword-final">final</span> String playerTwo<span class="token punctuation">;</span>

    <span class="token keyword keyword-private">private</span> <span class="token function">Checkers</span><span class="token punctuation">(</span>Board board<span class="token punctuation">,</span> String playerOne<span class="token punctuation">,</span> String playerTwo<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword keyword-this">this</span><span class="token punctuation">.</span>board <span class="token operator">=</span> board<span class="token punctuation">;</span>
            <span class="token keyword keyword-this">this</span><span class="token punctuation">.</span>playerOne <span class="token operator">=</span> playerOne<span class="token punctuation">;</span>
            <span class="token keyword keyword-this">this</span><span class="token punctuation">.</span>playerTwo <span class="token operator">=</span> playerTwo<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword keyword-public">public</span> Board <span class="token function">getBoard</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword keyword-return">return</span> board<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword keyword-public">public</span> String <span class="token function">getPlayerOne</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword keyword-return">return</span> playerOne<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword keyword-public">public</span> String <span class="token function">getPlayerTwo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword keyword-return">return</span> playerTwo<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-static">static</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">CheckersBuilder</span> <span class="token punctuation">{</span>
            <span class="token keyword keyword-private">private</span> Board board <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token class-name">Board</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword keyword-private">private</span> String playerOne <span class="token operator">=</span> <span class="token string">""</span><span class="token punctuation">;</span>
            <span class="token keyword keyword-private">private</span> String playerTwo <span class="token operator">=</span> <span class="token string">""</span><span class="token punctuation">;</span>

            <span class="token keyword keyword-public">public</span> CheckersBuilder <span class="token function">PlayerOne</span><span class="token punctuation">(</span>String playerOne<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    <span class="token keyword keyword-this">this</span><span class="token punctuation">.</span>playerOne <span class="token operator">=</span> playerOne<span class="token punctuation">;</span>
                    <span class="token keyword keyword-return">return</span> <span class="token keyword keyword-this">this</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>

            <span class="token keyword keyword-public">public</span> CheckersBuilder <span class="token function">PlayerTwo</span><span class="token punctuation">(</span>String playerTwo<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    <span class="token keyword keyword-this">this</span><span class="token punctuation">.</span>playerTwo <span class="token operator">=</span> playerTwo<span class="token punctuation">;</span>
                    <span class="token keyword keyword-return">return</span> <span class="token keyword keyword-this">this</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>

            <span class="token keyword keyword-public">public</span> CheckersBuilder <span class="token function">Figure</span><span class="token punctuation">(</span>String figureType<span class="token punctuation">,</span> String figureColor<span class="token punctuation">,</span> <span class="token keyword keyword-int">int</span> x<span class="token punctuation">,</span> <span class="token keyword keyword-int">int</span> y<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    <span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span>x <span class="token operator">&gt;</span> Board<span class="token punctuation">.</span>MAX_INDEX <span class="token operator">||</span> x <span class="token operator">&lt;</span> Board<span class="token punctuation">.</span>MIN_INDEX <span class="token operator">||</span>
                                  y <span class="token operator">&gt;</span> Board<span class="token punctuation">.</span>MAX_INDEX <span class="token operator">||</span> y <span class="token operator">&lt;</span> Board<span class="token punctuation">.</span>MIN_INDEX<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                            <span class="token keyword keyword-throw">throw</span> <span class="token keyword keyword-new">new</span> <span class="token class-name">IllegalStateException</span><span class="token punctuation">(</span><span class="token string">"x and y should be in range between "</span> <span class="token operator">+</span>
                                  Board<span class="token punctuation">.</span>MIN_INDEX <span class="token operator">+</span> <span class="token string">" and "</span> <span class="token operator">+</span> Board<span class="token punctuation">.</span>MAX_INDEX<span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token punctuation">}</span>
                    <span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span>board<span class="token punctuation">.</span><span class="token function">getFigure</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span> <span class="token operator">==</span> null<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                           board<span class="token punctuation">.</span><span class="token function">setFigure</span><span class="token punctuation">(</span>FigureFactory<span class="token punctuation">.</span><span class="token function">makeFigure</span><span class="token punctuation">(</span>figureType<span class="token punctuation">,</span> figureColor<span class="token punctuation">)</span><span class="token punctuation">,</span> x<span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token punctuation">}</span> <span class="token keyword keyword-else">else</span> <span class="token punctuation">{</span>
                            <span class="token keyword keyword-throw">throw</span> <span class="token keyword keyword-new">new</span> <span class="token class-name">IllegalStateException</span><span class="token punctuation">(</span><span class="token string">"Position "</span> <span class="token operator">+</span> x <span class="token operator">+</span> <span class="token string">","</span> <span class="token operator">+</span> y <span class="token operator">+</span> <span class="token string">" is already occupied"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token punctuation">}</span>
                    <span class="token keyword keyword-return">return</span> <span class="token keyword keyword-this">this</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>

            <span class="token keyword keyword-public">public</span> Checkers <span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    <span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span>playerOne<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                            <span class="token keyword keyword-throw">throw</span> <span class="token keyword keyword-new">new</span> <span class="token class-name">IllegalStateException</span><span class="token punctuation">(</span><span class="token string">"There is no player One specified!"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token punctuation">}</span>
                    <span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span>playerTwo<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                            <span class="token keyword keyword-throw">throw</span> <span class="token keyword keyword-new">new</span> <span class="token class-name">IllegalStateException</span><span class="token punctuation">(</span><span class="token string">"There is no player Two specified"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token punctuation">}</span>
                    <span class="token keyword keyword-boolean">boolean</span> white <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">,</span> black <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
                    <span class="token keyword keyword-for">for</span><span class="token punctuation">(</span><span class="token keyword keyword-int">int</span> x <span class="token operator">=</span> Board<span class="token punctuation">.</span>MIN_INDEX<span class="token punctuation">;</span> x <span class="token operator">&lt;=</span> Board<span class="token punctuation">.</span>MAX_INDEX<span class="token punctuation">;</span> x<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                            <span class="token keyword keyword-for">for</span><span class="token punctuation">(</span><span class="token keyword keyword-int">int</span> y <span class="token operator">=</span> Board<span class="token punctuation">.</span>MIN_INDEX<span class="token punctuation">;</span> y <span class="token operator">&lt;=</span> Board<span class="token punctuation">.</span>MAX_INDEX<span class="token punctuation">;</span> y<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    Figure figure <span class="token operator">=</span> board<span class="token punctuation">.</span><span class="token function">getFigure</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span>figure <span class="token operator">!=</span> null<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                            <span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span>figure<span class="token punctuation">.</span><span class="token function">getColor</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>Figure<span class="token punctuation">.</span>BLACK<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                                    black <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
                            <span class="token punctuation">}</span> <span class="token keyword keyword-else">else</span> <span class="token punctuation">{</span>
                                    white <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
                            <span class="token punctuation">}</span>
                    <span class="token punctuation">}</span>
                           <span class="token punctuation">}</span>
                    <span class="token punctuation">}</span>
                    <span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token punctuation">(</span>black <span class="token operator">&amp;&amp;</span> white<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                            <span class="token keyword keyword-throw">throw</span> <span class="token keyword keyword-new">new</span> <span class="token class-name">IllegalStateException</span><span class="token punctuation">(</span><span class="token string">"There are no figures of both colors on the board!"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token punctuation">}</span>
                    <span class="token keyword keyword-return">return</span> <span class="token keyword keyword-new">new</span> <span class="token class-name">Checkers</span><span class="token punctuation">(</span>board<span class="token punctuation">,</span> playerOne<span class="token punctuation">,</span> playerTwo<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code><div class="toolbar"></div></pre>

<p>Sporo się w tej klasie dzieje. Przyglądnijmy się jej bliżej:</p>
<ul>
    <li>W liniach 8-12 znajduje się prywatny konstruktor, który może być wywołany jedynie z wewnętrznej klasy <code class=" language-java">CheckersBuilder</code>.</li>
    <li>Linie 26-80 zawierają kod wewnętrznej klasy statycznej <code class=" language-java">CheckersBuilder</code>. W dalszych punktach opisujemy jej elementy.</li>
    <li>W liniach 41-53 znajduje się metoda <code class=" language-java"><span class="token function">Figure</span><span class="token punctuation">(</span>String figureType<span class="token punctuation">,</span> String figureColor<span class="token punctuation">,</span> <span class="token keyword keyword-int">int</span> x<span class="token punctuation">,</span> <span class="token keyword keyword-int">int</span> y<span class="token punctuation">)</span></code>, która tworzy nową figurę i wstawia ją na planszę w miejscu o współrzędnych <code class=" language-java">x<span class="token punctuation">,</span> y</code>. Metoda ta sprawdza czy wartości <code class=" language-java">x</code> i <code class=" language-java">y</code> mieszczą się w dozwolonych przedziałach. Jeżeli nie, generowany jest wyjątek <code class=" language-java">IllegalStateException</code>.</li>
    <li>Linie 55-80 to metoda <code class=" language-java"><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code>, która przed utworzeniem obiektu klasy <code class=" language-java">Checkers</code> dokonuje szeregu walidacji:
      <ul>
        <li>W liniach 56-58 sprawdza, czy zainicjowano wartość zmiennej <code class=" language-java">playerOne</code>.</li>
        <li>W liniach 59-61 sprawdza, czy zainicjowano wartość zmiennej <code class=" language-java">playerTwo</code>.</li>
        <li>W liniach 62-77 sprawdza, czy na planszy znajduje się co najmniej po jednej figurze z każdego koloru (<code class=" language-java">BLACK</code> oraz <code class=" language-java">WHITE</code>).</li>
        <li>W linii 78 tworzy obiekt klasy <code class=" language-java">Checkers</code> i go zwraca.</li>
      </ul>
    </li>
</ul>

<p>Przygotujmy teraz test sprawdzający działanie klasy <code class=" language-java">Checkers</code>. W katalogu <i>src/test/java</i> utwórz pakiet <code class=" language-java">com<span class="token punctuation">.</span>kodilla<span class="token punctuation">.</span>patterns<span class="token punctuation">.</span>builder<span class="token punctuation">.</span>checkers</code>, a w nim zestaw testów <code class=" language-java">CheckersTestSuite</code>:</p>

<pre class="line-numbers language-java code-toolbar"><code class=" language-java"><span class="token keyword keyword-package">package</span> com<span class="token punctuation">.</span>kodilla<span class="token punctuation">.</span>patterns<span class="token punctuation">.</span>builder<span class="token punctuation">.</span>checkers<span class="token punctuation">;</span>

<span class="token keyword keyword-import">import</span> org<span class="token punctuation">.</span>junit<span class="token punctuation">.</span>Assert<span class="token punctuation">;</span>
<span class="token keyword keyword-import">import</span> org<span class="token punctuation">.</span>junit<span class="token punctuation">.</span>Test<span class="token punctuation">;</span>

<span class="token keyword keyword-public">public</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">CheckersTestSuite</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-void">void</span> <span class="token function">testCheckersBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment" spellcheck="true">//Given</span>
            Checkers checkers <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token class-name">Checkers<span class="token punctuation">.</span>CheckersBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                            <span class="token punctuation">.</span><span class="token function">PlayerOne</span><span class="token punctuation">(</span><span class="token string">"John"</span><span class="token punctuation">)</span>
                            <span class="token punctuation">.</span><span class="token function">PlayerTwo</span><span class="token punctuation">(</span><span class="token string">"Theresa"</span><span class="token punctuation">)</span>
                            <span class="token punctuation">.</span><span class="token function">Figure</span><span class="token punctuation">(</span>FigureFactory<span class="token punctuation">.</span>PAWN<span class="token punctuation">,</span> Figure<span class="token punctuation">.</span>WHITE<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span>
                            <span class="token punctuation">.</span><span class="token function">Figure</span><span class="token punctuation">(</span>FigureFactory<span class="token punctuation">.</span>PAWN<span class="token punctuation">,</span> Figure<span class="token punctuation">.</span>BLACK<span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">)</span>
                            <span class="token punctuation">.</span><span class="token function">Figure</span><span class="token punctuation">(</span>FigureFactory<span class="token punctuation">.</span>QUEEN<span class="token punctuation">,</span> Figure<span class="token punctuation">.</span>WHITE<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span>
                            <span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>checkers<span class="token punctuation">.</span><span class="token function">getBoard</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token comment" spellcheck="true">//When</span>
            Figure figureOne <span class="token operator">=</span> checkers<span class="token punctuation">.</span><span class="token function">getBoard</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getFigure</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            Figure figureTwo <span class="token operator">=</span> checkers<span class="token punctuation">.</span><span class="token function">getBoard</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getFigure</span><span class="token punctuation">(</span><span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            Figure figureThree <span class="token operator">=</span> checkers<span class="token punctuation">.</span><span class="token function">getBoard</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getFigure</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            Figure figureFour <span class="token operator">=</span> checkers<span class="token punctuation">.</span><span class="token function">getBoard</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getFigure</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token comment" spellcheck="true">//Then</span>
            Assert<span class="token punctuation">.</span><span class="token function">assertEquals</span><span class="token punctuation">(</span>Figure<span class="token punctuation">.</span>WHITE<span class="token punctuation">,</span> figureOne<span class="token punctuation">.</span><span class="token function">getColor</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            Assert<span class="token punctuation">.</span><span class="token function">assertEquals</span><span class="token punctuation">(</span>Pawn<span class="token punctuation">.</span><span class="token keyword keyword-class">class</span><span class="token punctuation">,</span> figureTwo<span class="token punctuation">.</span><span class="token function">getClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            Assert<span class="token punctuation">.</span><span class="token function">assertEquals</span><span class="token punctuation">(</span>Queen<span class="token punctuation">.</span><span class="token keyword keyword-class">class</span><span class="token punctuation">,</span> figureThree<span class="token punctuation">.</span><span class="token function">getClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            Assert<span class="token punctuation">.</span><span class="token function">assertNull</span><span class="token punctuation">(</span>figureFour<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code><div class="toolbar"></div></pre>

<p>Spójrz na linie 10-16 — jak przyjazne w użyciu jest korzystanie z <code class=" language-java">Buildera</code>. Możemy w bardzo czytelny sposób stworzyć grę z dowolnym początkowym ustawieniem figur na planszy. W naszym przykładzie na planszy znajdują się dwa pionki (biały i czarny), oraz jedna damka (biała).</p>

<p>W liniach 20-23 pobieramy wszystkie trzy figury z planszy oraz — dla sprawdzenia — próbujemy pobrać figurę z pola, na którym nie stoi żadna figura.</p>

<p>Seria asercji w liniach 23-26 sprawdza czy pobrane wartości zgadzają się z oczekiwanymi.</p>

<p>Wynik testu poniżej:</p>
<a class="img-modal-group" href="./Moduł_ 15. Wzorce projektowe cz. 1_files/java-11_10.png"><img src="./Moduł_ 15. Wzorce projektowe cz. 1_files/java-11_10.png" style="width: 100%;"></a>
<p>Jak widzisz, wzorzec <code class=" language-java">Builder</code> potrafi spowodować, że skomplikowany proces konstruowania obiektu można zapisać w bardzo czytelny i prosty sposób. <code class=" language-java">Builder</code> jest jednym z chętniej używanych wzorców przez programistów.</p>

                        </div>
                    </div>
                                        <div class="card-block task-card">
                        <h3 id="155-builder-zadanie-komponujemy-wlasnego-bigmaca">Zadanie: <span class="task-title">Komponujemy własnego BigMaca</span></h3>
                        <div class="task-content">
                            <p>Celem zadania jest przećwiczenie użycia wzorca <code class=" language-java">Builder</code>. Stworzymy klasę reprezentującą popularną kanapkę <code class=" language-java">BigMac</code>. Ma ona zestaw domyślnych składników, można ją również "rozszerzać" o niestandardowe składniki, np. bekon.</p>

<p>Aby zrealizować zadanie:</p>
<ol>
    <li>W katalogu <i>src/main/java </i>utwórz pakiet <code class=" language-java">com<span class="token punctuation">.</span>kodilla<span class="token punctuation">.</span>patterns<span class="token punctuation">.</span>builder<span class="token punctuation">.</span>bigmac</code>.</li>
    <li>W tym pakiecie utwórz klasę <code class=" language-java">Bigmac</code>, zawierającą następujące pola: <code class=" language-java">bun</code> (<i>pol. bułka do hamburgera (w odróżnieniu od <code class=" language-java">roll</code> — - zwykłej bułki</i> — może być z sezamem lub bez), <code class=" language-java">burgers</code> — oznaczającą ilość kotletów wołowych w środku kanapki, <code class=" language-java">sauce</code> — oznaczającą rodzaj użytego sosu (standard, 1000 wysp, barbecue), <code class=" language-java">ingredients</code> — oznaczającą listę składników dodatkowych (możliwe wartości to: sałata, cebula, bekon, ogórek, papryczki chilli, pieczarki, krewetki, ser).</li>
    <li>Stwórz wewnętrzną klasę <code class=" language-java">BigmacBuilder</code> zgodną ze wzorcem <code class=" language-java">Builder</code>.</li>
    <li>W katalogu <i>src/test/java</i> utwórz pakiet <code class=" language-java">com<span class="token punctuation">.</span>kodilla<span class="token punctuation">.</span>patterns<span class="token punctuation">.</span>builder<span class="token punctuation">.</span>bigmac</code>.</li>
    <li>Stwórz zestaw testów o nazwie <code class=" language-java">BigmacTestSuite</code> oraz test sprawdzający, czy wzorzec <code class=" language-java">Builder</code> działa prawidłowo.</li>
    <li>Stworzony kod prześlij do repozytorium GitHub.</li>
</ol>

<p>Link do repozytorium wklej poniżej i wyślij do mentora.</p>

                        </div>
                    </div>
                                        <div class="card-block submodule-footer clearfix  completed ">
                                                <div class="clearfix">
                                                                                <a href="https://kodilla.com/pl/bootcamp-task/146/268028" target="_blank" class="btn btn-info-outline">Podgląd zadania</a>
                            <form target="_blank" class="form-inline project-link-form">
                                <div class="form-group">
                                    <input type="text" name="link" class="form-control" value="https://github.com/tymsocha/spring-first-steps/commits/master">
                                </div>
                                <button type="submit" class="btn  btn-primary ">Wyślij link <i class="fa fa-check"></i></button>
                            </form>
                                                                                                    </div>
                    </div>
                </section>
                            </main>
        </div>
    </section>
</main>

<script type="text/x-translation" data-translation-name="SentBootcampLinkReviewFormMessage">Wysłano link do zatwierdzenia</script>
    <div id="alerts">
    <div class="alert alert-danger" role="alert" style="display: none;">
        <i class="fa fa-exclamation" aria-hidden="true"></i>
        <button type="button" class="close" data-hide="alert" aria-label="Zamknij">
            <span aria-hidden="true">×</span>
            <span class="sr-only">Zamknij</span>
        </button>
        <ul>
                        </ul>
    </div>
    <div class="alert alert-success" role="alert" style="display: none;">
        <i class="fa fa-check" aria-hidden="true"></i>
        <button type="button" class="close" data-hide="alert" aria-label="Zamknij">
            <span aria-hidden="true">×</span>
            <span class="sr-only">Zamknij</span>
        </button>
        <ul>
                </ul>
    </div>
    <div class="alert alert-warning" role="alert" style="display: none;">
        <i class="fa fa-warning" aria-hidden="true"></i>
        <button type="button" class="close" data-hide="alert" aria-label="Zamknij">
            <span aria-hidden="true">×</span>
            <span class="sr-only">Zamknij</span>
        </button>
        <ul>
                </ul>
    </div>
    <div class="alert alert-info" role="alert" style="display: none;">
        <i class="fa fa-info" aria-hidden="true"></i>
        <button type="button" class="close" data-hide="alert" aria-label="Zamknij">
            <span aria-hidden="true">×</span>
            <span class="sr-only">Zamknij</span>
        </button>
        <ul>
                    </ul>
    </div>
    <div class="container">
        <div class="alert alert-notify" role="alert" style="display: none;">
            <i class="fa fa-info" aria-hidden="true"></i>
            <button type="button" class="close" data-hide="alert" aria-label="Zamknij">
                <span aria-hidden="true">×</span>
                <span class="sr-only">Zamknij</span>
            </button>
            <ul>
                            </ul>
        </div>
    </div>
</div>
    <div class="modal fade informator-modal" id="informator" tabindex="-1" role="dialog" aria-labelledby="informatorModalLabel" aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <img src="./Moduł_ 15. Wzorce projektowe cz. 1_files/logo-menu.png" alt="Logo Kodilla" class="brand-logo">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <i class="fa fa-times" aria-hidden="true"></i>
                </button>
            </div>
            <div class="modal-body content-container">
                <h3>Zamów szczegółowy informator</h3>
                <h3 data-role="modal-informator-message" class="display-none">Informator został wysłany na podany adres email.</h3>
                <h4>Zostaw email i wyślemy Ci go</h4>
                <form class="row js-ajax-form" data-view-class="InformatorForm" action="https://kodilla.com/pl/download-guide" method="post">
                    <input type="hidden" name="ga-pobieranie-informatora-z-modala" value="wypelnienie">
                    <input type="hidden" name="tags[0]" value="informator">
                                        <div class="user-data-container">
                        <input type="text" class="form-control" name="firstname" placeholder="Imię">
                        <input type="text" class="form-control" name="surname" placeholder="Nazwisko">
                    </div>
                    <div class="user-data-container">
                        <input type="email" class="form-control" name="email" placeholder="Email" required="">
                        <input type="text" class="form-control" name="phone" placeholder="Numer telefonu">
                    </div>
                    <div class="terms-box">
                        <label>
                            <input data-custom-message="Prosimy o zaakceptowanie regulaminu" type="checkbox" class="form-control input-checkbox" required="">
                            <span>Akceptuję <a target="_blank" href="https://kodilla.com/pl/terms">regulamin</a>  i nie wnoszę zastrzeżeń</span>
                        </label>
                    </div>
                    <div class="personal-terms-box">
                        <label>
                            <input data-custom-message="Jeśli chcesz otrzymać dostęp do materiałów, konieczna jest akceptacja obydwu zgód" type="checkbox" class="form-control input-checkbox" required="">
                            <span>Chcę otrzymywać newsletter, informacje o promocjach i produktach dostępnych w Kodilla.
                                <span class="details-button" data-action="show-details" data-identifier="personal-terms-details-informator">Czytaj więcej</span>
                                <span class="display-none" data-identifier="personal-terms-details-informator">Wyrażam zgodę na otrzymywanie informacji handlowych od Kodilla na podany przeze mnie adres e-mail. Zgoda jest dobrowolna, jednakże niezbędna do otrzymywania informacji o produktach, promocjach i o tym, co u nas słychać. Administratorem danych jest Codemy S.A. z siedzibą we Wrocławiu, ul. Racławicka 13. Mam prawo cofnąć zgodę w każdym czasie, jednak wtedy nie będę otrzymywać informacji. Dane mogą być przetwarzane pomimo cofnięcia zgody wyłącznie w takim zakresie i celu, w jakim ich przetwarzanie jest niezbędne do ustalenia, dochodzenia lub obrony roszczeń Administratora w związku z udzieloną zgodą. Mam prawo dostępu do danych, sprostowania, usunięcia, ograniczenia przetwarzania, prawo wniesienia sprzeciwu, skargi do organu nadzorczego i przeniesienia danych. Szczegółowe informacje znajdują się na stronie kodilla.com, zakładka "Polityka Prywatności".</span>
                            </span>
                        </label>
                    </div>
                    <div class="display-none">
                        <input type="text" name="myName" value="">
                    </div>
                    <div class="">
                        <button type="submit" class="btn btn-primary">
                            Pobierz Informator
                            <i data-role="loading-icon" class="fa fa-spinner fa-spin fa-1x fa-fw display-none"></i>
                        </button>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <p>Pobranie informatora do niczego nie zobowiązuje</p>
            </div>
        </div>
    </div>
</div>
<footer class="site-footer">
                <section class="footer-lower">
            <nav class="container">
                <a class="navbar-img" href="https://kodilla.com/pl">
                    <svg id="kodilla-logo" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 168 29.553" width="168" height="30">
                        <defs>
                            <style>
                                .footer-logo-fill {
                                    fill: #fff;
                                }
                            </style>
                        </defs>
                        <g id="Group_1" data-name="Group 1" transform="translate(23.59)">
                            <path id="KODILLA_copy_5_1_" class="footer-logo-fill" d="M78.058,0a14.758,14.758,0,1,0,.075,0Zm0,23.739a8.939,8.939,0,0,1-8.944-8.907V14.8c0-4.957,4.584-.708,8.907-.708,4.919,0,9.019-4.211,9.019.708a8.978,8.978,0,0,1-8.981,8.944Z" transform="translate(-63.3)"></path>
                            <ellipse id="eye_copy_4_1_" class="footer-logo-fill" cx="3.876" cy="3.876" rx="3.876" ry="3.876" transform="translate(9.462 13.2) rotate(-28.436)"></ellipse>
                        </g>
                        <path id="Path_1" data-name="Path 1" class="footer-logo-fill" d="M0,29.819V.9H6.671V13.347L17.255.9h7.491L13.938,13.794,25.491,29.819h-7.6l-8.2-11.665-3.019,3.13v8.5H0Z" transform="translate(0 -0.565)"></path>
                        <path id="Path_2" data-name="Path 2" class="footer-logo-fill" d="M151.4,29.819V.9h10.807a15.515,15.515,0,0,1,6.261,1.155,12.966,12.966,0,0,1,4.509,3.093A12.918,12.918,0,0,1,175.7,9.732a17.245,17.245,0,0,1,.932,5.59,16.821,16.821,0,0,1-1.006,5.963,12.227,12.227,0,0,1-2.907,4.547,13.484,13.484,0,0,1-4.547,2.944,15.964,15.964,0,0,1-5.925,1.043Zm18.41-14.5a11.274,11.274,0,0,0-.522-3.466,7.723,7.723,0,0,0-1.491-2.72,6.616,6.616,0,0,0-2.385-1.752,8.055,8.055,0,0,0-3.205-.6h-4.1v17.18h4.1a7.985,7.985,0,0,0,3.242-.634,6.8,6.8,0,0,0,2.385-1.826,8.286,8.286,0,0,0,1.453-2.72A11.634,11.634,0,0,0,169.81,15.322Z" transform="translate(-94.978 -0.565)"></path>
                        <path id="Path_3" data-name="Path 3" class="footer-logo-fill" d="M228.3,29.819V.9h6.671V29.819Z" transform="translate(-143.219 -0.565)"></path>
                        <path id="Path_4" data-name="Path 4" class="footer-logo-fill" d="M259.9,29.819V.9h6.671V23.968h14.012v5.851Z" transform="translate(-163.043 -0.565)"></path>
                        <path id="Path_5" data-name="Path 5" class="footer-logo-fill" d="M327.371,23.931V.9H320.7V29.819h18.522l2.124-5.851H327.371Z" transform="translate(-201.185 -0.565)"></path>
                        <path id="Path_6" data-name="Path 6" class="footer-logo-fill" d="M388.547.9h6.037L405.13,29.819h-6.857l-2.236-6.484h-9.019l-2.2,6.484H378Zm6.373,17.851L391.528,8.54l-3.466,10.211Z" transform="translate(-237.13 -0.565)"></path>
                    </svg>
                </a>
                <ul class="nav">
                    <li>
                        <a href="https://kodilla.com/pl/terms">Regulamin</a>
                    </li>
                    <li>
                        <a href="https://kodilla.com/pl/privacy-policy">Polityka prywatności</a>
                    </li>
                    <li class="nav-item nav-item-last">© 2019 Kodilla</li>
                </ul>
            </nav>
        </section>
    </footer>


    <!-- Google Tag Manager (noscript) -->
    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-KN2WWBH" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <!-- End Google Tag Manager (noscript) -->

    <script src="./Moduł_ 15. Wzorce projektowe cz. 1_files/jquery-2-8d5dbd436e.1.4.min.js.pobrane"></script>
<script src="./Moduł_ 15. Wzorce projektowe cz. 1_files/js-e653e6aa59.cookie-2.1.0.min.js.pobrane"></script>
<script src="./Moduł_ 15. Wzorce projektowe cz. 1_files/jquery-dateFormat-c03d15d7fb.min.js.pobrane"></script>
<script src="./Moduł_ 15. Wzorce projektowe cz. 1_files/bootstrap-5b56605a6a.min.js.pobrane"></script>
<script src="./Moduł_ 15. Wzorce projektowe cz. 1_files/informator-modal-66dc1c2e7e.js.pobrane"></script>
<script src="./Moduł_ 15. Wzorce projektowe cz. 1_files/fb-ab3c6c714a.js.pobrane"></script>
<script>
    if (document.querySelector('main.editor')) {
        document.querySelector('body').classList.add('editor');
    }
</script>

<!-- ActiveCampaign -->
<script type="text/javascript">
    // Set to false if opt-in required
    var trackByDefault = true;

    function acEnableTracking() {
        var expiration = new Date(new Date().getTime() + 1000 * 60 * 60 * 24 * 30);
        document.cookie = "ac_enable_tracking=1; expires= " + expiration + "; path=/";
        acTrackVisit();
    }

    function acTrackVisit() {
        var trackcmp_email = 't_socha@wp.pl';
        var trackcmp = document.createElement("script");
        trackcmp.async = true;
        trackcmp.type = 'text/javascript';
        trackcmp.src = '//trackcmp.net/visit?actid=649095895&e='+encodeURIComponent(trackcmp_email)+'&r='+encodeURIComponent(document.referrer)+'&u='+encodeURIComponent(window.location.href);
        var trackcmp_s = document.getElementsByTagName("script");
        if (trackcmp_s.length) {
            trackcmp_s[0].parentNode.appendChild(trackcmp);
        } else {
            var trackcmp_h = document.getElementsByTagName("head");
            trackcmp_h.length && trackcmp_h[0].appendChild(trackcmp);
        }
    }

    if (trackByDefault || /(^|; )ac_enable_tracking=([^;]+)/.test(document.cookie)) {
        acEnableTracking();
    }
</script>

        <script src="./Moduł_ 15. Wzorce projektowe cz. 1_files/underscore-min-2f43a3f5e1.js.pobrane"></script>
<script src="./Moduł_ 15. Wzorce projektowe cz. 1_files/backbone-min-c896af5171.js.pobrane"></script>
<script src="./Moduł_ 15. Wzorce projektowe cz. 1_files/backbone-relational-e201c53dfd.min.js.pobrane"></script>
<script src="./Moduł_ 15. Wzorce projektowe cz. 1_files/backbone-super-2df5edc1f1.min.js.pobrane"></script>
<script src="./Moduł_ 15. Wzorce projektowe cz. 1_files/handlebars-v4-a5bc49041d.0.5.min.js.pobrane"></script>
<script src="./Moduł_ 15. Wzorce projektowe cz. 1_files/handlebars-ifCond-4e97d51c76.js.pobrane"></script>
<script src="./Moduł_ 15. Wzorce projektowe cz. 1_files/application-b70821e685.js.pobrane"></script>
<script src="./Moduł_ 15. Wzorce projektowe cz. 1_files/main-2c312ef796.js.pobrane"></script>
<script src="./Moduł_ 15. Wzorce projektowe cz. 1_files/tracking-activities-6271dcc7fd.js.pobrane"></script>
<script src="./Moduł_ 15. Wzorce projektowe cz. 1_files/notifications-e7d515165e.js.pobrane"></script>
<script src="./Moduł_ 15. Wzorce projektowe cz. 1_files/settings-2fedaf9385.js.pobrane"></script>
<script src="./Moduł_ 15. Wzorce projektowe cz. 1_files/delete-account-da2b3de486.js.pobrane"></script>
<script type="text/x-translation" data-translation-name="checkAccountDeleteCalculationMessage">Wynik jest nieprawidłowy</script>
<script src="./Moduł_ 15. Wzorce projektowe cz. 1_files/forms-c89aaf7055.js.pobrane"></script>
<script src="./Moduł_ 15. Wzorce projektowe cz. 1_files/alerts-15632e9137.js.pobrane"></script>
<script src="./Moduł_ 15. Wzorce projektowe cz. 1_files/inpage-alerts-efb6525235.js.pobrane"></script>
<script src="./Moduł_ 15. Wzorce projektowe cz. 1_files/collections-1703f0dc2b.js.pobrane"></script>
<script src="./Moduł_ 15. Wzorce projektowe cz. 1_files/models-bc38b7a45b.js.pobrane"></script>
<script src="./Moduł_ 15. Wzorce projektowe cz. 1_files/knowledge-base-bf25c808b5.js.pobrane"></script>
<script src="./Moduł_ 15. Wzorce projektowe cz. 1_files/learning-program-a2610fc10e.js.pobrane"></script>

    <script src="./Moduł_ 15. Wzorce projektowe cz. 1_files/tether-c2fa918d0f.min.js.pobrane"></script>
    <script src="./Moduł_ 15. Wzorce projektowe cz. 1_files/prism-9800db9c67.min.js.pobrane"></script>

    <script src="./Moduł_ 15. Wzorce projektowe cz. 1_files/bootcamp-0671f4eb7d.js.pobrane"></script>
    <script src="./Moduł_ 15. Wzorce projektowe cz. 1_files/jquery-549adb2ffc.seourl.min.js.pobrane"></script>
    <script src="./Moduł_ 15. Wzorce projektowe cz. 1_files/perfect-scrollbar-f5aa5af13f.jquery.min.js.pobrane"></script>
    <script src="./Moduł_ 15. Wzorce projektowe cz. 1_files/jquery-9595c7d5ed.fancybox.min.js.pobrane"></script>
    <script type="text/javascript">
        $(document).ready(function() {
            $("a.img-modal-group").fancybox();
        });
    </script>

                    <div class="modal fade" tabindex="-1" role="dialog" id="call-us-modal">
    <div class="modal-dialog modal-dialog-callus" role="document">
        <div class="modal-content call-modal">
            <div id="call-us-step1">
                <h2>Umów się na rozmowę z doradcą Kodilli</h2>
                <p>Krok <span>1/2:</span> Podaj numer telefonu</p>
                <form action="https://kodilla.com/pl/call-us/step1" method="post" id="call-us-form1">
                    <input type="tel" name="phone" id="call-us-input-phone" placeholder="737690577">
                    <button class="btn btn-success" id="call-us-submit-phone">Zarezerwuj rozmowę</button>
                </form>
                <p id="call-us-counter-holder" style="display: none;">Dzisiaj już  <span id="call-counter" data-url="https://kodilla.com/pl/call-us/counter">-</span> <span id="call-us-counter-text" data-one=" osoba zamówiła rozmowę z nami." data-few=" osoby zamówiły rozmowę z nami." data-more=" osób zamówiło rozmowę z nami."></span></p>
                <div class="data-protection">
                    <p>Twój numer telefonu nie będzie wykorzystywany w celach marketingowych ani przekazany dalej. Tylko oddzwonimy. Dane są przetwarzane zgodnie z <a href="https://kodilla.com/pl/polityka-prywatnosci">Polityką Prywatności</a>.</p>
                </div>
            </div>

            <div id="call-us-step2" style="display: none;">
                <h2>Wybierz dogodny termin i godzinę na rozmowę z doradcą</h2>
                <p>Krok <span>2/2:</span>
                </p><form action="https://kodilla.com/pl/call-us/step2" method="post" id="call-us-form2">
                    <div class="select-date">
                        <select name="date" id="call-us-input-date">
                        </select>
                        <select name="time" id="call-us-input-time">
                        </select>
                    </div>
                    <button class="btn btn-success" id="call-us-submit-call">Oddzwońcie do mnie!</button>
                </form>
            </div>

            <div id="call-us-step3" style="display: none;">
                <div class="thanks">
                    <i class="fa fa-check-circle" aria-hidden="true"></i>
                    <h2>Dziękujemy za zamowienie rozmowy! Do usłyszenia w wybranym terminie!</h2>
                </div>
            </div>
        </div>
    </div>
</div>



                        <script src="./Moduł_ 15. Wzorce projektowe cz. 1_files/widget.js.pobrane"></script>
    <script type="text/javascript">
        window.fcSettings = {
            token: '99d7ec3c-0f50-4c9a-9f5e-b741bd6a1aa7',
            host: 'https://wchat.freshchat.com',
            locale: 'pl',
            tags: ["logged_in","bc_user","status_aktywny","jdp","jdp_2018-10","ppp","jdp_2018-10_aktywny_ppp"],
            faqTags: {
                tags: ["support"],
                filterType: 'category'
            },
            config: {
                content: {"placeholders":{"search_field":"Przeszukaj FAQ","reply_field":"Odpowiedz","csat_reply":"Wpisz swoj\u0105 odpowied\u017a"},"actions":{"csat_yes":"Tak","csat_no":"Nie","push_notify_yes":"Tak","push_notify_no":"Nie","tab_faq":"FAQ","tab_chat":"CHAT","csat_submit":"Wy\u015blij"},"headers":{"chat":"Napisz do nas","chat_help":"Witaj! W czy mo\u017cemy Ci pom\u00f3c?!","faq":"Baza wiedzy","faq_help":"Przegl\u0105daj FAQ","faq_not_available":"Brak artyku\u0142\u00f3w","faq_search_not_available":"Brak artyku\u0142\u00f3w dla frazy {{query}}","faq_useful":"Jak oceniasz przydatno\u015b\u0107?","faq_thankyou":"Dzi\u0119kujemy za Twoj\u0105 opini\u0119!","faq_message_us":"Napisz do nas!","push_notification":"Nie przegap \u017cadnej odpowiedzi! Zezwalasz na powiadomienia?","csat_question":"Czy uzyska\u0142e\u015b potrzebn\u0105 pomoc?","csat_yes_question":"Jak oceniasz nasze wsparcie?","csat_no_question":"Co mogliby\u015bmy ulepszy\u0107?","csat_thankyou":"Dzi\u0119kujemy Ci za informacje!","csat_rate_here":"Oce\u0144","channel_response":{"offline":"Aktualnie jeste\u015bmy nieobecni","online":{"minutes":{"one":"Odpowiadamy w mniej ni\u017c minut\u0119","more":"Odpowiadamy w mniej ni\u017c {{time}} minut(y)"},"hours":{"one":"Odpowiadamy w mniej ni\u017c godzin\u0119","more":"Odpowiadamy w mniej ni\u017c {{time}} godzin(y)"}}}}}
            }
        };
                    window.fcSettings.lastName = 'Socha';
            window.fcSettings.firstName = 'Tymoteusz';
            window.fcSettings.email = 't_socha@wp.pl';
            window.fcSettings.externalId = 't_socha@wp.pl';
                document.getElementsByTagName('body')[0].classList.add('chat-enabled');
        document.getElementsByTagName('body')[0].classList.add('chat-freshchat');
        window.fcWidget.init( window.fcSettings );
        window.fcWidget.on('widget:closed', function (){
            $('body').addClass('notification-content--visible');
        });
    </script><div id="fc_frame" class="fc-widget-normal"><iframe id="fc_widget" name="fc_widget" title="Chat" frameborder="0" src="./Moduł_ 15. Wzorce projektowe cz. 1_files/saved_resource.html"></iframe></div>
            <div data-role="notifications-wrapper" class="notifications-wrapper"></div>



<script type="text/javascript" id="">!function(b,e,f,g,a,c,d){b.fbq||(a=b.fbq=function(){a.callMethod?a.callMethod.apply(a,arguments):a.queue.push(arguments)},b._fbq||(b._fbq=a),a.push=a,a.loaded=!0,a.version="2.0",a.queue=[],c=e.createElement(f),c.async=!0,c.src=g,d=e.getElementsByTagName(f)[0],d.parentNode.insertBefore(c,d))}(window,document,"script","https://connect.facebook.net/en_US/fbevents.js");fbq("init","389137334769464");fbq("track","PageView");</script>
<noscript><img height="1" width="1" style="display:none" src="https://www.facebook.com/tr?id=389137334769464&amp;ev=PageView&amp;noscript=1"></noscript>

<div id="fb-root" class=" fb_reset"><div style="position: absolute; top: -10000px; width: 0px; height: 0px;"><div><iframe name="fb_xdm_frame_https" frameborder="0" allowtransparency="true" allowfullscreen="true" scrolling="no" allow="encrypted-media" id="fb_xdm_frame_https" aria-hidden="true" title="Facebook Cross Domain Communication Frame" tabindex="-1" src="./Moduł_ 15. Wzorce projektowe cz. 1_files/hfszxhKUMcZ.html" style="border: none;"></iframe></div><div></div></div></div><div id="fc_push_frame"><iframe id="fc_push" src="./Moduł_ 15. Wzorce projektowe cz. 1_files/index.html" frameborder="0"></iframe></div></body></html>