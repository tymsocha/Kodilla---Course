App.Views.Dates=Backbone.View.extend({config:{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",weekday:"long",locale:function(){switch(window.locale){case"no":return"nb";case"uk":return"en";default:return window.locale}},defaultHour:"12:00",zone:"Europe/Warsaw",acceptedFormats:["DD.MM.YYYY HH:mm:ss","YYYY-MM-DD HH:mm:ss Z"]},timeToLocal:function(e,t){var a=App.Views.Dates.prototype.config;moment.locale(a.locale());var o=moment.tz(e,a.acceptedFormats,a.zone),i=moment.tz(o.toDate(),moment.tz.guess());return!!i.isValid()&&{moment:i,formatted:i.format(t),offset:i.format("Z"),tz:i.format("zz")}},addTooltip:function(e,t){if(isDifferentZone){var a="string"==typeof e?moment(e).format("Z"):e.offset,o="string"==typeof e?moment(e).format("zz"):e.tz,i=window.dateTooltipText.replace("GMT",o+" (GMT&nbsp;"+a+")");return' <i class="tooltip-date '+(t&&window.hasWrongTime?"tooltip-date-alert":"")+' " data-toggle="tooltip" data-placement="top" data-html="true" title="'+i+(window.hasWrongTime?"<br><br><span data-alert>"+window.wrongHourNotice+"</span>":"")+'" data-offset="5px 0"></i>'}return!1}}),_.mixin({isMicrosoftBrowser:function(){return/MSIE/i.test(navigator.userAgent)||/Edge/i.test(navigator.userAgent)||/Trident/i.test(navigator.userAgent)},cescape:function(e,t){return t?e.replace(/<c>(.*?)<\/c>/g,function(){return"<c>"+_.escape(arguments[1])+"</c>"}).replace(/<c class="block">(.*?)<\/c>/g,function(){return'<c class="block">'+_.escape(arguments[1])+"</c>"}):urlize(e,{target:"_blank",autoescape:!0}).replace(/&lt;c&gt;/g,"<c>").replace(/&lt;c class=&quot\;block&quot;&gt;/g,'<c class="block">').replace(/&lt;\/c&gt;/g,"</c>").replace(/```([\s\S]*?)```/g,function(){return'<c class="block">'+arguments[1]+"</c>"}).replace(/`(.*?)`/g,function(){return"<c>"+arguments[1]+"</c>"})},browser:function(){var e,t,a,o=navigator.appVersion,i="unknown",n=(e=navigator.userAgent,t=e.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[],a=void 0,/trident/i.test(t[1])?{browser:"IE",version:(a=/\brv[ :]+(\d+)/g.exec(e)||[])[1]||""}:"Chrome"===t[1]&&null!==(a=e.match(/\bOPR\/(\d+)/))?{browser:"Opera",version:a[1]}:(t=t[2]?[t[1],t[2]]:[navigator.appName,o,"-?"],null!==(a=e.match(/version\/(\d+)/i))&&t.splice(1,1,a[1]),{name:t[0],version:t[1]}));switch(!0){case o.indexOf("Win")>-1:i="Windows";break;case o.indexOf("Mac")>-1:i="MacOS";break;case o.indexOf("X11")>-1:i="UNIX";break;case o.indexOf("Linux")>-1:i="Linux"}return n.os=i,n}}),App.Views.Main=Backbone.View.extend({events:{'click [data-toggle="modal"]':"modalToggleFix","click .tabs>a":"toggleTab","click .select-box":"toggleDropdown","click .select-box>li":"pickUpDropdownOption","mouseleave .select-box":"closeExpandedDropdown",'click [data-action="show-details"]':"showDetails",'change input[type="checkbox"][data-custom-message]':"checkIfIsValid","click .cookies-prompt .cookies-submit":"cookiePolicyAccept","click .mobile-menu-separator":"mobileNavCollapse","click .dropdown-toggle":"mobileNavCollapse","click .smooth-scroll":"anchorSmoothScroll"},initialize:function(){this.scrollToBasicPosition(),this.$('[data-toggle="popover"]').popover(),this.$('[data-toggle="tooltip"]').tooltip(),this.ajaxSetup(),this.customizeValidateMessage(),this.$(".lessons h2").prev().addClass("bottom-border-radius"),this.updateTime(),this.initResponsiveNav(),this.alignLastSubmenu()},mobileNavCollapse:function(e){var t=$(e.currentTarget),a=$(".nav-group"),o=$(".dropdown-toggle").closest(".nav-item"),i=t.closest(".nav-item"),n=t.next("ul"),r=a.find("ul"),s=o.find("ul"),c=i.hasClass("open");r.slideUp(),s.slideUp(),a.removeClass("open"),o.removeClass("open"),c||(n.slideDown(),i.addClass("open"))},responsiveNav:function(){if(window.innerWidth>768){var e=$(".navbar-main.light"),t=e.find(".container"),a=e.find(".navbar-brand"),o=e.find("#navbar-main");e.removeClass("collapsed");var i=o.outerWidth(),n=a.width();i>t.width()-n&&e.addClass("collapsed")}},initResponsiveNav:function(){this.responsiveNav(),$(window).on("resize",this.responsiveNav)},alignLastSubmenu:function(){$(".nav-item:visible:last").addClass("nav-item-last")},showDetails:function(e){e.preventDefault();var t=$(e.currentTarget),a=t.next(),o=t.data("identifier");a.length>0?a.removeClass("display-none"):$('[data-identifier="'+o+'"]').removeClass("display-none"),t.remove()},ajaxSetup:function(){$.ajaxSetup({success:function(e){e&&e.redirect&&window.location.replace(e.redirect),e&&e.message&&App.alertsView.showSuccess(e)}}),$.ajaxPrefilter(function(e,t,a){a.setRequestHeader("X-CSRF-TOKEN",$('meta[name="csrf-token"]').attr("content"));var o=e.error;e.error=function(e){var a=e.responseJSON||{};if(a.token)return $('meta[name="csrf-token"]').attr("content",a.token),$.ajax(t);o&&o.apply(this,arguments)||(a.redirect&&window.location.replace(a.redirect),422!=a.status&&403!=a.status||App.alertsView.showErrors(a.responseJSON),422==e.status&&App.alertsView.showErrors(a))}})},modalToggleFix:function(){var e=this;setTimeout(function(){e.$el.addClass("modal-open")},1e3)},toggleTab:function(e){if(!$(e.currentTarget).hasClass("active")){this.$(".tabs>a").removeClass("active"),this.$(".tab-content").removeClass("active"),$(e.currentTarget).addClass("active");var t="#"+$(e.currentTarget).data("tab");this.$(t).addClass("active")}},toggleDropdown:function(e){$(e.currentTarget).toggleClass("expand")},pickUpDropdownOption:function(e){var t=$(e.currentTarget).text(),a=$(e.currentTarget).parent(),o=a.children("input");a.children("li:eq(0)").text(t),o.val(t)},closeExpandedDropdown:function(e){$(e.currentTarget).removeClass("expand")},scrollToBasicPosition:function(){if(this.el.hasAttribute("data-basic-position")){var e=this.$el.data("basic-position");""!==e&&$("html, body").scrollTop($(e).offset().top-$(".bootcamp-nav").height())}},customizeValidateMessage:function(){for(var e=$("input[data-custom-message]"),t=0;t<e.length;t++)e[t].setCustomValidity(e[t].getAttribute("data-custom-message"))},checkIfIsValid:function(e){var t=$(e.currentTarget);return t.prop("checked")||"required"!==t.attr("required")?e.currentTarget.setCustomValidity(""):e.currentTarget.setCustomValidity(e.currentTarget.getAttribute("data-custom-message"))},cookiePolicyAccept:function(e){e.preventDefault(),Cookies.set("cookiePolicy","accepted",{expires:3650}),$(".cookies-prompt").addClass("accepted")},updateTime:function(){$(document).ready(function(){momentReady(function(){$("time").updateElementTime()},function(){$("time").addClass("transformed failed")})})},anchorSmoothScroll:function(e){e.preventDefault();var t=e.currentTarget;if(""!==t.hash){e.preventDefault();var a=t.hash;$("html, body").animate({scrollTop:$(a).offset().top},800,function(){window.location.hash=a})}}}),function(e){e.fn.updateElementTime=function(){return this.each(function(){var t=e(this);switch(t.prop("tagName").toLowerCase()){case"time":var a=t.attr("datetime"),o=t.data("date"),i=t.data("notooltip"),n=void 0!==t.data("markalert"),r=a||o,s=t.data("format");if(r&&moment){var c=App.Views.Dates.prototype.timeToLocal(r,s);if(c){if(t.wrap('<span class="time-wrapper"></span>').addClass("transformed").html(c.formatted),void 0===i){var l=App.Views.Dates.prototype.addTooltip(c,n);t.after(l).next("i").tooltip()}}else t.addClass("transformed failed")}else t.addClass("transformed failed")}})}}(jQuery);